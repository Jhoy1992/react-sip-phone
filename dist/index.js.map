{"version":3,"file":"index.js","sources":["../src/actions/sipAccounts.ts","../src/actions/sipSessions.ts","../src/actions/device.ts","../src/util/audio.ts","../src/util/TonePlayer.ts","../src/util/ToneManager.ts","../src/util/sessions.ts","../src/util/incomingSession.ts","../src/lib/SipAccount.ts","../src/actions/config.ts","../src/SipWrapper.tsx","../src/assets/settings-24px.svg","../src/assets/mic-24px.svg","../src/assets/volume_up-24px.svg","../src/components/Status.tsx","../src/components/phone/DialButton.tsx","../src/util/buttons.ts","../src/components/phone/Dialpad.tsx","../src/assets/phone_paused-24px.svg","../src/components/phone/Hold.tsx","../src/assets/mic_off-24px.svg","../src/components/phone/Mute.tsx","../src/assets/arrow_forward-24px.svg","../src/components/phone/BlindTransfer.tsx","../src/assets/phone_in_talk-24px.svg","../src/assets/call_end-24px.svg","../src/components/phone/AttendedTransfer.tsx","../src/assets/dialpad-24px.svg","../src/components/phone/Phone.tsx","../src/assets/call-24px.svg","../src/components/phone/Incoming.tsx","../src/components/PhoneSessions.tsx","../src/components/Dialstring.tsx","../node_modules/symbol-observable/es/ponyfill.js","../node_modules/symbol-observable/es/index.js","../node_modules/redux/es/redux.js","../src/reducers/sipSessions.ts","../src/reducers/sipAccounts.ts","../src/reducers/device.ts","../src/reducers/config.ts","../src/reducers/index.ts","../src/store/configureStore.ts","../src/index.tsx"],"sourcesContent":["import SIPAccount from \"../lib/SipAccount\"\n\nexport const SIPACCOUNT_UNREGISTERED = 'SIPACCOUNT_UNREGISTERED'\nexport const NEW_USERAGENT = 'NEW_USERAGENT'\nexport const NEW_ACCOUNT = 'NEW_ACCOUNT'\n\nexport const setNewAccount = (account: SIPAccount) => {\n  return { type: NEW_ACCOUNT, payload: account }\n}","import { Session, SessionState } from 'sip.js'\nimport { Dispatch } from 'redux';\n\nexport const NEW_SESSION = 'NEW_SESSION'\nexport const NEW_ATTENDED_TRANSFER = 'NEW_ATTENDED_TRANSFER'\nexport const INCOMING_CALL = 'INCOMING_CALL'\n\nexport const ACCEPT_CALL = 'ACCEPT_CALL'\nexport const DECLINE_CALL = 'DECLINE_CALL'\n\nexport const SIPSESSION_STATECHANGE = 'SIPSESSION_STATECHANGE'\nexport const CLOSE_SESSION = 'CLOSE_SESSION'\n\nexport const SIPSESSION_MAKECALL_REQUEST = 'SIPSESSION_MAKECALL_REQUEST'\nexport const SIPSESSION_MAKECALL_SUCCESS = 'SIPSESSION_MAKECALL_SUCCESS'\nexport const SIPSESSION_MAKECALL_FAIL = 'SIPSESSION_MAKECALL_FAIL'\n\nexport const SIPSESSION_HOLD_REQUEST = 'SIPSESSION_HOLD_REQUEST'\nexport const SIPSESSION_HOLD_SUCCESS = 'SIPSESSION_HOLD_SUCCESS'\nexport const SIPSESSION_HOLD_FAIL = 'SIPSESSION_HOLD_FAIL'\nexport const SIPSESSION_UNHOLD_REQUEST = 'SIPSESSION_UNHOLD_REQUEST'\nexport const SIPSESSION_UNHOLD_SUCCESS = 'SIPSESSION_UNHOLD_SUCCESS'\nexport const SIPSESSION_UNHOLD_FAIL = 'SIPSESSION_UNHOLD_FAIL'\n\nexport const SIPSESSION_MUTE_REQUEST = 'SIPSESSION_MUTE_REQUEST'\nexport const SIPSESSION_MUTE_SUCCESS = 'SIPSESSION_MUTE_SUCCESS'\nexport const SIPSESSION_MUTE_FAIL = 'SIPSESSION_MUTE_FAIL'\nexport const SIPSESSION_UNMUTE_REQUEST = 'SIPSESSION_UNMUTE_REQUEST'\nexport const SIPSESSION_UNMUTE_SUCCESS = 'SIPSESSION_UNMUTE_SUCCESS'\nexport const SIPSESSION_UNMUTE_FAIL = 'SIPSESSION_UNMUTE_FAIL'\n\nexport const SIPSESSION_BLIND_TRANSFER_REQUEST =\n  'SIPSESSION_BLIND_TRANSFER_REQUEST'\nexport const SIPSESSION_BLIND_TRANSFER_SUCCESS =\n  'SIPSESSION_BLIND_TRANSFER_SUCCESS'\nexport const SIPSESSION_BLIND_TRANSFER_FAIL = 'SIPSESSION_BLIND_TRANSFER_FAIL'\n\nexport const SIPSESSION_ATTENDED_TRANSFER_REQUEST =\n  'SIPSESSION_ATTENDED_TRANSFER_REQUEST'\nexport const SIPSESSION_ATTENDED_TRANSFER_PENDING =\n  'SIPSESSION_ATTENDED_TRANSFER_PENDING'\nexport const SIPSESSION_ATTENDED_TRANSFER_READY =\n  'SIPSESSION_ATTENDED_TRANSFER_READY'\nexport const SIPSESSION_ATTENDED_TRANSFER_CANCEL =\n  'SIPSESSION_ATTENDED_TRANSFER_CANCEL'\nexport const SIPSESSION_ATTENDED_TRANSFER_FAIL =\n  'SIPSESSION_ATTENDED_TRANSFER_FAIL'\nexport const SIPSESSION_ATTENDED_TRANSFER_SUCCESS =\n  'SIPSESSION_ATTENDED_TRANSFER_SUCCESS'\n\nexport const stateChange = (newState: SessionState, id: string) => (dispatch: Dispatch) => {\n  dispatch({\n    type: SIPSESSION_STATECHANGE,\n    payload: { state: newState, id }\n  })\n}\n\nexport const closeSession = (id: string) => (dispatch: Dispatch) => {\n  dispatch({\n    type: CLOSE_SESSION,\n    payload: id\n  })\n}\n\nexport const acceptCall = (session: Session) => {\n  return { type: ACCEPT_CALL, payload: session }\n}\n\nexport const declineCall = (session: Session) => {\n  return { type: DECLINE_CALL, payload: session }\n}\n\nexport const endCall = (sessionId: string) => {\n  return { type: CLOSE_SESSION, payload: sessionId }\n}\n\nexport const holdCallRequest = (session: Session) => {\n  if (\n    !session.sessionDescriptionHandler ||\n    session.state !== SessionState.Established\n  ) {\n    return { type: SIPSESSION_HOLD_FAIL }\n  }\n  try {\n    session.invite({\n      sessionDescriptionHandlerModifiers: [\n        session.sessionDescriptionHandler!.holdModifier\n      ]\n    })\n    return { type: SIPSESSION_HOLD_REQUEST, payload: session.id }\n  } catch (err) {\n    return { type: SIPSESSION_HOLD_FAIL }\n  }\n}\n\n//maps thru onHold and sessions arrays looking for a call to put on hold before unHolding a call \nexport const unHoldCallRequest = (_session: Session, onHolds: Array<any>, sessions: Array<any>) => (dispatch: Dispatch) => {\n\n  //checks for sessions that exist but are not on hold\n  for (let [sessionId, session] of Object.entries(sessions)) {\n    if (\n      sessionId in onHolds === false &&\n      sessionId !== _session.id\n    ) {\n\n      // hold session if not on hold\n      try {\n        session.invite({\n          sessionDescriptionHandlerModifiers: [\n            session.sessionDescriptionHandler!.holdModifier\n          ]\n        })\n        dispatch({ type: SIPSESSION_HOLD_REQUEST, payload: session.id })\n      } catch (err) {\n        dispatch({ type: SIPSESSION_HOLD_FAIL })\n      }\n\n    }\n  }\n  // unhold original call \n  try {\n    _session.invite()\n    dispatch({ type: SIPSESSION_UNHOLD_REQUEST, payload: _session.id })\n  } catch (err) {\n    dispatch({ type: SIPSESSION_UNHOLD_FAIL })\n  }\n  return;\n}\n\nexport const blindTransferRequest = () => (dispatch: Dispatch) => {\n  dispatch({\n    type: SIPSESSION_BLIND_TRANSFER_REQUEST\n  })\n}\n\nexport const blindTransferSuccess = () => (dispatch: Dispatch) => {\n  dispatch({\n    type: SIPSESSION_BLIND_TRANSFER_SUCCESS\n  })\n}\n\nexport const blindTransferFail = () => (dispatch: Dispatch) => {\n  dispatch({\n    type: SIPSESSION_BLIND_TRANSFER_FAIL\n  })\n}\n\nexport const attendedTransferRequest = () => (dispatch: Dispatch) => {\n  dispatch({\n    type: SIPSESSION_ATTENDED_TRANSFER_REQUEST,\n  })\n}\n\nexport const attendedTransferCancel = () => (dispatch: Dispatch) => {\n  dispatch({\n    type: SIPSESSION_ATTENDED_TRANSFER_CANCEL\n  })\n}\n\nexport const attendedTransferReady = () => (dispatch: Dispatch) => {\n  dispatch({\n    type: SIPSESSION_ATTENDED_TRANSFER_READY\n  })\n}\n\nexport const attendedTransferPending = () => (dispatch: Dispatch) => {\n  dispatch({\n    type: SIPSESSION_ATTENDED_TRANSFER_PENDING\n  })\n}\n\nexport const attendedTransferSuccess = () => (dispatch: Dispatch) => {\n  dispatch({\n    type: SIPSESSION_ATTENDED_TRANSFER_SUCCESS\n  })\n}\nexport const attendedTransferFail = () => (dispatch: Dispatch) => {\n  dispatch({\n    type: SIPSESSION_ATTENDED_TRANSFER_FAIL,\n  })\n}\n\nexport const muteRequest = () => (dispatch: Dispatch) => {\n  dispatch({\n    type: SIPSESSION_MUTE_REQUEST\n  })\n}\n\nexport const muteSuccess = () => (dispatch: Dispatch) => {\n  dispatch({\n    type: SIPSESSION_MUTE_SUCCESS\n  })\n}\n\nexport const muteFail = () => (dispatch: Dispatch) => {\n  dispatch({\n    type: SIPSESSION_MUTE_FAIL\n  })\n}\n\nexport const unMuteRequest = () => (dispatch: Dispatch) => {\n  dispatch({\n    type: SIPSESSION_UNMUTE_REQUEST\n  })\n}\n\nexport const unMuteSuccess = () => (dispatch: Dispatch) => {\n  dispatch({\n    type: SIPSESSION_UNMUTE_SUCCESS\n  })\n}\n\nexport const unMuteFail = () => (dispatch: Dispatch) => {\n  dispatch({\n    type: SIPSESSION_UNMUTE_FAIL\n  })\n}\n\n","\nexport const AUDIO_INPUT_DEVICES_DETECTED = 'AUDIO_INPUT_DEVICES_DETECTED'\nexport const AUDIO_OUTPUT_DEVICES_DETECTED = 'AUDIO_OUTPUT_DEVICES_DETECTED'\nexport const REMOTE_AUDIO_CONNECTED = 'REMOTE_AUDIO_CONNECTED'\nexport const LOCAL_AUDIO_CONNECTED = 'LOCAL_AUDIO_CONNECTED'\nexport const SET_PRIMARY_OUTPUT = 'SET_PRIMARY_OUTPUT'\nexport const SET_PRIMARY_INPUT = 'SET_PRIMARY_INPUT'\n\n\nexport const getInputAudioDevices = () => {\n  let inputArray: Array<Object> = []\n  navigator.mediaDevices\n    .enumerateDevices()\n    .then(function (devices: Array<Object>) {\n      devices.forEach(function (device: any) {\n        if (device.kind === 'audioinput') {\n          inputArray.push(device)\n        }\n      })\n    })\n  return {\n    type: AUDIO_INPUT_DEVICES_DETECTED,\n    payload: inputArray\n  }\n}\n\nexport const getOutputAudioDevices = () => {\n  let outputArray: Array<Object> = []\n  navigator.mediaDevices\n    .enumerateDevices()\n    .then(function (devices: Array<Object>) {\n      devices.forEach(function (device: any) {\n        if (device.kind === 'audiooutput') {\n          outputArray.push(device)\n        }\n      })\n    })\n  return {\n    type: AUDIO_OUTPUT_DEVICES_DETECTED,\n    payload: outputArray\n  }\n}\n\nexport const setPrimaryOutput = (id: string) => {\n  // TODO other stuff for changing the device\n  return {\n    type: SET_PRIMARY_OUTPUT,\n    payload: id\n  }\n}\n\nexport const setPrimaryInput = (id: string) => {\n  // TODO other stuff for changing the device\n  return {\n    type: SET_PRIMARY_INPUT,\n    payload: id\n  }\n}\n\n\n\n\n","import { phoneStore } from '../index'\nimport { Session } from 'sip.js'\n\nimport {\n  REMOTE_AUDIO_CONNECTED,\n  LOCAL_AUDIO_CONNECTED\n} from '../actions/device'\n\n//adds track from getReceiver stream to <audio id={sessionId}> in Phone.tsx\nexport const setRemoteAudio = (session: Session) => {\n  const state = phoneStore.getState()\n  //@ts-ignore\n  const deviceId = state.device.primaryAudioOutput\n  const mediaElement = document.getElementById(session.id)\n  const remoteStream = new MediaStream()\n  //@ts-ignore\n  session.sessionDescriptionHandler.peerConnection\n    .getReceivers()\n    .forEach((receiver: any) => {\n      if (receiver.track) {\n        remoteStream.addTrack(receiver.track)\n      }\n    })\n  if (mediaElement) {\n    // @ts-ignore\n    mediaElement.setSinkId(\n      // audio output device_id\n      deviceId\n    )\n      .then(() => {\n        // @ts-ignore\n        mediaElement.srcObject = remoteStream\n        //@ts-ignore\n        mediaElement.play()\n      })\n  } else {\n    console.log('no media Element')\n  }\n  phoneStore.dispatch({\n    type: REMOTE_AUDIO_CONNECTED\n  })\n}\n\n//creates new audio track then replaces audio track in getSender stream w/ new track\nexport const setLocalAudio = (session: Session) => {\n  const state = phoneStore.getState()\n  //@ts-ignore\n  const deviceId = state.device.primaryAudioInput\n  // @ts-ignore\n  session.sessionDescriptionHandler.peerConnection\n    .getSenders()\n    .forEach(function (sender: any) {\n      console.log(sender)\n\n      if (sender.track && sender.track.kind === 'audio') {\n        let audioDeviceId =\n          // audio input device_id\n          // 'default'\n          deviceId\n        navigator.mediaDevices\n          // @ts-ignore\n\n          //creates a stream w track\n          .getUserMedia({ audio: { deviceId: audioDeviceId } })\n          .then(function (stream) {\n            let audioTrack = stream.getAudioTracks()\n            sender.replaceTrack(audioTrack[0])\n          })\n      }\n    })\n  phoneStore.dispatch({\n    type: LOCAL_AUDIO_CONNECTED\n  })\n}\n\nexport const cleanupMedia = (sessionId: string) => {\n  const mediaElement = document.getElementById(sessionId)\n  if (mediaElement) {\n    // @ts-ignore\n    mediaElement.srcObject = null\n    // @ts-ignore\n    mediaElement.pause()\n  }\n}\n","//@ts-ignore\nimport Tone from 'tone'\n\nconst DTMF_MATRIX = {\n  1: [697, 1209],\n  2: [697, 1336],\n  3: [697, 1477],\n  A: [697, 1633],\n  4: [770, 1209],\n  5: [770, 1336],\n  6: [770, 1477],\n  B: [770, 1633],\n  7: [852, 1209],\n  8: [852, 1336],\n  9: [852, 1477],\n  C: [852, 1633],\n  0: [941, 1209],\n  '*': [941, 1336],\n  '#': [941, 1477],\n  D: [941, 1633]\n}\n\nconst Synth = Tone.PolySynth && new Tone.PolySynth(2, Tone.Synth)\nconst FMSynth = Tone.PolySynth && new Tone.PolySynth(2, Tone.FMSynth)\n\nexport const playDTMF = (key: any, deviceId: string) => {\n  let obj = DTMF_MATRIX[key]\n  if (!obj) {\n    console.log('invalid DTMF tone input')\n  }\n  Synth.volume.value = -22\n  Synth.set({\n    oscillator: {\n      type: 'sine'\n    },\n    envelope: {\n      attack: 0.02,\n      decay: 0.1,\n      sustain: 0.2,\n      release: 0.02\n    }\n  })\n\n  if (deviceId !== 'default') {\n    const mediaElement = document.getElementById('tone')\n\n\n    if (mediaElement) {\n      let dest = Tone.context.createMediaStreamDestination()\n      Synth.connect(dest)\n      // @ts-ignore\n      mediaElement.setSinkId(\n        // audio output device_id\n        deviceId\n      ).then(() => {\n        // @ts-ignore\n        mediaElement.srcObject = dest.stream\n        //@ts-ignore\n\n        mediaElement.play()\n      })\n\n\n    }\n  } else {\n    Synth.toMaster()\n  }\n\n  Synth.triggerAttackRelease(obj, 0.3)\n}\n\nexport const callDisconnect = (deviceId: string) => {\n  FMSynth.triggerAttack(['C4', 'E4'], '+0.1')\n  FMSynth.triggerRelease(['C4', 'E4'], '+0.14')\n  FMSynth.triggerAttack(['D4', 'G4'], '+0.14')\n  FMSynth.triggerRelease(['D4', 'G4'], '+0.18')\n  if (deviceId !== 'default') {\n    const mediaElement = document.getElementById('tone')\n\n\n    if (mediaElement) {\n      let dest = Tone.context.createMediaStreamDestination()\n      Synth.connect(dest)\n      // @ts-ignore\n      mediaElement.setSinkId(\n        // audio output device_id\n        deviceId\n      ).then(() => {\n        // @ts-ignore\n        mediaElement.srcObject = dest.stream\n        //@ts-ignore\n\n        mediaElement.play()\n      })\n\n\n    }\n\n  }\n  else {\n    FMSynth.toMaster()\n  }\n}\n\nclass TonePlayer {\n  private loop: any\n\n\n  //get audio element, set srcObj to device, and play the track\n  ringtone = (deviceId: string) => {\n    // console.log(deviceId)\n    // const ring = require('./assets/ring.mp3')\n\n    // const ringtone = new Audio(ring);\n    // ringtone.addEventListener('loadeddata', () => {\n    //   ringtone.play()\n    //   // The duration variable now holds the duration (in seconds) of the audio clip \n    // })\n\n    const mediaElement = document.getElementById('ringtone')\n    if (deviceId !== 'default') {\n      if (mediaElement) {\n\n        // @ts-ignore\n        mediaElement.setSinkId(\n          // audio output device_id\n          // 'default'\n          deviceId\n        ).then(() => {\n          // @ts-ignore\n          mediaElement.play()\n        })\n      } else {\n        console.log('no media Element')\n      }\n    } else {\n      // @ts-ignore\n      mediaElement.play()\n    }\n\n\n\n  }\n\n  ringback = (deviceId: string) => {\n    let dest = Tone.context.createMediaStreamDestination()\n    console.log(dest)\n    Synth.set({\n      oscillator: {\n        type: 'sine'\n      },\n      envelope: {\n        attack: 0.02,\n        decay: 0.1,\n        sustain: 0.2,\n        release: 0.02\n      }\n    }).connect(dest)\n    if (deviceId !== 'default') {\n      const mediaElement = document.getElementById('tone')\n\n\n      if (mediaElement) {\n        let dest = Tone.context.createMediaStreamDestination()\n        Synth.connect(dest)\n        // @ts-ignore\n        mediaElement.setSinkId(\n          // audio output device_id\n          deviceId\n        ).then(() => {\n          // @ts-ignore\n          mediaElement.srcObject = dest.stream\n          //@ts-ignore\n\n          mediaElement.play()\n        })\n      }\n\n    } else {\n      Synth.toMaster()\n    }\n\n    this.loop = new Tone.Loop((time: any) => {\n      Synth.triggerAttack([440, 480])\n      Synth.triggerRelease([440, 480], time + 2)\n    }, 6)\n    this.loop.start(0)\n    Tone.Transport.start()\n  }\n\n  stop = () => {\n    try {\n      this.loop.stop(0)\n      Tone.Transport.stop()\n      Synth.triggerRelease([440, 480])\n    } catch{\n      const mediaElement = document.getElementById('ringtone')\n      //@ts-ignore\n      mediaElement.pause()\n\n    }\n  }\n}\n\nexport default TonePlayer\n","import TonePlayer from './TonePlayer'\nimport { phoneStore } from '../index'\n\nclass ToneManager {\n  currentTone: any\n  constructor() { }\n\n  public playRing(type: string) {\n    const state = phoneStore.getState()\n    //@ts-ignore\n    const deviceId = state.device.primaryAudioOutput\n    if (this.currentTone) {\n      this.currentTone.stop()\n      this.currentTone = undefined\n    }\n    if (type === 'ringback') {\n      this.currentTone = new TonePlayer()\n      this.currentTone.ringback(deviceId)\n    } else if (type == 'ringtone') {\n      this.currentTone = new TonePlayer()\n      this.currentTone.ringtone(deviceId)\n    }\n  }\n\n  public stopAll() {\n    if (this.currentTone) {\n      this.currentTone.stop()\n      this.currentTone = undefined\n    }\n  }\n}\n\nconst toneManager = new ToneManager()\nexport default toneManager\n","import { phoneStore } from '../index'\nimport { SessionState, Session } from 'sip.js'\nimport { SIPSESSION_STATECHANGE, CLOSE_SESSION } from '../actions/sipSessions'\n\nimport { setLocalAudio, setRemoteAudio, cleanupMedia } from './audio'\nimport toneManager from './ToneManager'\nexport class SessionStateHandler {\n  private session: Session\n  constructor(session: Session) {\n    this.session = session\n  }\n\n  public stateChange = (newState: SessionState) => {\n    switch (newState) {\n      case SessionState.Establishing:\n        toneManager.playRing('ringback')\n        phoneStore.dispatch({\n          type: SIPSESSION_STATECHANGE\n        })\n        break\n      case SessionState.Established:\n        phoneStore.dispatch({\n          type: SIPSESSION_STATECHANGE\n        })\n        toneManager.stopAll()\n        setLocalAudio(this.session)\n        setRemoteAudio(this.session)\n        break\n      case SessionState.Terminating:\n        phoneStore.dispatch({\n          type: SIPSESSION_STATECHANGE\n        })\n        toneManager.stopAll()\n        cleanupMedia(this.session.id)\n        break\n      case SessionState.Terminated:\n        phoneStore.dispatch({\n          type: SIPSESSION_STATECHANGE\n        })\n        toneManager.stopAll()\n        setTimeout(() => {\n          phoneStore.dispatch({\n            type: CLOSE_SESSION,\n            payload: this.session.id\n          })\n        }, 5000)\n        break\n      default:\n        console.log(`Unknown session state change: ${newState}`)\n        break\n    }\n  }\n}\n\nexport const getFullNumber = (number: string) => {\n  if (number.length < 10) {\n    return number\n  }\n  // @ts-ignore\n  let fullNumber = `+${phoneStore.getState().sipAccounts.sipAccount._config.defaultCountryCode}${number}`\n  if (number.includes('+') && number.length === 10) {\n    fullNumber = `${number}`\n  }\n  console.log(fullNumber)\n  return fullNumber\n}\n\nexport const statusMask = (status: string) => {\n  switch (status) {\n    case 'Established':\n      return 'Connected'\n    case 'Establishing':\n      return 'Calling...'\n    case 'Initial':\n      return 'Initial'\n    case 'Terminating':\n    case 'Terminated':\n      return 'Ended'\n    default:\n      return 'Unknown Status'\n  }\n}\n\nexport const getDurationDisplay = (duration: number) => {\n  let minutes = Math.floor(duration / 60)\n  let hours = Math.floor(minutes / 60)\n  minutes = minutes % 60\n  let seconds = duration % 60\n  let dh, dm, ds\n  if (hours && hours < 10) {\n    dh = `0${hours}:`\n  } else if (hours) {\n    dh = `${hours}:`\n  } else {\n    dh = '00:'\n  }\n  if (minutes && minutes < 10) {\n    dm = `0${minutes}:`\n  } else if (minutes) {\n    dm = `${minutes}:`\n  } else {\n    dm = '00:'\n  }\n  if (seconds && seconds < 10) {\n    ds = `0${seconds}`\n  } else if (seconds) {\n    ds = `${seconds}`\n  } else {\n    ds = '00'\n  }\n  return `${hours ? dh : ''}${dm}${ds}`\n}\n","import { phoneStore } from '../index'\nimport { SessionState, Session } from 'sip.js'\nimport {\n  SIPSESSION_STATECHANGE,\n  CLOSE_SESSION,\n  SIPSESSION_HOLD_REQUEST,\n  holdCallRequest\n} from '../actions/sipSessions'\nimport { setLocalAudio, setRemoteAudio, cleanupMedia } from './audio'\n\nexport class IncomingSessionStateHandler {\n  private incomingSession: Session\n  constructor(incomingSession: Session) {\n    this.incomingSession = incomingSession\n  }\n\n  public stateChange = (newState: SessionState) => {\n    switch (newState) {\n      case SessionState.Establishing:\n        phoneStore.dispatch({\n          type: SIPSESSION_STATECHANGE\n        })\n        break\n      case SessionState.Established:\n        phoneStore.dispatch({\n          type: SIPSESSION_STATECHANGE\n        })\n        this.holdAll()\n        setLocalAudio(this.incomingSession)\n        setRemoteAudio(this.incomingSession)\n        break\n      case SessionState.Terminating:\n        phoneStore.dispatch({\n          type: SIPSESSION_STATECHANGE\n        })\n        cleanupMedia(this.incomingSession.id)\n        break\n      case SessionState.Terminated:\n        phoneStore.dispatch({\n          type: SIPSESSION_STATECHANGE\n        })\n        setTimeout(() => {\n          phoneStore.dispatch({\n            type: CLOSE_SESSION,\n            payload: this.incomingSession.id\n          })\n        }, 5000)\n        break\n      default:\n        console.log(`Unknown session state change: ${newState}`)\n        break\n    }\n  }\n\n  public holdAll() {\n    const state = phoneStore.getState()\n    //@ts-ignore\n    const onHolds = state.sipSessions.onHold\n    //@ts-ignore\n    const sessions = state.sipSessions.sessions\n    for (let [sessionId, session] of Object.entries(sessions)) {\n      if (\n        sessionId in onHolds === false &&\n        sessionId !== this.incomingSession.id\n      ) {\n        try {\n          //@ts-ignore\n          holdCallRequest(session)\n          //dispatch here because class is not connected to redux actions\n          phoneStore.dispatch({\n            type: SIPSESSION_HOLD_REQUEST,\n            //@ts-ignore\n            payload: session.id\n          })\n          return\n        } catch (err) {\n          return\n        }\n      }\n    }\n  }\n}\n","import {\n  Inviter,\n  Invitation,\n  Referral,\n  Registerer,\n  RegistererState,\n  RegistererOptions,\n  Session,\n  UserAgent,\n  UserAgentOptions\n} from 'sip.js'\nimport { TransportOptions } from 'sip.js/lib/platform/web'\nimport { phoneStore } from '../index'\nimport { NEW_USERAGENT } from '../actions/sipAccounts'\nimport { SessionStateHandler, getFullNumber } from '../util/sessions'\nimport { IncomingSessionStateHandler } from '../util/incomingSession'\n\nimport { NEW_SESSION, INCOMING_CALL } from '../actions/sipSessions'\nimport { SipConfig, SipCredentials } from '../models'\n\nexport default class SIPAccount {\n  public _config: SipConfig\n  public _credentials: SipCredentials\n  public _userAgent: any\n  public _registerer: any\n\n  constructor(sipConfig: SipConfig, sipCredentials: SipCredentials) {\n    this._config = sipConfig\n    this._credentials = sipCredentials\n    const uri = UserAgent.makeURI('sip:' + sipCredentials.sipuri)\n    if (!uri) {\n      throw new Error('Failed to create URI')\n    }\n    const transportOptions: TransportOptions = {\n      server: sipConfig.websocket\n    }\n    const userAgentOptions: UserAgentOptions = {\n      autoStart: false,\n      autoStop: true,\n      noAnswerTimeout: sipConfig.noAnswerTimeout || 30,\n      logBuiltinEnabled: process.env.NODE_ENV !== 'production',\n      logConfiguration: process.env.NODE_ENV !== 'production',\n      logLevel: process.env.NODE_ENV !== 'production' ? 'debug' : 'error',\n      authorizationPassword: sipCredentials.password,\n      userAgentString: 'OTF-react-sip-phone',\n      hackWssInTransport: true,\n      transportOptions,\n      uri,\n      sessionDescriptionHandlerFactoryOptions: {\n        constraints: {\n          audio: {\n            deviceId:\n              'default'\n          },\n          video: false\n        },\n        alwaysAcquireMediaFirst: true,\n        iceCheckingTimeout: 500\n      }\n    }\n    const registererOptions: RegistererOptions = {\n      expires: 300,\n      logConfiguration: process.env.NODE_ENV !== 'production'\n    }\n\n    //check here for register\n    this._userAgent = new UserAgent(userAgentOptions)\n    this._registerer = new Registerer(this._userAgent, registererOptions)\n    this.setupDelegate() // Delegate is what handles incoming calls\n    this._userAgent.start().then(() => {\n      this._registerer.register()\n      this.setupRegistererListener()\n      // Push ua to store\n      phoneStore.dispatch({ type: NEW_USERAGENT, payload: this._userAgent })\n    })\n  }\n\n  setupDelegate() {\n    this._userAgent.delegate = {\n      onInvite(invitation: Invitation): void {\n        // An Invitation is a Session\n        const incomingSession: Session = invitation\n\n        // Setup incoming session delegate\n        incomingSession.delegate = {\n          // Handle incoming REFER request.\n          onRefer(referral: Referral): void {\n            console.log(referral)\n          }\n        }\n\n        phoneStore.dispatch({ type: INCOMING_CALL, payload: incomingSession })\n\n        const stateHandler = new IncomingSessionStateHandler(incomingSession)\n        // Handle incoming session state changes.\n        incomingSession.stateChange.addListener(stateHandler.stateChange)\n      }\n    }\n  }\n\n  setupRegistererListener() {\n    this._registerer.stateChange.addListener((newState: RegistererState) => {\n      switch (newState) {\n        case RegistererState.Initial:\n          console.log('The user registration has initialized  ')\n          break\n        case RegistererState.Registered:\n          console.log('The user is registered ')\n          break\n        case RegistererState.Unregistered:\n          console.log('The user is unregistered ')\n          break\n        case RegistererState.Terminated:\n          console.log('The user is terminated ')\n          break\n      }\n    })\n  }\n\n  makeCall(number: string) {\n\n    // Make a call\n    const target = UserAgent.makeURI(\n      `sip:${getFullNumber(number)}@sip.reper.io;user=phone`\n    )\n    if (target) {\n      console.log(`Calling ${number}`)\n      const inviter = new Inviter(this._userAgent, target)\n      // An Inviter is a Session\n      const outgoingSession: Session = inviter\n      // Setup outgoing session delegate\n      outgoingSession.delegate = {\n        // Handle incoming REFER request.\n        onRefer(referral: Referral): void {\n          // TODO\n          console.log('Referred: ' + referral)\n        }\n      }\n      phoneStore.dispatch({ type: NEW_SESSION, payload: outgoingSession })\n      // Handle outgoing session state changes.\n      const stateHandler = new SessionStateHandler(outgoingSession)\n      outgoingSession.stateChange.addListener(stateHandler.stateChange)\n      outgoingSession\n        .invite()\n        .then(() => {\n          console.log('Invite sent!')\n        })\n        .catch((error: Error) => {\n          console.log(error)\n        })\n    } else {\n      console.log(`Failed to establish session for outgoing call to ${number}`)\n    }\n    // toneManager.playRing('ringback')\n\n  }\n}\n","import { PhoneConfig } from '../models'\n\nexport const SET_CREDENTIALS = 'SET_CREDENTIALS'\nexport const SET_CONFIG = 'SET_CONFIG'\n\nexport const setCredentials = (uri: string = '', password: string = '') => {\n  return { type: SET_CREDENTIALS, payload: {uri, password} }\n}\n\nexport const setPhoneConfig = (config: PhoneConfig) => {\n  return { type: SET_CONFIG, payload: config}\n}","import * as React from 'react'\nimport { SipConfig, SipCredentials, PhoneConfig } from './models'\nimport SIPAccount from './lib/SipAccount'\nimport { connect } from 'react-redux'\nimport { setNewAccount } from './actions/sipAccounts'\nimport { setPhoneConfig, setCredentials } from  './actions/config'\n\n// Wrapper component to do any initialization of the Sip connection.\n\ninterface Props {\n  sipCredentials: SipCredentials\n  sipConfig: SipConfig\n  phoneConfig: PhoneConfig\n  setNewAccount: Function\n  setPhoneConfig: Function\n  setCredentials: Function\n  children: any\n}\n\nclass SipWrapper extends React.Component<Props> {\n\n  componentDidMount() {\n    console.log('mounted')\n    if (this.props.sipCredentials.password) {\n      this.initializeSip()\n    }\n  }\n\n  initializeSip() {\n    const account = new SIPAccount(this.props.sipConfig, this.props.sipCredentials)\n    this.props.setNewAccount(account)\n  }\n\n  render() {\n    return <React.Fragment>\n      { this.props.children }\n    </React.Fragment>\n  }\n}\nconst mapStateToProps = () => ({})\nconst actions = {\n  setNewAccount,\n  setPhoneConfig,\n  setCredentials\n}\nexport default connect(mapStateToProps, actions)(SipWrapper)","/* loaded by smart-asset */\nexport default require(\"./settings-24px~HQuidduc.svg\")","/* loaded by smart-asset */\nexport default require(\"./mic-24px~xExSpqQP.svg\")","/* loaded by smart-asset */\nexport default require(\"./volume_up-24px~qJQJhpOr.svg\")","import * as React from 'react'\nimport { connect } from 'react-redux'\nimport { setPrimaryInput, setPrimaryOutput, getInputAudioDevices, getOutputAudioDevices } from '../actions/device'\nimport styles from './Status.scss'\nimport Select from 'react-select';\nimport settingsIcon from '../assets/settings-24px.svg'\nimport micIcon from '../assets/mic-24px.svg'\nimport soundIcon from '../assets/volume_up-24px.svg'\n\ninterface Props {\n  name: string\n  inputs: any\n  outputs: any\n  primaryInput: string\n  primaryOutput: string\n  setPrimaryInput: Function\n  setPrimaryOutput: Function\n  getInputAudioDevices: Function\n  getOutputAudioDevices: Function\n}\n\nclass Status extends React.Component<Props> {\n  state = { settingsMenu: false }\n\n  componentDidMount() {\n    this.props.getInputAudioDevices()\n    this.props.getOutputAudioDevices()\n  }\n  mapOptions(options: any) {\n    const list: any = []\n    options.map((option: any) => {\n      list.push({ value: option.deviceId, label: option.label })\n    })\n    return list\n  }\n  handleChangeDevice(type: string, id: string) {\n    if (type === 'out') {\n      this.props.setPrimaryOutput(id)\n    } else {\n      this.props.setPrimaryInput(id)\n    }\n  }\n  render() {\n    const { props, state } = this\n    const inputs = this.mapOptions(props.inputs)\n    const outputs = this.mapOptions(props.outputs)\n    return (\n      <React.Fragment>\n        <div className={styles.container}>\n          <div className={styles.userString} >{props.name}</div>\n          <div\n            id={styles.settingsButton}\n            className={state.settingsMenu ? styles.on : ''}\n            onClick={() => this.setState({ settingsMenu: !state.settingsMenu })}\n          >\n            <img src={settingsIcon} />\n          </div>\n        </div>\n        <div\n          id={styles.settingsMenu}\n          className={state.settingsMenu ? '' : styles.closed}\n        >\n          <hr style={{ width: '100%' }} />\n          <div className={styles.dropdownRow}>\n            <img className={styles.dropdownIcon} src={soundIcon} />\n            <Select\n              placeholder=\"Select Output...\"\n              value={outputs.find((output: any) => output.value === props.primaryOutput) || null}\n              onChange={option => this.handleChangeDevice('out', option.value)}\n              options={outputs}\n              id={styles.dropdowns}\n            />\n          </div>\n          <div className={styles.dropdownRow}>\n            <img className={styles.dropdownIcon} src={micIcon} />\n            <Select\n              placeholder=\"Select Input...\"\n              value={inputs.find((input: any) => input.value === props.primaryInput)}\n              onChange={option => this.handleChangeDevice('in', option.value)}\n              options={inputs}\n              id={styles.dropdowns}\n            />\n          </div>\n          <hr style={{ width: '100%' }} />\n        </div>\n      </React.Fragment>\n    )\n  }\n}\nconst mapStateToProps = (state: any) => ({\n  inputs: state.device.audioInput,\n  outputs: state.device.audioOutput,\n  primaryInput: state.device.primaryAudioInput,\n  primaryOutput: state.device.primaryAudioOutput\n})\n\nconst actions = {\n  setPrimaryInput,\n  setPrimaryOutput,\n  getInputAudioDevices,\n  getOutputAudioDevices\n}\nexport default connect(mapStateToProps, actions)(Status)","import * as React from 'react'\nimport styles from './Phone.scss'\n\ninterface Props {\n  text: string,\n  click: Function,\n  letters: string,\n}\n\nconst DialButton = ({ text, click, letters }: Props) => {\n  return <div id=\"sip-dial-button\"\n    className={styles.dialpadButton}\n    onClick={() => click()}>\n    {text}\n    <div style={{opacity: letters === '1' ? 0 : 1}} className={styles.dialpadButtonLetters}>\n      {letters}\n    </div>\n  </div>\n}\n\nexport default DialButton","export const getButtonLetters = (value: string) => {\n  switch (value) {\n    case '1':\n      return '1'\n    case '2':\n      return 'ABC'\n    case '3':\n      return 'DEF'\n    case '4':\n      return 'GHI'\n    case '5':\n      return 'JKL'\n    case '6':\n      return 'MNO'\n    case '7':\n      return 'PQRS'\n    case '8':\n      return 'TUV'\n    case '9':\n      return 'WXYZ'\n    case '0':\n      return '+'\n    default:\n      return ''\n  }\n}","import * as React from 'react'\nimport { connect } from 'react-redux'\n\nimport styles from './Phone.scss'\nimport DialButton from './DialButton'\nimport { Session, SessionState } from 'sip.js'\nimport { getButtonLetters } from '../../util/buttons'\nimport { playDTMF } from '../../util/TonePlayer'\ninterface Props {\n  open: boolean\n  session: Session\n  deviceId: string\n}\n\nclass Dialpad extends React.Component<Props> {\n  topRow: any = []\n  middleRow: any = []\n  bottomRow: any = []\n\n  constructor(props: Props) {\n    super(props)\n    for (let x = 1; x < 4; x++) {\n      this.topRow.push(this.getButton(x.toString()))\n    }\n    for (let x = 4; x < 7; x++) {\n      this.middleRow.push(this.getButton(x.toString()))\n    }\n    for (let x = 7; x < 10; x++) {\n      this.bottomRow.push(this.getButton(x.toString()))\n    }\n  }\n\n  getButton(value: string) {\n    return (\n      <DialButton\n        key={value}\n        text={value}\n        letters={getButtonLetters(value)}\n        click={() => this.handleClick(value)}\n      />\n    )\n  }\n\n  handleClick(value: string) {\n    if (this.props.session.state === SessionState.Established) {\n      this.sendDTMF(value)\n      playDTMF(value, this.props.deviceId)\n    }\n  }\n\n  sendDTMF(value: string) {\n    const options = {\n      requestOptions: {\n        body: {\n          contentDisposition: 'render',\n          contentType: 'application/dtmf-relay',\n          content: `Signal=${value}\\r\\nDuration=1000`\n        }\n      }\n    }\n    this.props.session.info(options)\n  }\n\n  render() {\n    return (\n      <div className={this.props.open ? '' : styles.closed} id={styles.dialpad}>\n        <div className={styles.dialpadRow}>{this.topRow}</div>\n        <div className={styles.dialpadRow}>{this.middleRow}</div>\n        <div className={styles.dialpadRow}>{this.bottomRow}</div>\n        <div className={styles.dialpadRow}>\n          {this.getButton('*')}\n          {this.getButton('0')}\n          {this.getButton('#')}\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state: any) => ({\n  deviceId: state.device.primaryAudioOutput\n})\nconst actions = {\n\n}\nexport default connect(mapStateToProps, actions)(Dialpad)\n","/* loaded by smart-asset */\nexport default require(\"./phone_paused-24px~TWxpQtZf.svg\")","import * as React from 'react'\nimport { connect } from 'react-redux'\nimport styles from './Phone.scss'\nimport { Session, UserAgent } from 'sip.js'\n\nimport holdIcon from '../../assets/phone_paused-24px.svg'\n\nimport { holdCallRequest, unHoldCallRequest } from '../../actions/sipSessions'\n\ninterface Props {\n  session: Session\n  userAgent: UserAgent\n  holdCallRequest: Function\n  unHoldCallRequest: Function\n  onHold: Array<Object>\n  sessions: Array<Object>\n}\n\nclass Hold extends React.Component<Props> {\n  hold() {\n    if (this.checkHoldState()) {\n      this.props.unHoldCallRequest(this.props.session, this.props.onHold, this.props.sessions)\n    } else {\n      this.props.holdCallRequest(this.props.session)\n    }\n    return\n  }\n\n  checkHoldState() {\n    return this.props.onHold.includes(this.props.session.id)\n  }\n\n  render() {\n    return (\n      <button className={this.checkHoldState() ? styles.on : ''} id={styles.actionButton} onClick={() => this.hold()}>\n        <img src={holdIcon} />\n      </button>\n    )\n  }\n}\n\nconst mapStateToProps = (state: any) => ({\n  stateChanged: state.sipSessions.stateChanged,\n  sessions: state.sipSessions.sessions,\n  userAgent: state.sipAccounts.userAgent,\n  onHold: state.sipSessions.onHold\n})\nconst actions = {\n  holdCallRequest,\n  unHoldCallRequest\n}\n\nexport default connect(mapStateToProps, actions)(Hold)\n","/* loaded by smart-asset */\nexport default require(\"./mic_off-24px~bjejwOqd.svg\")","import * as React from 'react'\nimport { connect } from 'react-redux'\n\nimport styles from './Phone.scss'\nimport { Session, SessionState, UserAgent } from 'sip.js'\n\nimport micOffIcon from '../../assets/mic_off-24px.svg'\n\nimport {\n  muteRequest,\n  muteSuccess,\n  muteFail,\n  unMuteRequest,\n  unMuteSuccess,\n  unMuteFail\n} from '../../actions/sipSessions'\n\ninterface Props {\n  session: Session\n  userAgent: UserAgent\n  muteRequest: Function\n  muteSuccess: Function\n  muteFail: Function\n  unMuteRequest: Function\n  unMuteSuccess: Function\n  unMuteFail: Function\n}\n\nclass Mute extends React.Component<Props> {\n  state = {\n    onMute: false\n  }\n\n  mute() {\n    if (this.state.onMute) {\n      this.props.unMuteRequest()\n      return new Promise((resolve, reject) => {\n        if (\n          !this.props.session.sessionDescriptionHandler ||\n          this.props.session.state !== SessionState.Established\n        ) {\n          this.props.unMuteFail()\n          reject('No session to mute')\n          return\n        }\n        try {\n          const pc =\n            // @ts-ignore\n            this.props.session.sessionDescriptionHandler!.peerConnection\n          pc.getSenders().forEach(function (stream: any) {\n            if (stream.track && stream.track.kind === 'audio') {\n              stream.track.enabled = true\n            }\n          })\n          this.props.unMuteSuccess()\n          this.setState({ onMute: false })\n          resolve()\n          return\n        } catch (err) {\n          this.props.unMuteFail()\n          reject(err)\n          return\n        }\n      })\n    }\n\n    if (!this.state.onMute) {\n      return new Promise((resolve, reject) => {\n        if (\n          !this.props.session.sessionDescriptionHandler ||\n          this.props.session.state !== SessionState.Established\n        ) {\n          this.props.muteFail()\n          reject('No session to mute')\n          return\n        }\n        try {\n          this.props.muteRequest()\n          const pc =\n            // @ts-ignore\n            this.props.session.sessionDescriptionHandler!.peerConnection\n          console.log(pc.getSenders())\n          pc.getSenders().forEach(function (stream: any) {\n            if (stream.track && stream.track.kind === 'audio') {\n              stream.track.enabled = false\n            }\n          })\n          this.props.muteSuccess()\n          this.setState({ onMute: true })\n          resolve()\n          return\n        } catch (err) {\n          this.props.muteFail()\n          reject(err)\n          return\n        }\n      })\n    }\n    this.props.muteFail()\n    return\n  }\n\n  render() {\n    return (\n      <div\n        className={this.state.onMute ? styles.on : ''}\n        id={styles.actionButton} onClick={() => this.mute()}>\n        <img src={micOffIcon} />\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state: any) => ({\n  stateChanged: state.sipSessions.stateChanged,\n  sessions: state.sipSessions.sessions,\n  userAgent: state.sipAccounts.userAgent\n})\nconst actions = {\n  muteRequest,\n  muteSuccess,\n  muteFail,\n  unMuteRequest,\n  unMuteSuccess,\n  unMuteFail\n}\n\nexport default connect(mapStateToProps, actions)(Mute)\n","/* loaded by smart-asset */\nexport default require(\"./arrow_forward-24px~UJhdZXVe.svg\")","import * as React from 'react'\nimport { connect } from 'react-redux'\n\nimport styles from './Phone.scss'\n\nimport { Session, UserAgent } from 'sip.js'\nimport {\n  blindTransferRequest,\n  blindTransferSuccess,\n  blindTransferFail\n} from '../../actions/sipSessions'\nimport { getFullNumber } from '../../util/sessions'\nimport blindIcon from '../../assets/arrow_forward-24px.svg'\n\ninterface Props {\n  session: Session\n  userAgent: UserAgent\n  destination: string\n  blindTransferRequest: Function\n  blindTransferSuccess: Function\n  blindTransferFail: Function\n}\n\nclass BlindTransfer extends React.Component<Props> {\n  blindTransferCall() {\n    this.props.blindTransferRequest()\n    const target = UserAgent.makeURI(\n      `sip:${getFullNumber(this.props.destination)}@sip.reper.io;user=phone`\n    )\n    if (target) {\n      try {\n        this.props.session.refer(target)\n        this.props.blindTransferSuccess()\n      } catch (err) {\n        console.log(err)\n      }\n    } else {\n      this.props.blindTransferFail()\n    }\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        <button\n          className={styles.transferButtons}\n          onClick={() => this.blindTransferCall()}\n        >\n          <img src={blindIcon} />\n        </button>\n      </React.Fragment>\n    )\n  }\n}\n\nconst mapStateToProps = (state: any) => ({\n  stateChanged: state.sipSessions.stateChanged,\n  sessions: state.sipSessions.sessions,\n  userAgent: state.sipAccounts.userAgent\n})\nconst actions = {\n  blindTransferRequest,\n  blindTransferSuccess,\n  blindTransferFail\n}\n\nexport default connect(mapStateToProps, actions)(BlindTransfer)\n","/* loaded by smart-asset */\nexport default require(\"./phone_in_talk-24px~DQfZjkDQ.svg\")","/* loaded by smart-asset */\nexport default require(\"./call_end-24px~HrwYCAOf.svg\")","import * as React from 'react'\nimport { connect } from 'react-redux'\nimport { phoneStore } from '../../index'\nimport styles from './Phone.scss'\nimport { Session, SessionState, UserAgent, Inviter } from 'sip.js'\nimport {\n  NEW_ATTENDED_TRANSFER,\n  attendedTransferRequest,\n  attendedTransferCancel,\n  attendedTransferReady,\n  attendedTransferPending,\n  attendedTransferSuccess,\n  attendedTransferFail,\n  holdCallRequest,\n  stateChange,\n  closeSession\n} from '../../actions/sipSessions';\nimport Phone from './Phone'\nimport { getFullNumber } from '../../util/sessions'\nimport attendedIcon from '../../assets/phone_in_talk-24px.svg'\nimport cancelIcon from '../../assets/call_end-24px.svg'\nimport connectIcon from '../../assets/arrow_forward-24px.svg'\n\ninterface Props {\n  session: Session\n  userAgent: UserAgent\n  destination: string\n  started: Function\n  attendedTransferRequest: Function\n  attendedTransferCancel: Function\n  attendedTransferReady: Function\n  attendedTransferPending: Function\n  attendedTransferSuccess: Function\n  attendedTransferFail: Function\n  holdCallRequest: Function\n  stateChange: Function\n  closeSession: Function\n}\n\nclass AttendedTransfer extends React.Component<Props> {\n  state = {\n    attendedTransferSessionPending: null,\n    attendedTransferSessionReady: null\n  }\n\n  attendedTransferCall() {\n    this.holdAll()\n    this.props.attendedTransferRequest()\n    const target = UserAgent.makeURI(\n      `sip:${getFullNumber(this.props.destination)}@sip.reper.io;user=phone`\n    )\n    if (target) {\n      const inviter = new Inviter(this.props.userAgent, target)\n      const outgoingSession: Session = inviter\n      phoneStore.dispatch({ type: NEW_ATTENDED_TRANSFER, payload: outgoingSession })\n      this.setState({ attendedTransferSessionPending: outgoingSession })\n\n      outgoingSession.stateChange.addListener((newState: SessionState) => {\n        switch (newState) {\n          case SessionState.Initial:\n          case SessionState.Establishing:\n            this.props.stateChange(newState, outgoingSession.id)\n            //add new session to local state\n            this.props.attendedTransferPending()\n\n            break\n          case SessionState.Established:\n            this.setState({ attendedTransferSessionReady: outgoingSession })\n            this.props.attendedTransferReady()\n\n            this.setState({ attendedTransferSessionPending: false })\n            this.props.stateChange(newState, outgoingSession.id)\n\n            break\n          case SessionState.Terminating:\n            this.props.stateChange(newState, outgoingSession.id)\n            break\n          case SessionState.Terminated:\n            this.props.stateChange(newState, outgoingSession.id)\n            this.attendedTransferClear()\n\n            setTimeout(() => {\n              this.props.closeSession(outgoingSession.id)\n            }, 5000)\n            break\n          default:\n            console.log(`Unknown session state change: ${newState}`)\n            break\n        }\n      })\n      outgoingSession.invite().catch((error: Error) => {\n        this.props.attendedTransferFail()\n        console.log(error)\n      })\n    } else {\n      this.props.attendedTransferFail()\n\n    }\n  }\n\n  attendedTransferClear() {\n    this.setState({ attendedTransferSessionPending: null })\n    this.setState({ attendedTransferSessionReady: null })\n    this.props.started(false)\n  }\n\n  //refers the session in local state\n  connectAttendedTransfer(attendedTransferSession: any) {\n    try {\n      this.props.session.refer(attendedTransferSession)\n      this.props.attendedTransferSuccess()\n\n      this.setState({ attendedTransferSessionReady: null })\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  cancelAttendedTransfer(attendedTransferSession: any) {\n    attendedTransferSession.cancel()\n    this.props.attendedTransferCancel()\n\n    this.setState({ attendedTransferSessionPending: null })\n    this.setState({ attendedTransferSession: null })\n  }\n\n  holdAll() {\n    const state = phoneStore.getState()\n\n    //@ts-ignore\n    const onHolds = state.sipSessions.onHold\n\n    //@ts-ignore\n    const sessions = state.sipSessions.sessions\n\n    if (this.props.session.id in onHolds === false) {\n      try {\n        //@ts-ignore\n        this.props.holdCallRequest(this.props.session)\n\n        return\n      } catch (err) {\n        return\n      }\n    }\n  }\n\n  render() {\n    if (this.state.attendedTransferSessionReady) {\n      return (\n        <React.Fragment>{\n          // @ts-ignore\n          <Phone session={this.state.attendedTransferSessionReady} phoneConfig={{ disabledButtons: ['numpad', 'transfer'] }} />\n        }\n          <button\n            className={styles.transferButtons}\n            onClick={() => {\n              this.props.started(false)\n              this.connectAttendedTransfer(this.state.attendedTransferSessionReady)\n            }}>\n            <img src={connectIcon} />\n          </button>\n        </React.Fragment>\n\n      )\n    } else if (this.state.attendedTransferSessionPending) {\n      return (\n        <button\n          className={styles.endCallButton}\n          onClick={() => {\n            this.props.started(false)\n            this.cancelAttendedTransfer(this.state.attendedTransferSessionPending)\n          }}>\n          <img src={cancelIcon} />\n        </button>\n      )\n    } else {\n      return (\n        <button\n          className={styles.transferButtons}\n          onClick={() => {\n            this.props.started(true)\n            this.attendedTransferCall()\n          }}>\n          <img src={attendedIcon} />\n        </button>\n      )\n    }\n  }\n}\n\nconst mapStateToProps = (state: any) => ({\n  stateChanged: state.sipSessions.stateChanged,\n  sessions: state.sipSessions.sessions,\n  userAgent: state.sipAccounts.userAgent\n})\nconst actions = {\n  holdCallRequest,\n  attendedTransferRequest,\n  attendedTransferCancel,\n  attendedTransferReady,\n  attendedTransferPending,\n  attendedTransferSuccess,\n  attendedTransferFail,\n  stateChange,\n  closeSession,\n}\n\nexport default connect(mapStateToProps, actions)(AttendedTransfer)","/* loaded by smart-asset */\nexport default require(\"./dialpad-24px~cidqBzRK.svg\")","import * as React from 'react'\nimport Dialpad from './Dialpad'\nimport { connect } from 'react-redux'\nimport { Session, SessionState, UserAgent } from 'sip.js'\nimport { endCall } from '../../actions/sipSessions'\nimport Hold from './Hold'\nimport Mute from './Mute'\nimport BlindTranfer from './BlindTransfer'\nimport AttendedTransfer from './AttendedTransfer'\nimport styles from './Phone.scss'\nimport endCallIcon from '../../assets/call_end-24px.svg'\nimport dialpadIcon from '../../assets/dialpad-24px.svg'\nimport transferIcon from '../../assets/arrow_forward-24px.svg'\nimport { callDisconnect } from '../../util/TonePlayer'\nimport toneManager from '../../util/ToneManager'\nimport { statusMask, getDurationDisplay } from '../../util/sessions'\nimport { PhoneConfig } from '../../models'\ninterface Props {\n  session: Session\n  userAgent: UserAgent\n  endCall: Function\n  phoneConfig: PhoneConfig\n  deviceId: string\n}\n\nclass Phone extends React.Component<Props> {\n  state = {\n    dialpadOpen: false,\n    transferMenu: false,\n    ended: false,\n    transferDialString: '',\n    attendedTransferStarted: false,\n    duration: 0,\n    counterStarted: false\n  }\n\n  constructor(props: any) {\n    super(props)\n    this.attendedProcess = this.attendedProcess.bind(this);\n  }\n\n  componentDidUpdate(newProps: Props) {\n    if (newProps.session.state === SessionState.Established && !this.state.counterStarted) {\n      this.handleCounter()\n    }\n    if (\n      newProps.session.state === SessionState.Terminated &&\n      this.state.ended === false\n    ) {\n      this.setState({ ended: true })\n    }\n  }\n\n  endCall() {\n    if (this.props.session.state === SessionState.Established) {\n      this.props.session.bye()\n    } else if (\n      this.props.session.state === SessionState.Initial ||\n      this.props.session.state === SessionState.Establishing\n    ) {\n      toneManager.stopAll()\n      callDisconnect(this.props.deviceId)\n      // @ts-ignore\n\n      this.props.session.cancel()\n\n    }\n    this.setState({ ended: true })\n    setTimeout(() => {\n      this.props.session.dispose()\n      this.props.endCall(this.props.session.id)\n    }, 5000)\n  }\n\n  attendedProcess(bool: boolean) {\n    this.setState({ attendedTransferStarted: bool })\n  }\n\n  handleCounter() {\n    if (this.props.session && this.props.session.state !== SessionState.Terminated) {\n      if (this.state.counterStarted === false) {\n        this.setState({ counterStarted: true })\n      }\n      setTimeout(() => {\n        this.setState({ duration: this.state.duration + 1 })\n        this.handleCounter()\n      }, 1000)\n    }\n  }\n\n  render() {\n    const { state, props } = this\n    return (\n      <React.Fragment>\n        <hr style={{ width: '100%' }} />\n        <div>{\n          // @ts-ignore\n          `${props.session.remoteIdentity.uri.normal.user} - ${props.session.remoteIdentity._displayName}`}\n        </div>\n        <br/>\n        <div>{statusMask(props.session.state)}</div>\n        <br/>\n        {(this.props.session.state === SessionState.Initial ||\n          this.props.session.state === SessionState.Establishing) ?\n          null : <div>{getDurationDisplay(this.state.duration)}</div>\n        }\n        {\n          state.ended ? null :\n            <React.Fragment>\n              <Dialpad open={state.dialpadOpen} session={props.session} />\n              <div className={styles.actionsContainer}>\n                {props.phoneConfig.disabledButtons.includes('mute') ? null :\n                  <Mute session={props.session} />}\n                <button\n                  className={styles.endCallButton}\n                  disabled={state.ended}\n                  onClick={() => this.endCall()}\n                >\n                  <img src={endCallIcon} />\n                </button>\n                {props.phoneConfig.disabledButtons.includes('hold') ? null :\n                  <Hold session={props.session} />}\n                {props.phoneConfig.disabledButtons.includes('numpad') ? null :\n                  <div\n                    id={styles.actionButton}\n                    className={state.dialpadOpen ? styles.on : ''}\n                    onClick={() => this.setState({ dialpadOpen: !state.dialpadOpen })}\n                  >\n                    <img src={dialpadIcon} />\n                  </div>}\n                {props.phoneConfig.disabledButtons.includes('transfer') ? null :\n                  <div\n                    id={styles.actionButton}\n                    className={state.transferMenu ? styles.on : ''}\n                    onClick={() => this.setState({ transferMenu: !state.transferMenu })}\n                  >\n                    <img src={transferIcon} />\n                  </div>}\n                <div\n                  id={styles.transferMenu}\n                  className={state.transferMenu ? '' : styles.closed}\n                >\n                  <input\n                    id={styles.transferInput}\n                    onChange={(e) =>\n                      this.setState({ transferDialString: e.target.value })\n                    }\n                    placeholder=\"Enter the transfer destination...\"\n                  />\n                  {this.state.attendedTransferStarted ? null :\n                    <BlindTranfer\n                      destination={state.transferDialString}\n                      session={props.session}\n                    />}\n                  <AttendedTransfer\n                    started={this.attendedProcess}\n                    destination={state.transferDialString}\n                    session={props.session}\n                  />\n                </div>\n              </div>\n              <audio id={this.props.session.id} autoPlay />\n\n            </React.Fragment>\n        }\n      </React.Fragment>\n    )\n  }\n}\nconst mapStateToProps = (state: any) => ({\n  stateChanged: state.sipSessions.stateChanged,\n  sessions: state.sipSessions.sessions,\n  userAgent: state.sipAccounts.userAgent,\n  deviceId: state.device.primaryAudioOutput\n\n})\nconst actions = {\n  endCall\n}\nexport default connect(mapStateToProps, actions)(Phone)","/* loaded by smart-asset */\nexport default require(\"./call-24px~AGZUevvA.svg\")","import * as React from 'react'\nimport { Invitation } from 'sip.js'\nimport { connect } from 'react-redux'\nimport styles from './Phone.scss'\nimport { acceptCall, declineCall } from '../../actions/sipSessions'\nimport acceptIcon from '../../assets/call-24px.svg'\nimport declineIcon from '../../assets/call_end-24px.svg'\nimport toneManager from '../../util/ToneManager'\n\nconst ring = require('./assets/ring.mp3')\ninterface Props {\n  session: Invitation,\n  acceptCall: Function,\n  declineCall: Function\n}\n\nclass Incoming extends React.Component<Props> {\n\n  componentDidMount() {\n    console.log('this is the session')\n    console.log(this.props.session)\n    toneManager.stopAll()\n    toneManager.playRing('ringtone')\n\n  }\n\n  handleAccept() {\n    toneManager.stopAll()\n    this.props.session.accept()\n    this.props.acceptCall(this.props.session)\n\n  }\n\n  handleDecline() {\n    toneManager.stopAll()\n    this.props.session.reject()\n    this.props.declineCall(this.props.session)\n  }\n\n  render() {\n    const props = this.props\n    return <div id={styles.incoming}>\n      { // @ts-ignore\n        `Incoming: ${props.session.remoteIdentity.uri.normal.user} - ${props.session.remoteIdentity._displayName}`\n      }\n      <div className={styles.endCallButton} onClick={() => this.handleDecline()} ><img src={declineIcon} /></div>\n      <div className={styles.startCallButton} onClick={() => this.handleAccept()} ><img src={acceptIcon} /></div>\n      <audio id='ringtone' loop >\n        <source src={ring} type=\"audio/mpeg\" />\n      </audio>\n      <audio id={this.props.session.id} autoPlay />\n    </div>\n  }\n}\n\nconst mapStateToProps = (state: any) => ({\n  stateChanged: state.sipSessions.stateChanged,\n})\nconst actions = {\n  acceptCall, declineCall\n}\nexport default connect(mapStateToProps, actions)(Incoming)","import * as React from 'react'\nimport { connect } from 'react-redux'\nimport Phone from './phone/Phone'\nimport Incoming from './phone/Incoming'\nimport { PhoneConfig } from '../models'\n\nconst getSessions = (sessions: any, phoneConfig: PhoneConfig, attendedTransfers: Array<string>) => {\n  const elements = []\n  for (const session in sessions) {\n    if (attendedTransfers.includes(session)) continue\n    elements.push(\n      <Phone session={sessions[session]} key={session} phoneConfig={phoneConfig} />\n    )\n  }\n  return elements\n}\n\nconst getIncomingCallReferrals = (sessions: any) => {\n  const elements = []\n  for (const session in sessions) {\n    elements.push(<Incoming session={sessions[session]} key={session} />)\n  }\n  return elements\n}\n\ninterface Props {\n  sessions: any\n  incomingCalls: any\n  phoneConfig: PhoneConfig\n  attendedTransfers: Array<string>\n}\n\nclass PhoneSessions extends React.Component<Props> {\n  render() {\n    return <React.Fragment>\n      {/* {<Phone \n        // @ts-ignore\n        session={{}} key={0} />} */}\n      {getIncomingCallReferrals(this.props.incomingCalls)}\n      {getSessions(this.props.sessions, this.props.phoneConfig, this.props.attendedTransfers)}\n    </React.Fragment>\n  }\n}\nconst mapStateToProps = (state: any) => ({\n  sessions: state.sipSessions.sessions,\n  incomingCalls: state.sipSessions.incomingCalls,\n  attendedTransfers: state.sipSessions.attendedTransfers\n})\nconst PS = connect(mapStateToProps)(PhoneSessions)\nexport default PS","import * as React from 'react'\nimport { connect } from 'react-redux'\nimport SIPAccount from '../lib/SipAccount'\nimport styles from './Dialstring.scss'\nimport callIcon from '../assets/call-24px.svg'\n\ninterface Props {\n  sipAccount: SIPAccount\n}\n\nclass Dialstring extends React.Component<Props> {\n  state = {\n    currentDialString: ''\n  }\n  handleDial() {\n    if (!this.checkDialstring()) {\n      this.props.sipAccount.makeCall(`${this.state.currentDialString}`)\n    }\n  }\n  checkDialstring() {\n    return this.state.currentDialString.length === 0\n  }\n\n  render() {\n    return (\n      <div className={styles.dialstringContainer}>\n        <input\n          className={styles.dialInput}\n          onKeyPress={(e) => {\n            if (e.key === 'Enter') {\n              this.handleDial()\n              e.preventDefault()\n            }\n          }}\n          placeholder=\"Enter the number to dial...\"\n          onChange={(e) => this.setState({ currentDialString: e.target.value })}\n        />\n        <button\n          className={styles.dialButton}\n          disabled={this.checkDialstring()}\n          onClick={() => this.handleDial()}\n        >\n          <img src={callIcon} />\n        </button>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state: any) => ({\n  sipAccount: state.sipAccounts.sipAccount\n})\n\nconst actions = {\n}\n\nconst D = connect(mapStateToProps, actions)(Dialstring)\nexport default D\n","export default function symbolObservablePonyfill(root) {\n\tvar result;\n\tvar Symbol = root.Symbol;\n\n\tif (typeof Symbol === 'function') {\n\t\tif (Symbol.observable) {\n\t\t\tresult = Symbol.observable;\n\t\t} else {\n\t\t\tresult = Symbol('observable');\n\t\t\tSymbol.observable = result;\n\t\t}\n\t} else {\n\t\tresult = '@@observable';\n\t}\n\n\treturn result;\n};\n","/* global window */\nimport ponyfill from './ponyfill.js';\n\nvar root;\n\nif (typeof self !== 'undefined') {\n  root = self;\n} else if (typeof window !== 'undefined') {\n  root = window;\n} else if (typeof global !== 'undefined') {\n  root = global;\n} else if (typeof module !== 'undefined') {\n  root = module;\n} else {\n  root = Function('return this')();\n}\n\nvar result = ponyfill(root);\nexport default result;\n","import $$observable from 'symbol-observable';\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nvar randomString = function randomString() {\n  return Math.random().toString(36).substring(7).split('').join('.');\n};\n\nvar ActionTypes = {\n  INIT: \"@@redux/INIT\" + randomString(),\n  REPLACE: \"@@redux/REPLACE\" + randomString(),\n  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n    return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n  }\n};\n\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\nfunction isPlainObject(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n}\n\n/**\n * Creates a Redux store that holds the state tree.\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\n\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error('It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function.');\n  }\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error('Expected the enhancer to be a function.');\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error('Expected the reducer to be a function.');\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n  /**\n   * This makes a shallow copy of currentListeners so we can use\n   * nextListeners as a temporary list while dispatching.\n   *\n   * This prevents any bugs around consumers calling\n   * subscribe/unsubscribe in the middle of a dispatch.\n   */\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n\n\n  function getState() {\n    if (isDispatching) {\n      throw new Error('You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');\n    }\n\n    return currentState;\n  }\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n\n\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error('Expected the listener to be a function.');\n    }\n\n    if (isDispatching) {\n      throw new Error('You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api-reference/store#subscribelistener for more details.');\n    }\n\n    var isSubscribed = true;\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error('You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api-reference/store#subscribelistener for more details.');\n      }\n\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n      currentListeners = null;\n    };\n  }\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing “what changed”. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n\n\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error('Actions must be plain objects. ' + 'Use custom middleware for async actions.');\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error('Actions may not have an undefined \"type\" property. ' + 'Have you misspelled a constant?');\n    }\n\n    if (isDispatching) {\n      throw new Error('Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n\n\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error('Expected the nextReducer to be a function.');\n    }\n\n    currentReducer = nextReducer; // This action has a similiar effect to ActionTypes.INIT.\n    // Any reducers that existed in both the new and old rootReducer\n    // will receive the previous state. This effectively populates\n    // the new state tree with any relevant data from the old one.\n\n    dispatch({\n      type: ActionTypes.REPLACE\n    });\n  }\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n\n\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new TypeError('Expected the observer to be an object.');\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe: unsubscribe\n        };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  } // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n\n\n  dispatch({\n    type: ActionTypes.INIT\n  });\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}\n\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n\n}\n\nfunction getUndefinedStateErrorMessage(key, action) {\n  var actionType = action && action.type;\n  var actionDescription = actionType && \"action \\\"\" + String(actionType) + \"\\\"\" || 'an action';\n  return \"Given \" + actionDescription + \", reducer \\\"\" + key + \"\\\" returned undefined. \" + \"To ignore an action, you must explicitly return the previous state. \" + \"If you want this reducer to hold no value, you can return null instead of undefined.\";\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return \"The \" + argumentName + \" has unexpected type of \\\"\" + {}.toString.call(inputState).match(/\\s([a-z|A-Z]+)/)[1] + \"\\\". Expected argument to be an object with the following \" + (\"keys: \\\"\" + reducerKeys.join('\", \"') + \"\\\"\");\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n  if (action && action.type === ActionTypes.REPLACE) return;\n\n  if (unexpectedKeys.length > 0) {\n    return \"Unexpected \" + (unexpectedKeys.length > 1 ? 'keys' : 'key') + \" \" + (\"\\\"\" + unexpectedKeys.join('\", \"') + \"\\\" found in \" + argumentName + \". \") + \"Expected to find one of the known reducer keys instead: \" + (\"\\\"\" + reducerKeys.join('\", \"') + \"\\\". Unexpected keys will be ignored.\");\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, {\n      type: ActionTypes.INIT\n    });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error(\"Reducer \\\"\" + key + \"\\\" returned undefined during initialization. \" + \"If the state passed to the reducer is undefined, you must \" + \"explicitly return the initial state. The initial state may \" + \"not be undefined. If you don't want to set a value for this reducer, \" + \"you can use null instead of undefined.\");\n    }\n\n    if (typeof reducer(undefined, {\n      type: ActionTypes.PROBE_UNKNOWN_ACTION()\n    }) === 'undefined') {\n      throw new Error(\"Reducer \\\"\" + key + \"\\\" returned undefined when probed with a random type. \" + (\"Don't try to handle \" + ActionTypes.INIT + \" or other actions in \\\"redux/*\\\" \") + \"namespace. They are considered private. Instead, you must return the \" + \"current state for any unknown actions, unless it is undefined, \" + \"in which case you must return the initial state, regardless of the \" + \"action type. The initial state may not be undefined, but can be null.\");\n    }\n  });\n}\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\n\n\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof reducers[key] === 'undefined') {\n        warning(\"No reducer provided for key \\\"\" + key + \"\\\"\");\n      }\n    }\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n\n  var finalReducerKeys = Object.keys(finalReducers); // This is used to make sure we don't warn about the same\n  // keys multiple times.\n\n  var unexpectedKeyCache;\n\n  if (process.env.NODE_ENV !== 'production') {\n    unexpectedKeyCache = {};\n  }\n\n  var shapeAssertionError;\n\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination(state, action) {\n    if (state === void 0) {\n      state = {};\n    }\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);\n\n      if (warningMessage) {\n        warning(warningMessage);\n      }\n    }\n\n    var hasChanged = false;\n    var nextState = {};\n\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n\n      if (typeof nextStateForKey === 'undefined') {\n        var errorMessage = getUndefinedStateErrorMessage(_key, action);\n        throw new Error(errorMessage);\n      }\n\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n\n    hasChanged = hasChanged || finalReducerKeys.length !== Object.keys(state).length;\n    return hasChanged ? nextState : state;\n  };\n}\n\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(this, arguments));\n  };\n}\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass an action creator as the first argument,\n * and get a dispatch wrapped function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\n\n\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error(\"bindActionCreators expected an object or a function, instead received \" + (actionCreators === null ? 'null' : typeof actionCreators) + \". \" + \"Did you write \\\"import ActionCreators from\\\" instead of \\\"import * as ActionCreators from\\\"?\");\n  }\n\n  var boundActionCreators = {};\n\n  for (var key in actionCreators) {\n    var actionCreator = actionCreators[key];\n\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n\n  return boundActionCreators;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    keys.push.apply(keys, Object.getOwnPropertySymbols(object));\n  }\n\n  if (enumerableOnly) keys = keys.filter(function (sym) {\n    return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n  });\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(void 0, arguments));\n    };\n  });\n}\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\n\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function () {\n      var store = createStore.apply(void 0, arguments);\n\n      var _dispatch = function dispatch() {\n        throw new Error('Dispatching while constructing your middleware is not allowed. ' + 'Other middleware would not be applied to this dispatch.');\n      };\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch() {\n          return _dispatch.apply(void 0, arguments);\n        }\n      };\n      var chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(void 0, chain)(store.dispatch);\n      return _objectSpread2({}, store, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n\n/*\n * This is a dummy function to check if the function name has been altered by minification.\n * If the function has been minified and NODE_ENV !== 'production', warn the user.\n */\n\nfunction isCrushed() {}\n\nif (process.env.NODE_ENV !== 'production' && typeof isCrushed.name === 'string' && isCrushed.name !== 'isCrushed') {\n  warning('You are currently using minified code outside of NODE_ENV === \"production\". ' + 'This means that you are running a slower development build of Redux. ' + 'You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify ' + 'or setting mode to production in webpack (https://webpack.js.org/concepts/mode/) ' + 'to ensure you have the correct code for your production build.');\n}\n\nexport { ActionTypes as __DO_NOT_USE__ActionTypes, applyMiddleware, bindActionCreators, combineReducers, compose, createStore };\n","import { Action } from './models'\nimport {\n  NEW_SESSION,\n  NEW_ATTENDED_TRANSFER,\n  CLOSE_SESSION,\n  SIPSESSION_STATECHANGE,\n  INCOMING_CALL,\n  ACCEPT_CALL,\n  DECLINE_CALL,\n  SIPSESSION_HOLD_REQUEST,\n  SIPSESSION_UNHOLD_REQUEST\n} from '../actions/sipSessions'\nconst sipSessions = (\n  state = {\n    sessions: {},\n    incomingCalls: {},\n    stateChanged: 0,\n    onHold: [],\n    attendedTransfers: []\n  },\n  action: Action\n) => {\n  const { type, payload } = action\n  switch (type) {\n    case INCOMING_CALL:\n      console.log('Incoming call')\n      return {\n        ...state,\n        incomingCalls: { ...state.incomingCalls, [payload.id]: payload }\n      }\n    case NEW_SESSION:\n      console.log('New session added')\n      return {\n        ...state,\n        sessions: { ...state.sessions, [payload.id]: payload }\n      }\n    case NEW_ATTENDED_TRANSFER:\n      return {\n        ...state,\n        sessions: { ...state.sessions, [payload.id]: payload },\n        attendedTransfers: [...state.attendedTransfers, payload.id]\n      }\n    case ACCEPT_CALL:\n      const acceptedIncoming: any = { ...state.incomingCalls }\n      delete acceptedIncoming[payload.id]\n      return {\n        ...state,\n        incomingCalls: acceptedIncoming,\n        sessions: { ...state.sessions, [payload.id]: payload }\n      }\n    case DECLINE_CALL:\n      const declinedIncoming: any = { ...state.incomingCalls }\n      delete declinedIncoming[payload.id]\n      return {\n        ...state,\n        incomingCalls: declinedIncoming\n      }\n    case SIPSESSION_STATECHANGE:\n      return {\n        ...state,\n        stateChanged: state.stateChanged + 1\n      }\n    case CLOSE_SESSION:\n      const newIncoming: any = { ...state.incomingCalls }\n      const newSessions: any = { ...state.sessions }\n      delete newSessions[payload]\n      delete newIncoming[payload]\n      const endHold = [...state.onHold].filter((session) => session !== payload)\n\n      return {\n        ...state,\n        sessions: newSessions,\n        incomingCalls: newIncoming,\n        onHold: endHold\n      }\n    case SIPSESSION_HOLD_REQUEST:\n      return {\n        ...state,\n        onHold: [...state.onHold, payload]\n      }\n    case SIPSESSION_UNHOLD_REQUEST:\n      const newHold = [...state.onHold].filter((session) => session !== payload)\n\n      return {\n        ...state,\n        onHold: newHold\n      }\n    default:\n      return state\n  }\n}\nexport default sipSessions\n","import { Action } from './models'\nimport { NEW_USERAGENT, NEW_ACCOUNT } from '../actions/sipAccounts'\nconst sipAccounts = (\n  state = {\n    sipAccount: null,\n    userAgent: null,\n    status: ''\n  },\n  action: Action\n) => {\n  const { type, payload } = action\n  switch (type) {\n    case NEW_ACCOUNT:\n      return {\n        ...state,\n        sipAccount: action.payload\n      }\n    case NEW_USERAGENT:\n      return {\n        ...state,\n        userAgent: payload\n      }\n    default:\n      return state\n  }\n}\nexport default sipAccounts\n","import { Action } from './models'\nimport {\n    AUDIO_INPUT_DEVICES_DETECTED,\n    AUDIO_OUTPUT_DEVICES_DETECTED,\n    SET_PRIMARY_INPUT,\n    SET_PRIMARY_OUTPUT\n} from '../actions/device'\nconst device = (\n    state = {\n        audioInput: [],\n        audioOutput: [],\n        primaryAudioOutput: 'default',\n        primaryAudioInput: 'default'\n    },\n    action: Action\n) => {\n    const { type, payload } = action\n    switch (type) {\n        case AUDIO_INPUT_DEVICES_DETECTED:\n            return {\n                ...state,\n                audioInput: payload\n            }\n        case AUDIO_OUTPUT_DEVICES_DETECTED:\n            return {\n                ...state,\n                audioOutput: payload\n            }\n        case SET_PRIMARY_OUTPUT:\n            return {\n                ...state,\n                primaryAudioOutput: payload\n            }\n        case SET_PRIMARY_INPUT:\n            return {\n                ...state,\n                primaryAudioInput: payload\n            }\n        default:\n            return state\n    }\n}\nexport default device\n","import { Action } from './models'\nimport { SET_CREDENTIALS, SET_CONFIG } from '../actions/config'\nconst config = (state = {\n  uri: '',\n  password: '',\n  phoneConfig: {}\n}, action: Action) => {\n  switch (action.type) {\n    case SET_CONFIG:\n      return {\n        ...state, phoneConfig: action.payload\n      }\n    case SET_CREDENTIALS:\n      return {\n        ...state,\n        uri: action.payload.uri,\n        password: action.payload.password,\n      }\n    default:\n      return state\n  }\n}\nexport default config","import { combineReducers } from 'redux'\nimport sipSessions from './sipSessions'\nimport sipAccounts from './sipAccounts'\nimport device from './device'\nimport config from './config'\n\nconst reducers: any = combineReducers({ sipAccounts, sipSessions, device, config })\n\nexport default reducers","import { composeWithDevTools } from 'redux-devtools-extension'\nimport { createStore, applyMiddleware } from 'redux'\nimport thunk from 'redux-thunk'\nimport { persistStore, persistReducer } from 'redux-persist'\nimport storage from 'redux-persist/lib/storage'\nimport reducers from '../reducers/index'\n\nconst middleware = [thunk]\n\nconst persistConfig = {\n  key: 'root',\n  storage,\n  whitelist: ['device']\n}\n\nconst persistedReducer = persistReducer(persistConfig, reducers)\n\nexport const defaultStore = createStore(\n  persistedReducer,\n  composeWithDevTools(applyMiddleware(...middleware))\n)\nexport const persistor = persistStore(defaultStore)\n\n\n","import * as React from 'react'\nimport { Provider } from 'react-redux'\nimport { PersistGate } from 'redux-persist/integration/react'\nimport styles from './styles.scss'\nimport SipWrapper from './SipWrapper'\nimport Status from './components/Status'\nimport PhoneSessions from './components/PhoneSessions'\nimport Dialstring from './components/Dialstring'\nimport { SipConfig, SipCredentials, PhoneConfig } from './models'\n\nimport { defaultStore, persistor } from './store/configureStore'\n\ninterface Props {\n  width: number\n  height: number\n  name: string\n  phoneConfig: PhoneConfig\n  sipCredentials: SipCredentials\n  sipConfig: SipConfig\n  containerStyle: any\n}\n\nexport const phoneStore = defaultStore\n\nexport const ReactSipPhone = ({\n  name,\n  width = 300,\n  height = 600,\n  phoneConfig = { disabledButtons: [] },\n  sipConfig,\n  sipCredentials,\n  containerStyle = {}\n}: Props) => {\n  //If no store is passed into component, default store is used\n  return (\n    <Provider store={phoneStore}>\n      <PersistGate loading={null} persistor={persistor}>\n        <SipWrapper sipConfig={sipConfig} sipCredentials={sipCredentials} phoneConfig={phoneConfig}>\n          <div className={styles.container}\n            style={{\n              ...containerStyle,\n              width: `${width < 300 ? 300 : width}px`,\n              height: `${height < 600 ? 600 : height}px`\n            }}>\n            <Status name={name} />\n            <Dialstring />\n            <PhoneSessions phoneConfig={phoneConfig} />\n            <audio id='tone' autoPlay />\n          </div>\n        </SipWrapper>\n      </PersistGate>\n    </Provider>\n  )\n}\n"],"names":["NEW_USERAGENT","NEW_ACCOUNT","setNewAccount","account","type","payload","NEW_SESSION","NEW_ATTENDED_TRANSFER","INCOMING_CALL","ACCEPT_CALL","DECLINE_CALL","SIPSESSION_STATECHANGE","CLOSE_SESSION","SIPSESSION_HOLD_REQUEST","SIPSESSION_HOLD_FAIL","SIPSESSION_UNHOLD_REQUEST","SIPSESSION_UNHOLD_FAIL","SIPSESSION_MUTE_REQUEST","SIPSESSION_MUTE_SUCCESS","SIPSESSION_MUTE_FAIL","SIPSESSION_UNMUTE_REQUEST","SIPSESSION_UNMUTE_SUCCESS","SIPSESSION_UNMUTE_FAIL","SIPSESSION_BLIND_TRANSFER_REQUEST","SIPSESSION_BLIND_TRANSFER_SUCCESS","SIPSESSION_BLIND_TRANSFER_FAIL","SIPSESSION_ATTENDED_TRANSFER_REQUEST","SIPSESSION_ATTENDED_TRANSFER_PENDING","SIPSESSION_ATTENDED_TRANSFER_READY","SIPSESSION_ATTENDED_TRANSFER_CANCEL","SIPSESSION_ATTENDED_TRANSFER_FAIL","SIPSESSION_ATTENDED_TRANSFER_SUCCESS","stateChange","newState","id","dispatch","state","closeSession","acceptCall","session","declineCall","endCall","sessionId","holdCallRequest","sessionDescriptionHandler","SessionState","Established","invite","sessionDescriptionHandlerModifiers","holdModifier","err","unHoldCallRequest","_session","onHolds","sessions","Object","entries","blindTransferRequest","blindTransferSuccess","blindTransferFail","attendedTransferRequest","attendedTransferCancel","attendedTransferReady","attendedTransferPending","attendedTransferSuccess","attendedTransferFail","muteRequest","muteSuccess","muteFail","unMuteRequest","unMuteSuccess","unMuteFail","AUDIO_INPUT_DEVICES_DETECTED","AUDIO_OUTPUT_DEVICES_DETECTED","REMOTE_AUDIO_CONNECTED","LOCAL_AUDIO_CONNECTED","SET_PRIMARY_OUTPUT","SET_PRIMARY_INPUT","getInputAudioDevices","inputArray","navigator","mediaDevices","enumerateDevices","then","devices","forEach","device","kind","push","getOutputAudioDevices","outputArray","setPrimaryOutput","setPrimaryInput","setRemoteAudio","phoneStore","getState","deviceId","primaryAudioOutput","mediaElement","document","getElementById","remoteStream","MediaStream","peerConnection","getReceivers","receiver","track","addTrack","setSinkId","srcObject","play","console","log","setLocalAudio","primaryAudioInput","getSenders","sender","audioDeviceId","getUserMedia","audio","stream","audioTrack","getAudioTracks","replaceTrack","cleanupMedia","pause","DTMF_MATRIX","A","B","C","D","Synth","Tone","PolySynth","FMSynth","playDTMF","key","obj","volume","value","set","oscillator","envelope","attack","decay","sustain","release","dest","context","createMediaStreamDestination","connect","toMaster","triggerAttackRelease","callDisconnect","triggerAttack","triggerRelease","TonePlayer","loop","Loop","time","start","Transport","stop","ToneManager","playRing","currentTone","undefined","ringback","ringtone","stopAll","toneManager","SessionStateHandler","Establishing","Terminating","Terminated","setTimeout","getFullNumber","number","length","fullNumber","sipAccounts","sipAccount","_config","defaultCountryCode","includes","statusMask","status","getDurationDisplay","duration","minutes","Math","floor","hours","seconds","dh","dm","ds","IncomingSessionStateHandler","incomingSession","holdAll","sipSessions","onHold","SIPAccount","sipConfig","sipCredentials","_credentials","uri","UserAgent","makeURI","sipuri","Error","transportOptions","server","websocket","userAgentOptions","autoStart","autoStop","noAnswerTimeout","logBuiltinEnabled","process","env","NODE_ENV","logConfiguration","logLevel","authorizationPassword","password","userAgentString","hackWssInTransport","sessionDescriptionHandlerFactoryOptions","constraints","video","alwaysAcquireMediaFirst","iceCheckingTimeout","registererOptions","expires","_userAgent","_registerer","Registerer","setupDelegate","register","setupRegistererListener","delegate","onInvite","invitation","onRefer","referral","stateHandler","addListener","RegistererState","Initial","Registered","Unregistered","makeCall","target","inviter","Inviter","outgoingSession","error","SET_CREDENTIALS","SET_CONFIG","setCredentials","setPhoneConfig","config","SipWrapper","componentDidMount","props","initializeSip","render","React","children","mapStateToProps","actions","require","Status","settingsMenu","mapOptions","options","list","map","option","label","handleChangeDevice","inputs","outputs","className","styles","container","userString","name","settingsButton","on","onClick","setState","src","settingsIcon","closed","style","width","dropdownRow","dropdownIcon","soundIcon","Select","placeholder","find","output","primaryOutput","onChange","dropdowns","micIcon","input","primaryInput","audioInput","audioOutput","DialButton","text","click","letters","dialpadButton","opacity","dialpadButtonLetters","getButtonLetters","Dialpad","x","topRow","getButton","toString","middleRow","bottomRow","handleClick","sendDTMF","requestOptions","body","contentDisposition","contentType","content","info","open","dialpad","dialpadRow","Hold","hold","checkHoldState","actionButton","holdIcon","stateChanged","userAgent","Mute","onMute","mute","Promise","resolve","reject","pc","enabled","micOffIcon","BlindTransfer","blindTransferCall","destination","refer","transferButtons","blindIcon","AttendedTransfer","attendedTransferSessionPending","attendedTransferSessionReady","attendedTransferCall","attendedTransferClear","started","connectAttendedTransfer","attendedTransferSession","cancelAttendedTransfer","cancel","Phone","phoneConfig","disabledButtons","connectIcon","endCallButton","cancelIcon","attendedIcon","dialpadOpen","transferMenu","ended","transferDialString","attendedTransferStarted","counterStarted","attendedProcess","bind","componentDidUpdate","newProps","handleCounter","bye","dispose","bool","remoteIdentity","normal","user","_displayName","actionsContainer","disabled","endCallIcon","dialpadIcon","transferIcon","transferInput","e","BlindTranfer","autoPlay","ring","Incoming","handleAccept","accept","handleDecline","incoming","declineIcon","startCallButton","acceptIcon","getSessions","attendedTransfers","elements","getIncomingCallReferrals","PhoneSessions","incomingCalls","PS","Dialstring","currentDialString","handleDial","checkDialstring","dialstringContainer","dialInput","onKeyPress","preventDefault","dialButton","callIcon","ponyfill","$$observable","action","acceptedIncoming","declinedIncoming","newIncoming","newSessions","endHold","filter","newHold","reducers","combineReducers","middleware","thunk","persistConfig","storage","whitelist","persistedReducer","persistReducer","defaultStore","createStore","composeWithDevTools","applyMiddleware","persistor","persistStore","ReactSipPhone","height","containerStyle","Provider","store","PersistGate","loading"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAGO,IAAMA,aAAa,GAAG,eAAtB;AACP,AAAO,IAAMC,WAAW,GAAG,aAApB;AAEP,AAAO,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACC,OAAD;AAC3B,SAAO;AAAEC,IAAAA,IAAI,EAAEH,WAAR;AAAqBI,IAAAA,OAAO,EAAEF;AAA9B,GAAP;AACD,CAFM;;ACHA,IAAMG,WAAW,GAAG,aAApB;AACP,AAAO,IAAMC,qBAAqB,GAAG,uBAA9B;AACP,AAAO,IAAMC,aAAa,GAAG,eAAtB;AAEP,AAAO,IAAMC,WAAW,GAAG,aAApB;AACP,AAAO,IAAMC,YAAY,GAAG,cAArB;AAEP,AAAO,IAAMC,sBAAsB,GAAG,wBAA/B;AACP,AAAO,IAAMC,aAAa,GAAG,eAAtB;AAEP,AAIO,IAAMC,uBAAuB,GAAG,yBAAhC;AACP,AACO,IAAMC,oBAAoB,GAAG,sBAA7B;AACP,AAAO,IAAMC,yBAAyB,GAAG,2BAAlC;AACP,AACO,IAAMC,sBAAsB,GAAG,wBAA/B;AAEP,AAAO,IAAMC,uBAAuB,GAAG,yBAAhC;AACP,AAAO,IAAMC,uBAAuB,GAAG,yBAAhC;AACP,AAAO,IAAMC,oBAAoB,GAAG,sBAA7B;AACP,AAAO,IAAMC,yBAAyB,GAAG,2BAAlC;AACP,AAAO,IAAMC,yBAAyB,GAAG,2BAAlC;AACP,AAAO,IAAMC,sBAAsB,GAAG,wBAA/B;AAEP,AAAO,IAAMC,iCAAiC,GAC5C,mCADK;AAEP,AAAO,IAAMC,iCAAiC,GAC5C,mCADK;AAEP,AAAO,IAAMC,8BAA8B,GAAG,gCAAvC;AAEP,AAAO,IAAMC,oCAAoC,GAC/C,sCADK;AAEP,AAAO,IAAMC,oCAAoC,GAC/C,sCADK;AAEP,AAAO,IAAMC,kCAAkC,GAC7C,oCADK;AAEP,AAAO,IAAMC,mCAAmC,GAC9C,qCADK;AAEP,AAAO,IAAMC,iCAAiC,GAC5C,mCADK;AAEP,AAAO,IAAMC,oCAAoC,GAC/C,sCADK;AAGP,AAAO,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,QAAD,EAAyBC,EAAzB;AAAA,SAAwC,UAACC,QAAD;AACjEA,IAAAA,QAAQ,CAAC;AACP/B,MAAAA,IAAI,EAAEO,sBADC;AAEPN,MAAAA,OAAO,EAAE;AAAE+B,QAAAA,KAAK,EAAEH,QAAT;AAAmBC,QAAAA,EAAE,EAAFA;AAAnB;AAFF,KAAD,CAAR;AAID,GAL0B;AAAA,CAApB;AAOP,AAAO,IAAMG,YAAY,GAAG,SAAfA,YAAe,CAACH,EAAD;AAAA,SAAgB,UAACC,QAAD;AAC1CA,IAAAA,QAAQ,CAAC;AACP/B,MAAAA,IAAI,EAAEQ,aADC;AAEPP,MAAAA,OAAO,EAAE6B;AAFF,KAAD,CAAR;AAID,GAL2B;AAAA,CAArB;AAOP,AAAO,IAAMI,UAAU,GAAG,SAAbA,UAAa,CAACC,OAAD;AACxB,SAAO;AAAEnC,IAAAA,IAAI,EAAEK,WAAR;AAAqBJ,IAAAA,OAAO,EAAEkC;AAA9B,GAAP;AACD,CAFM;AAIP,AAAO,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACD,OAAD;AACzB,SAAO;AAAEnC,IAAAA,IAAI,EAAEM,YAAR;AAAsBL,IAAAA,OAAO,EAAEkC;AAA/B,GAAP;AACD,CAFM;AAIP,AAAO,IAAME,OAAO,GAAG,SAAVA,OAAU,CAACC,SAAD;AACrB,SAAO;AAAEtC,IAAAA,IAAI,EAAEQ,aAAR;AAAuBP,IAAAA,OAAO,EAAEqC;AAAhC,GAAP;AACD,CAFM;AAIP,AAAO,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACJ,OAAD;AAC7B,MACE,CAACA,OAAO,CAACK,yBAAT,IACAL,OAAO,CAACH,KAAR,KAAkBS,mBAAY,CAACC,WAFjC,EAGE;AACA,WAAO;AAAE1C,MAAAA,IAAI,EAAEU;AAAR,KAAP;AACD;;AACD,MAAI;AACFyB,IAAAA,OAAO,CAACQ,MAAR,CAAe;AACbC,MAAAA,kCAAkC,EAAE,CAClCT,OAAO,CAACK,yBAAR,CAAmCK,YADD;AADvB,KAAf;AAKA,WAAO;AAAE7C,MAAAA,IAAI,EAAES,uBAAR;AAAiCR,MAAAA,OAAO,EAAEkC,OAAO,CAACL;AAAlD,KAAP;AACD,GAPD,CAOE,OAAOgB,GAAP,EAAY;AACZ,WAAO;AAAE9C,MAAAA,IAAI,EAAEU;AAAR,KAAP;AACD;AACF,CAjBM;AAoBP,AAAO,IAAMqC,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,QAAD,EAAoBC,OAApB,EAAyCC,QAAzC;AAAA,SAAkE,UAACnB,QAAD;AAGjG,uCAAiCoB,MAAM,CAACC,OAAP,CAAeF,QAAf,CAAjC,qCAA2D;AAAA;AAAA,UAAjDZ,SAAiD;AAAA,UAAtCH,OAAsC;;AACzD,UACEG,SAAS,IAAIW,OAAb,KAAyB,KAAzB,IACAX,SAAS,KAAKU,QAAQ,CAAClB,EAFzB,EAGE;AAGA,YAAI;AACFK,UAAAA,OAAO,CAACQ,MAAR,CAAe;AACbC,YAAAA,kCAAkC,EAAE,CAClCT,OAAO,CAACK,yBAAR,CAAmCK,YADD;AADvB,WAAf;AAKAd,UAAAA,QAAQ,CAAC;AAAE/B,YAAAA,IAAI,EAAES,uBAAR;AAAiCR,YAAAA,OAAO,EAAEkC,OAAO,CAACL;AAAlD,WAAD,CAAR;AACD,SAPD,CAOE,OAAOgB,GAAP,EAAY;AACZf,UAAAA,QAAQ,CAAC;AAAE/B,YAAAA,IAAI,EAAEU;AAAR,WAAD,CAAR;AACD;AAEF;AACF;;AAED,QAAI;AACFsC,MAAAA,QAAQ,CAACL,MAAT;;AACAZ,MAAAA,QAAQ,CAAC;AAAE/B,QAAAA,IAAI,EAAEW,yBAAR;AAAmCV,QAAAA,OAAO,EAAE+C,QAAQ,CAAClB;AAArD,OAAD,CAAR;AACD,KAHD,CAGE,OAAOgB,GAAP,EAAY;AACZf,MAAAA,QAAQ,CAAC;AAAE/B,QAAAA,IAAI,EAAEY;AAAR,OAAD,CAAR;AACD;;AACD;AACD,GA/BgC;AAAA,CAA1B;AAiCP,AAAO,IAAMyC,oBAAoB,GAAG,SAAvBA,oBAAuB;AAAA,SAAM,UAACtB,QAAD;AACxCA,IAAAA,QAAQ,CAAC;AACP/B,MAAAA,IAAI,EAAEmB;AADC,KAAD,CAAR;AAGD,GAJmC;AAAA,CAA7B;AAMP,AAAO,IAAMmC,oBAAoB,GAAG,SAAvBA,oBAAuB;AAAA,SAAM,UAACvB,QAAD;AACxCA,IAAAA,QAAQ,CAAC;AACP/B,MAAAA,IAAI,EAAEoB;AADC,KAAD,CAAR;AAGD,GAJmC;AAAA,CAA7B;AAMP,AAAO,IAAMmC,iBAAiB,GAAG,SAApBA,iBAAoB;AAAA,SAAM,UAACxB,QAAD;AACrCA,IAAAA,QAAQ,CAAC;AACP/B,MAAAA,IAAI,EAAEqB;AADC,KAAD,CAAR;AAGD,GAJgC;AAAA,CAA1B;AAMP,AAAO,IAAMmC,uBAAuB,GAAG,SAA1BA,uBAA0B;AAAA,SAAM,UAACzB,QAAD;AAC3CA,IAAAA,QAAQ,CAAC;AACP/B,MAAAA,IAAI,EAAEsB;AADC,KAAD,CAAR;AAGD,GAJsC;AAAA,CAAhC;AAMP,AAAO,IAAMmC,sBAAsB,GAAG,SAAzBA,sBAAyB;AAAA,SAAM,UAAC1B,QAAD;AAC1CA,IAAAA,QAAQ,CAAC;AACP/B,MAAAA,IAAI,EAAEyB;AADC,KAAD,CAAR;AAGD,GAJqC;AAAA,CAA/B;AAMP,AAAO,IAAMiC,qBAAqB,GAAG,SAAxBA,qBAAwB;AAAA,SAAM,UAAC3B,QAAD;AACzCA,IAAAA,QAAQ,CAAC;AACP/B,MAAAA,IAAI,EAAEwB;AADC,KAAD,CAAR;AAGD,GAJoC;AAAA,CAA9B;AAMP,AAAO,IAAMmC,uBAAuB,GAAG,SAA1BA,uBAA0B;AAAA,SAAM,UAAC5B,QAAD;AAC3CA,IAAAA,QAAQ,CAAC;AACP/B,MAAAA,IAAI,EAAEuB;AADC,KAAD,CAAR;AAGD,GAJsC;AAAA,CAAhC;AAMP,AAAO,IAAMqC,uBAAuB,GAAG,SAA1BA,uBAA0B;AAAA,SAAM,UAAC7B,QAAD;AAC3CA,IAAAA,QAAQ,CAAC;AACP/B,MAAAA,IAAI,EAAE2B;AADC,KAAD,CAAR;AAGD,GAJsC;AAAA,CAAhC;AAKP,AAAO,IAAMkC,oBAAoB,GAAG,SAAvBA,oBAAuB;AAAA,SAAM,UAAC9B,QAAD;AACxCA,IAAAA,QAAQ,CAAC;AACP/B,MAAAA,IAAI,EAAE0B;AADC,KAAD,CAAR;AAGD,GAJmC;AAAA,CAA7B;AAMP,AAAO,IAAMoC,WAAW,GAAG,SAAdA,WAAc;AAAA,SAAM,UAAC/B,QAAD;AAC/BA,IAAAA,QAAQ,CAAC;AACP/B,MAAAA,IAAI,EAAEa;AADC,KAAD,CAAR;AAGD,GAJ0B;AAAA,CAApB;AAMP,AAAO,IAAMkD,WAAW,GAAG,SAAdA,WAAc;AAAA,SAAM,UAAChC,QAAD;AAC/BA,IAAAA,QAAQ,CAAC;AACP/B,MAAAA,IAAI,EAAEc;AADC,KAAD,CAAR;AAGD,GAJ0B;AAAA,CAApB;AAMP,AAAO,IAAMkD,QAAQ,GAAG,SAAXA,QAAW;AAAA,SAAM,UAACjC,QAAD;AAC5BA,IAAAA,QAAQ,CAAC;AACP/B,MAAAA,IAAI,EAAEe;AADC,KAAD,CAAR;AAGD,GAJuB;AAAA,CAAjB;AAMP,AAAO,IAAMkD,aAAa,GAAG,SAAhBA,aAAgB;AAAA,SAAM,UAAClC,QAAD;AACjCA,IAAAA,QAAQ,CAAC;AACP/B,MAAAA,IAAI,EAAEgB;AADC,KAAD,CAAR;AAGD,GAJ4B;AAAA,CAAtB;AAMP,AAAO,IAAMkD,aAAa,GAAG,SAAhBA,aAAgB;AAAA,SAAM,UAACnC,QAAD;AACjCA,IAAAA,QAAQ,CAAC;AACP/B,MAAAA,IAAI,EAAEiB;AADC,KAAD,CAAR;AAGD,GAJ4B;AAAA,CAAtB;AAMP,AAAO,IAAMkD,UAAU,GAAG,SAAbA,UAAa;AAAA,SAAM,UAACpC,QAAD;AAC9BA,IAAAA,QAAQ,CAAC;AACP/B,MAAAA,IAAI,EAAEkB;AADC,KAAD,CAAR;AAGD,GAJyB;AAAA,CAAnB;;ACnNA,IAAMkD,4BAA4B,GAAG,8BAArC;AACP,AAAO,IAAMC,6BAA6B,GAAG,+BAAtC;AACP,AAAO,IAAMC,sBAAsB,GAAG,wBAA/B;AACP,AAAO,IAAMC,qBAAqB,GAAG,uBAA9B;AACP,AAAO,IAAMC,kBAAkB,GAAG,oBAA3B;AACP,AAAO,IAAMC,iBAAiB,GAAG,mBAA1B;AAGP,AAAO,IAAMC,oBAAoB,GAAG,SAAvBA,oBAAuB;AAClC,MAAIC,UAAU,GAAkB,EAAhC;AACAC,EAAAA,SAAS,CAACC,YAAV,CACGC,gBADH,GAEGC,IAFH,CAEQ,UAAUC,OAAV;AACJA,IAAAA,OAAO,CAACC,OAAR,CAAgB,UAAUC,MAAV;AACd,UAAIA,MAAM,CAACC,IAAP,KAAgB,YAApB,EAAkC;AAChCR,QAAAA,UAAU,CAACS,IAAX,CAAgBF,MAAhB;AACD;AACF,KAJD;AAKD,GARH;AASA,SAAO;AACLlF,IAAAA,IAAI,EAAEoE,4BADD;AAELnE,IAAAA,OAAO,EAAE0E;AAFJ,GAAP;AAID,CAfM;AAiBP,AAAO,IAAMU,qBAAqB,GAAG,SAAxBA,qBAAwB;AACnC,MAAIC,WAAW,GAAkB,EAAjC;AACAV,EAAAA,SAAS,CAACC,YAAV,CACGC,gBADH,GAEGC,IAFH,CAEQ,UAAUC,OAAV;AACJA,IAAAA,OAAO,CAACC,OAAR,CAAgB,UAAUC,MAAV;AACd,UAAIA,MAAM,CAACC,IAAP,KAAgB,aAApB,EAAmC;AACjCG,QAAAA,WAAW,CAACF,IAAZ,CAAiBF,MAAjB;AACD;AACF,KAJD;AAKD,GARH;AASA,SAAO;AACLlF,IAAAA,IAAI,EAAEqE,6BADD;AAELpE,IAAAA,OAAO,EAAEqF;AAFJ,GAAP;AAID,CAfM;AAiBP,AAAO,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACzD,EAAD;AAE9B,SAAO;AACL9B,IAAAA,IAAI,EAAEwE,kBADD;AAELvE,IAAAA,OAAO,EAAE6B;AAFJ,GAAP;AAID,CANM;AAQP,AAAO,IAAM0D,eAAe,GAAG,SAAlBA,eAAkB,CAAC1D,EAAD;AAE7B,SAAO;AACL9B,IAAAA,IAAI,EAAEyE,iBADD;AAELxE,IAAAA,OAAO,EAAE6B;AAFJ,GAAP;AAID,CANM;;AC1CA,IAAM2D,cAAc,GAAG,SAAjBA,cAAiB,CAACtD,OAAD;AAC5B,MAAMH,KAAK,GAAG0D,UAAU,CAACC,QAAX,EAAd;AAEA,MAAMC,QAAQ,GAAG5D,KAAK,CAACkD,MAAN,CAAaW,kBAA9B;AACA,MAAMC,YAAY,GAAGC,QAAQ,CAACC,cAAT,CAAwB7D,OAAO,CAACL,EAAhC,CAArB;AACA,MAAMmE,YAAY,GAAG,IAAIC,WAAJ,EAArB;AAEA/D,EAAAA,OAAO,CAACK,yBAAR,CAAkC2D,cAAlC,CACGC,YADH,GAEGnB,OAFH,CAEW,UAACoB,QAAD;AACP,QAAIA,QAAQ,CAACC,KAAb,EAAoB;AAClBL,MAAAA,YAAY,CAACM,QAAb,CAAsBF,QAAQ,CAACC,KAA/B;AACD;AACF,GANH;;AAOA,MAAIR,YAAJ,EAAkB;AAEhBA,IAAAA,YAAY,CAACU,SAAb,CAEEZ,QAFF,EAIGb,IAJH,CAIQ;AAEJe,MAAAA,YAAY,CAACW,SAAb,GAAyBR,YAAzB;AAEAH,MAAAA,YAAY,CAACY,IAAb;AACD,KATH;AAUD,GAZD,MAYO;AACLC,IAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACD;;AACDlB,EAAAA,UAAU,CAAC3D,QAAX,CAAoB;AAClB/B,IAAAA,IAAI,EAAEsE;AADY,GAApB;AAGD,CAhCM;AAmCP,AAAO,IAAMuC,aAAa,GAAG,SAAhBA,aAAgB,CAAC1E,OAAD;AAC3B,MAAMH,KAAK,GAAG0D,UAAU,CAACC,QAAX,EAAd;AAEA,MAAMC,QAAQ,GAAG5D,KAAK,CAACkD,MAAN,CAAa4B,iBAA9B;AAEA3E,EAAAA,OAAO,CAACK,yBAAR,CAAkC2D,cAAlC,CACGY,UADH,GAEG9B,OAFH,CAEW,UAAU+B,MAAV;AACPL,IAAAA,OAAO,CAACC,GAAR,CAAYI,MAAZ;;AAEA,QAAIA,MAAM,CAACV,KAAP,IAAgBU,MAAM,CAACV,KAAP,CAAanB,IAAb,KAAsB,OAA1C,EAAmD;AACjD,UAAI8B,aAAa,GAGfrB,QAHF;AAIAhB,MAAAA,SAAS,CAACC,YAAV,CAIGqC,YAJH,CAIgB;AAAEC,QAAAA,KAAK,EAAE;AAAEvB,UAAAA,QAAQ,EAAEqB;AAAZ;AAAT,OAJhB,EAKGlC,IALH,CAKQ,UAAUqC,MAAV;AACJ,YAAIC,UAAU,GAAGD,MAAM,CAACE,cAAP,EAAjB;AACAN,QAAAA,MAAM,CAACO,YAAP,CAAoBF,UAAU,CAAC,CAAD,CAA9B;AACD,OARH;AASD;AACF,GApBH;AAqBA3B,EAAAA,UAAU,CAAC3D,QAAX,CAAoB;AAClB/B,IAAAA,IAAI,EAAEuE;AADY,GAApB;AAGD,CA7BM;AA+BP,AAAO,IAAMiD,YAAY,GAAG,SAAfA,YAAe,CAAClF,SAAD;AAC1B,MAAMwD,YAAY,GAAGC,QAAQ,CAACC,cAAT,CAAwB1D,SAAxB,CAArB;;AACA,MAAIwD,YAAJ,EAAkB;AAEhBA,IAAAA,YAAY,CAACW,SAAb,GAAyB,IAAzB;AAEAX,IAAAA,YAAY,CAAC2B,KAAb;AACD;AACF,CARM;;ACxEP,IAAMC,WAAW,GAAG;AAClB,KAAG,CAAC,GAAD,EAAM,IAAN,CADe;AAElB,KAAG,CAAC,GAAD,EAAM,IAAN,CAFe;AAGlB,KAAG,CAAC,GAAD,EAAM,IAAN,CAHe;AAIlBC,EAAAA,CAAC,EAAE,CAAC,GAAD,EAAM,IAAN,CAJe;AAKlB,KAAG,CAAC,GAAD,EAAM,IAAN,CALe;AAMlB,KAAG,CAAC,GAAD,EAAM,IAAN,CANe;AAOlB,KAAG,CAAC,GAAD,EAAM,IAAN,CAPe;AAQlBC,EAAAA,CAAC,EAAE,CAAC,GAAD,EAAM,IAAN,CARe;AASlB,KAAG,CAAC,GAAD,EAAM,IAAN,CATe;AAUlB,KAAG,CAAC,GAAD,EAAM,IAAN,CAVe;AAWlB,KAAG,CAAC,GAAD,EAAM,IAAN,CAXe;AAYlBC,EAAAA,CAAC,EAAE,CAAC,GAAD,EAAM,IAAN,CAZe;AAalB,KAAG,CAAC,GAAD,EAAM,IAAN,CAbe;AAclB,OAAK,CAAC,GAAD,EAAM,IAAN,CAda;AAelB,OAAK,CAAC,GAAD,EAAM,IAAN,CAfa;AAgBlBC,EAAAA,CAAC,EAAE,CAAC,GAAD,EAAM,IAAN;AAhBe,CAApB;AAmBA,IAAMC,KAAK,GAAGC,IAAI,CAACC,SAAL,IAAkB,IAAID,IAAI,CAACC,SAAT,CAAmB,CAAnB,EAAsBD,IAAI,CAACD,KAA3B,CAAhC;AACA,IAAMG,OAAO,GAAGF,IAAI,CAACC,SAAL,IAAkB,IAAID,IAAI,CAACC,SAAT,CAAmB,CAAnB,EAAsBD,IAAI,CAACE,OAA3B,CAAlC;AAEA,AAAO,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,GAAD,EAAWxC,QAAX;AACtB,MAAIyC,GAAG,GAAGX,WAAW,CAACU,GAAD,CAArB;;AACA,MAAI,CAACC,GAAL,EAAU;AACR1B,IAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ;AACD;;AACDmB,EAAAA,KAAK,CAACO,MAAN,CAAaC,KAAb,GAAqB,CAAC,EAAtB;AACAR,EAAAA,KAAK,CAACS,GAAN,CAAU;AACRC,IAAAA,UAAU,EAAE;AACVzI,MAAAA,IAAI,EAAE;AADI,KADJ;AAIR0I,IAAAA,QAAQ,EAAE;AACRC,MAAAA,MAAM,EAAE,IADA;AAERC,MAAAA,KAAK,EAAE,GAFC;AAGRC,MAAAA,OAAO,EAAE,GAHD;AAIRC,MAAAA,OAAO,EAAE;AAJD;AAJF,GAAV;;AAYA,MAAIlD,QAAQ,KAAK,SAAjB,EAA4B;AAC1B,QAAME,YAAY,GAAGC,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAArB;;AAGA,QAAIF,YAAJ,EAAkB;AAChB,UAAIiD,IAAI,GAAGf,IAAI,CAACgB,OAAL,CAAaC,4BAAb,EAAX;AACAlB,MAAAA,KAAK,CAACmB,OAAN,CAAcH,IAAd;AAEAjD,MAAAA,YAAY,CAACU,SAAb,CAEEZ,QAFF,EAGEb,IAHF,CAGO;AAELe,QAAAA,YAAY,CAACW,SAAb,GAAyBsC,IAAI,CAAC3B,MAA9B;AAGAtB,QAAAA,YAAY,CAACY,IAAb;AACD,OATD;AAYD;AACF,GArBD,MAqBO;AACLqB,IAAAA,KAAK,CAACoB,QAAN;AACD;;AAEDpB,EAAAA,KAAK,CAACqB,oBAAN,CAA2Bf,GAA3B,EAAgC,GAAhC;AACD,CA5CM;AA8CP,AAAO,IAAMgB,cAAc,GAAG,SAAjBA,cAAiB,CAACzD,QAAD;AAC5BsC,EAAAA,OAAO,CAACoB,aAAR,CAAsB,CAAC,IAAD,EAAO,IAAP,CAAtB,EAAoC,MAApC;AACApB,EAAAA,OAAO,CAACqB,cAAR,CAAuB,CAAC,IAAD,EAAO,IAAP,CAAvB,EAAqC,OAArC;AACArB,EAAAA,OAAO,CAACoB,aAAR,CAAsB,CAAC,IAAD,EAAO,IAAP,CAAtB,EAAoC,OAApC;AACApB,EAAAA,OAAO,CAACqB,cAAR,CAAuB,CAAC,IAAD,EAAO,IAAP,CAAvB,EAAqC,OAArC;;AACA,MAAI3D,QAAQ,KAAK,SAAjB,EAA4B;AAC1B,QAAME,YAAY,GAAGC,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAArB;;AAGA,QAAIF,YAAJ,EAAkB;AAChB,UAAIiD,IAAI,GAAGf,IAAI,CAACgB,OAAL,CAAaC,4BAAb,EAAX;AACAlB,MAAAA,KAAK,CAACmB,OAAN,CAAcH,IAAd;AAEAjD,MAAAA,YAAY,CAACU,SAAb,CAEEZ,QAFF,EAGEb,IAHF,CAGO;AAELe,QAAAA,YAAY,CAACW,SAAb,GAAyBsC,IAAI,CAAC3B,MAA9B;AAGAtB,QAAAA,YAAY,CAACY,IAAb;AACD,OATD;AAYD;AAEF,GAtBD,MAuBK;AACHwB,IAAAA,OAAO,CAACiB,QAAR;AACD;AACF,CA/BM;;IAiCDK,aAAN;;;AAKE,eAAA,GAAW,UAAC5D,QAAD;AAUT,QAAME,YAAY,GAAGC,QAAQ,CAACC,cAAT,CAAwB,UAAxB,CAArB;;AACA,QAAIJ,QAAQ,KAAK,SAAjB,EAA4B;AAC1B,UAAIE,YAAJ,EAAkB;AAGhBA,QAAAA,YAAY,CAACU,SAAb,CAGEZ,QAHF,EAIEb,IAJF,CAIO;AAELe,UAAAA,YAAY,CAACY,IAAb;AACD,SAPD;AAQD,OAXD,MAWO;AACLC,QAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACD;AACF,KAfD,MAeO;AAELd,MAAAA,YAAY,CAACY,IAAb;AACD;AAIF,GAjCD;;AAmCA,eAAA,GAAW,UAACd,QAAD;AACT,QAAImD,IAAI,GAAGf,IAAI,CAACgB,OAAL,CAAaC,4BAAb,EAAX;AACAtC,IAAAA,OAAO,CAACC,GAAR,CAAYmC,IAAZ;AACAhB,IAAAA,KAAK,CAACS,GAAN,CAAU;AACRC,MAAAA,UAAU,EAAE;AACVzI,QAAAA,IAAI,EAAE;AADI,OADJ;AAIR0I,MAAAA,QAAQ,EAAE;AACRC,QAAAA,MAAM,EAAE,IADA;AAERC,QAAAA,KAAK,EAAE,GAFC;AAGRC,QAAAA,OAAO,EAAE,GAHD;AAIRC,QAAAA,OAAO,EAAE;AAJD;AAJF,KAAV,EAUGI,OAVH,CAUWH,IAVX;;AAWA,QAAInD,QAAQ,KAAK,SAAjB,EAA4B;AAC1B,UAAME,YAAY,GAAGC,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAArB;;AAGA,UAAIF,YAAJ,EAAkB;AAChB,YAAIiD,KAAI,GAAGf,IAAI,CAACgB,OAAL,CAAaC,4BAAb,EAAX;;AACAlB,QAAAA,KAAK,CAACmB,OAAN,CAAcH,KAAd;AAEAjD,QAAAA,YAAY,CAACU,SAAb,CAEEZ,QAFF,EAGEb,IAHF,CAGO;AAELe,UAAAA,YAAY,CAACW,SAAb,GAAyBsC,KAAI,CAAC3B,MAA9B;AAGAtB,UAAAA,YAAY,CAACY,IAAb;AACD,SATD;AAUD;AAEF,KApBD,MAoBO;AACLqB,MAAAA,KAAK,CAACoB,QAAN;AACD;;AAED,IAAA,KAAI,CAACM,IAAL,GAAY,IAAIzB,IAAI,CAAC0B,IAAT,CAAc,UAACC,IAAD;AACxB5B,MAAAA,KAAK,CAACuB,aAAN,CAAoB,CAAC,GAAD,EAAM,GAAN,CAApB;AACAvB,MAAAA,KAAK,CAACwB,cAAN,CAAqB,CAAC,GAAD,EAAM,GAAN,CAArB,EAAiCI,IAAI,GAAG,CAAxC;AACD,KAHW,EAGT,CAHS,CAAZ;;AAIA,IAAA,KAAI,CAACF,IAAL,CAAUG,KAAV,CAAgB,CAAhB;;AACA5B,IAAAA,IAAI,CAAC6B,SAAL,CAAeD,KAAf;AACD,GA5CD;;AA8CA,WAAA,GAAO;AACL,QAAI;AACF,MAAA,KAAI,CAACH,IAAL,CAAUK,IAAV,CAAe,CAAf;;AACA9B,MAAAA,IAAI,CAAC6B,SAAL,CAAeC,IAAf;AACA/B,MAAAA,KAAK,CAACwB,cAAN,CAAqB,CAAC,GAAD,EAAM,GAAN,CAArB;AACD,KAJD,CAIE,gBAAK;AACL,UAAMzD,YAAY,GAAGC,QAAQ,CAACC,cAAT,CAAwB,UAAxB,CAArB;AAEAF,MAAAA,YAAY,CAAC2B,KAAb;AAED;AACF,GAXD;AAYD;;ICvMKsC;AAEJ;;;;SAEOC,WAAA,kBAAShK,IAAT;AACL,QAAMgC,KAAK,GAAG0D,UAAU,CAACC,QAAX,EAAd;AAEA,QAAMC,QAAQ,GAAG5D,KAAK,CAACkD,MAAN,CAAaW,kBAA9B;;AACA,QAAI,KAAKoE,WAAT,EAAsB;AACpB,WAAKA,WAAL,CAAiBH,IAAjB;AACA,WAAKG,WAAL,GAAmBC,SAAnB;AACD;;AACD,QAAIlK,IAAI,KAAK,UAAb,EAAyB;AACvB,WAAKiK,WAAL,GAAmB,IAAIT,UAAJ,EAAnB;AACA,WAAKS,WAAL,CAAiBE,QAAjB,CAA0BvE,QAA1B;AACD,KAHD,MAGO,IAAI5F,IAAI,IAAI,UAAZ,EAAwB;AAC7B,WAAKiK,WAAL,GAAmB,IAAIT,UAAJ,EAAnB;AACA,WAAKS,WAAL,CAAiBG,QAAjB,CAA0BxE,QAA1B;AACD;AACF;;SAEMyE,UAAA;AACL,QAAI,KAAKJ,WAAT,EAAsB;AACpB,WAAKA,WAAL,CAAiBH,IAAjB;AACA,WAAKG,WAAL,GAAmBC,SAAnB;AACD;AACF;;;;;AAGH,IAAMI,WAAW,GAAG,IAAIP,WAAJ,EAApB;;IC1BaQ,mBAAb,GAEE,6BAAYpI,OAAZ;;;AAIO,kBAAA,GAAc,UAACN,QAAD;AACnB,YAAQA,QAAR;AACE,WAAKY,mBAAY,CAAC+H,YAAlB;AACEF,QAAAA,WAAW,CAACN,QAAZ,CAAqB,UAArB;AACAtE,QAAAA,UAAU,CAAC3D,QAAX,CAAoB;AAClB/B,UAAAA,IAAI,EAAEO;AADY,SAApB;AAGA;;AACF,WAAKkC,mBAAY,CAACC,WAAlB;AACEgD,QAAAA,UAAU,CAAC3D,QAAX,CAAoB;AAClB/B,UAAAA,IAAI,EAAEO;AADY,SAApB;AAGA+J,QAAAA,WAAW,CAACD,OAAZ;AACAxD,QAAAA,aAAa,CAAC,KAAI,CAAC1E,OAAN,CAAb;AACAsD,QAAAA,cAAc,CAAC,KAAI,CAACtD,OAAN,CAAd;AACA;;AACF,WAAKM,mBAAY,CAACgI,WAAlB;AACE/E,QAAAA,UAAU,CAAC3D,QAAX,CAAoB;AAClB/B,UAAAA,IAAI,EAAEO;AADY,SAApB;AAGA+J,QAAAA,WAAW,CAACD,OAAZ;AACA7C,QAAAA,YAAY,CAAC,KAAI,CAACrF,OAAL,CAAaL,EAAd,CAAZ;AACA;;AACF,WAAKW,mBAAY,CAACiI,UAAlB;AACEhF,QAAAA,UAAU,CAAC3D,QAAX,CAAoB;AAClB/B,UAAAA,IAAI,EAAEO;AADY,SAApB;AAGA+J,QAAAA,WAAW,CAACD,OAAZ;AACAM,QAAAA,UAAU,CAAC;AACTjF,UAAAA,UAAU,CAAC3D,QAAX,CAAoB;AAClB/B,YAAAA,IAAI,EAAEQ,aADY;AAElBP,YAAAA,OAAO,EAAE,KAAI,CAACkC,OAAL,CAAaL;AAFJ,WAApB;AAID,SALS,EAKP,IALO,CAAV;AAMA;;AACF;AACE6E,QAAAA,OAAO,CAACC,GAAR,oCAA6C/E,QAA7C;AACA;AApCJ;AAsCD,GAvCM;;AAHL,OAAKM,OAAL,GAAeA,OAAf;AACD,CAJH;AAgDA,AAAO,IAAMyI,aAAa,GAAG,SAAhBA,aAAgB,CAACC,MAAD;AAC3B,MAAIA,MAAM,CAACC,MAAP,GAAgB,EAApB,EAAwB;AACtB,WAAOD,MAAP;AACD;;AAED,MAAIE,UAAU,SAAOrF,UAAU,CAACC,QAAX,GAAsBqF,WAAtB,CAAkCC,UAAlC,CAA6CC,OAA7C,CAAqDC,kBAA5D,GAAiFN,MAA/F;;AACA,MAAIA,MAAM,CAACO,QAAP,CAAgB,GAAhB,KAAwBP,MAAM,CAACC,MAAP,KAAkB,EAA9C,EAAkD;AAChDC,IAAAA,UAAU,QAAMF,MAAhB;AACD;;AACDlE,EAAAA,OAAO,CAACC,GAAR,CAAYmE,UAAZ;AACA,SAAOA,UAAP;AACD,CAXM;AAaP,AAAO,IAAMM,UAAU,GAAG,SAAbA,UAAa,CAACC,MAAD;AACxB,UAAQA,MAAR;AACE,SAAK,aAAL;AACE,aAAO,WAAP;;AACF,SAAK,cAAL;AACE,aAAO,YAAP;;AACF,SAAK,SAAL;AACE,aAAO,SAAP;;AACF,SAAK,aAAL;AACA,SAAK,YAAL;AACE,aAAO,OAAP;;AACF;AACE,aAAO,gBAAP;AAXJ;AAaD,CAdM;AAgBP,AAAO,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,QAAD;AAChC,MAAIC,OAAO,GAAGC,IAAI,CAACC,KAAL,CAAWH,QAAQ,GAAG,EAAtB,CAAd;AACA,MAAII,KAAK,GAAGF,IAAI,CAACC,KAAL,CAAWF,OAAO,GAAG,EAArB,CAAZ;AACAA,EAAAA,OAAO,GAAGA,OAAO,GAAG,EAApB;AACA,MAAII,OAAO,GAAGL,QAAQ,GAAG,EAAzB;AACA,MAAIM,EAAJ,EAAQC,EAAR,EAAYC,EAAZ;;AACA,MAAIJ,KAAK,IAAIA,KAAK,GAAG,EAArB,EAAyB;AACvBE,IAAAA,EAAE,SAAOF,KAAP,MAAF;AACD,GAFD,MAEO,IAAIA,KAAJ,EAAW;AAChBE,IAAAA,EAAE,GAAMF,KAAN,MAAF;AACD,GAFM,MAEA;AACLE,IAAAA,EAAE,GAAG,KAAL;AACD;;AACD,MAAIL,OAAO,IAAIA,OAAO,GAAG,EAAzB,EAA6B;AAC3BM,IAAAA,EAAE,SAAON,OAAP,MAAF;AACD,GAFD,MAEO,IAAIA,OAAJ,EAAa;AAClBM,IAAAA,EAAE,GAAMN,OAAN,MAAF;AACD,GAFM,MAEA;AACLM,IAAAA,EAAE,GAAG,KAAL;AACD;;AACD,MAAIF,OAAO,IAAIA,OAAO,GAAG,EAAzB,EAA6B;AAC3BG,IAAAA,EAAE,SAAOH,OAAT;AACD,GAFD,MAEO,IAAIA,OAAJ,EAAa;AAClBG,IAAAA,EAAE,QAAMH,OAAR;AACD,GAFM,MAEA;AACLG,IAAAA,EAAE,GAAG,IAAL;AACD;;AACD,eAAUJ,KAAK,GAAGE,EAAH,GAAQ,EAAvB,IAA4BC,EAA5B,GAAiCC,EAAjC;AACD,CA5BM;;ICzEMC,2BAAb;AAEE,uCAAYC,eAAZ;;;AAIO,oBAAA,GAAc,UAACrK,QAAD;AACnB,cAAQA,QAAR;AACE,aAAKY,mBAAY,CAAC+H,YAAlB;AACE9E,UAAAA,UAAU,CAAC3D,QAAX,CAAoB;AAClB/B,YAAAA,IAAI,EAAEO;AADY,WAApB;AAGA;;AACF,aAAKkC,mBAAY,CAACC,WAAlB;AACEgD,UAAAA,UAAU,CAAC3D,QAAX,CAAoB;AAClB/B,YAAAA,IAAI,EAAEO;AADY,WAApB;;AAGA,UAAA,KAAI,CAAC4L,OAAL;;AACAtF,UAAAA,aAAa,CAAC,KAAI,CAACqF,eAAN,CAAb;AACAzG,UAAAA,cAAc,CAAC,KAAI,CAACyG,eAAN,CAAd;AACA;;AACF,aAAKzJ,mBAAY,CAACgI,WAAlB;AACE/E,UAAAA,UAAU,CAAC3D,QAAX,CAAoB;AAClB/B,YAAAA,IAAI,EAAEO;AADY,WAApB;AAGAiH,UAAAA,YAAY,CAAC,KAAI,CAAC0E,eAAL,CAAqBpK,EAAtB,CAAZ;AACA;;AACF,aAAKW,mBAAY,CAACiI,UAAlB;AACEhF,UAAAA,UAAU,CAAC3D,QAAX,CAAoB;AAClB/B,YAAAA,IAAI,EAAEO;AADY,WAApB;AAGAoK,UAAAA,UAAU,CAAC;AACTjF,YAAAA,UAAU,CAAC3D,QAAX,CAAoB;AAClB/B,cAAAA,IAAI,EAAEQ,aADY;AAElBP,cAAAA,OAAO,EAAE,KAAI,CAACiM,eAAL,CAAqBpK;AAFZ,aAApB;AAID,WALS,EAKP,IALO,CAAV;AAMA;;AACF;AACE6E,UAAAA,OAAO,CAACC,GAAR,oCAA6C/E,QAA7C;AACA;AAjCJ;AAmCD,KApCM;;AAHL,SAAKqK,eAAL,GAAuBA,eAAvB;AACD;;AAJH;;AAAA,SA4CSC,OA5CT,GA4CS;AACL,QAAMnK,KAAK,GAAG0D,UAAU,CAACC,QAAX,EAAd;AAEA,QAAM1C,OAAO,GAAGjB,KAAK,CAACoK,WAAN,CAAkBC,MAAlC;AAEA,QAAMnJ,QAAQ,GAAGlB,KAAK,CAACoK,WAAN,CAAkBlJ,QAAnC;;AACA,uCAAiCC,MAAM,CAACC,OAAP,CAAeF,QAAf,CAAjC,qCAA2D;AAAA;AAAA,UAAjDZ,SAAiD;AAAA,UAAtCH,OAAsC;;AACzD,UACEG,SAAS,IAAIW,OAAb,KAAyB,KAAzB,IACAX,SAAS,KAAK,KAAK4J,eAAL,CAAqBpK,EAFrC,EAGE;AACA,YAAI;AAEFS,UAAAA,eAAe,CAACJ,OAAD,CAAf;AAEAuD,UAAAA,UAAU,CAAC3D,QAAX,CAAoB;AAClB/B,YAAAA,IAAI,EAAES,uBADY;AAGlBR,YAAAA,OAAO,EAAEkC,OAAO,CAACL;AAHC,WAApB;AAKA;AACD,SAVD,CAUE,OAAOgB,GAAP,EAAY;AACZ;AACD;AACF;AACF;AACF,GAtEH;;AAAA;AAAA;;ICUqBwJ;AAMnB,sBAAYC,SAAZ,EAAkCC,cAAlC;;;AACE,SAAKtB,OAAL,GAAeqB,SAAf;AACA,SAAKE,YAAL,GAAoBD,cAApB;AACA,QAAME,GAAG,GAAGC,gBAAS,CAACC,OAAV,CAAkB,SAASJ,cAAc,CAACK,MAA1C,CAAZ;;AACA,QAAI,CAACH,GAAL,EAAU;AACR,YAAM,IAAII,KAAJ,CAAU,sBAAV,CAAN;AACD;;AACD,QAAMC,gBAAgB,GAAqB;AACzCC,MAAAA,MAAM,EAAET,SAAS,CAACU;AADuB,KAA3C;AAGA,QAAMC,gBAAgB,GAAqB;AACzCC,MAAAA,SAAS,EAAE,KAD8B;AAEzCC,MAAAA,QAAQ,EAAE,IAF+B;AAGzCC,MAAAA,eAAe,EAAEd,SAAS,CAACc,eAAV,IAA6B,EAHL;AAIzCC,MAAAA,iBAAiB,EAAEC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAJH;AAKzCC,MAAAA,gBAAgB,EAAEH,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YALF;AAMzCE,MAAAA,QAAQ,EAAEJ,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwC,OAAxC,GAAkD,OANnB;AAOzCG,MAAAA,qBAAqB,EAAEpB,cAAc,CAACqB,QAPG;AAQzCC,MAAAA,eAAe,EAAE,qBARwB;AASzCC,MAAAA,kBAAkB,EAAE,IATqB;AAUzChB,MAAAA,gBAAgB,EAAhBA,gBAVyC;AAWzCL,MAAAA,GAAG,EAAHA,GAXyC;AAYzCsB,MAAAA,uCAAuC,EAAE;AACvCC,QAAAA,WAAW,EAAE;AACX9G,UAAAA,KAAK,EAAE;AACLvB,YAAAA,QAAQ,EACN;AAFG,WADI;AAKXsI,UAAAA,KAAK,EAAE;AALI,SAD0B;AAQvCC,QAAAA,uBAAuB,EAAE,IARc;AASvCC,QAAAA,kBAAkB,EAAE;AATmB;AAZA,KAA3C;AAwBA,QAAMC,iBAAiB,GAAsB;AAC3CC,MAAAA,OAAO,EAAE,GADkC;AAE3CZ,MAAAA,gBAAgB,EAAEH,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB;AAFA,KAA7C;AAMA,SAAKc,UAAL,GAAkB,IAAI5B,gBAAJ,CAAcO,gBAAd,CAAlB;AACA,SAAKsB,WAAL,GAAmB,IAAIC,iBAAJ,CAAe,KAAKF,UAApB,EAAgCF,iBAAhC,CAAnB;AACA,SAAKK,aAAL;;AACA,SAAKH,UAAL,CAAgB3E,KAAhB,GAAwB7E,IAAxB,CAA6B;AAC3B,MAAA,KAAI,CAACyJ,WAAL,CAAiBG,QAAjB;;AACA,MAAA,KAAI,CAACC,uBAAL;;AAEAlJ,MAAAA,UAAU,CAAC3D,QAAX,CAAoB;AAAE/B,QAAAA,IAAI,EAAEJ,aAAR;AAAuBK,QAAAA,OAAO,EAAE,KAAI,CAACsO;AAArC,OAApB;AACD,KALD;AAMD;;;;SAEDG,gBAAA;AACE,SAAKH,UAAL,CAAgBM,QAAhB,GAA2B;AACzBC,MAAAA,QADyB,oBAChBC,UADgB;AAGvB,YAAM7C,eAAe,GAAY6C,UAAjC;AAGA7C,QAAAA,eAAe,CAAC2C,QAAhB,GAA2B;AAEzBG,UAAAA,OAFyB,mBAEjBC,QAFiB;AAGvBtI,YAAAA,OAAO,CAACC,GAAR,CAAYqI,QAAZ;AACD;AAJwB,SAA3B;AAOAvJ,QAAAA,UAAU,CAAC3D,QAAX,CAAoB;AAAE/B,UAAAA,IAAI,EAAEI,aAAR;AAAuBH,UAAAA,OAAO,EAAEiM;AAAhC,SAApB;AAEA,YAAMgD,YAAY,GAAG,IAAIjD,2BAAJ,CAAgCC,eAAhC,CAArB;AAEAA,QAAAA,eAAe,CAACtK,WAAhB,CAA4BuN,WAA5B,CAAwCD,YAAY,CAACtN,WAArD;AACD;AAlBwB,KAA3B;AAoBD;;SAEDgN,0BAAA;AACE,SAAKJ,WAAL,CAAiB5M,WAAjB,CAA6BuN,WAA7B,CAAyC,UAACtN,QAAD;AACvC,cAAQA,QAAR;AACE,aAAKuN,sBAAe,CAACC,OAArB;AACE1I,UAAAA,OAAO,CAACC,GAAR,CAAY,yCAAZ;AACA;;AACF,aAAKwI,sBAAe,CAACE,UAArB;AACE3I,UAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ;AACA;;AACF,aAAKwI,sBAAe,CAACG,YAArB;AACE5I,UAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ;AACA;;AACF,aAAKwI,sBAAe,CAAC1E,UAArB;AACE/D,UAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ;AACA;AAZJ;AAcD,KAfD;AAgBD;;SAED4I,WAAA,kBAAS3E,MAAT;AAGE,QAAM4E,MAAM,GAAG9C,gBAAS,CAACC,OAAV,UACNhC,aAAa,CAACC,MAAD,CADP,8BAAf;;AAGA,QAAI4E,MAAJ,EAAY;AACV9I,MAAAA,OAAO,CAACC,GAAR,cAAuBiE,MAAvB;AACA,UAAM6E,OAAO,GAAG,IAAIC,cAAJ,CAAY,KAAKpB,UAAjB,EAA6BkB,MAA7B,CAAhB;AAEA,UAAMG,eAAe,GAAYF,OAAjC;AAEAE,MAAAA,eAAe,CAACf,QAAhB,GAA2B;AAEzBG,QAAAA,OAFyB,mBAEjBC,QAFiB;AAIvBtI,UAAAA,OAAO,CAACC,GAAR,CAAY,eAAeqI,QAA3B;AACD;AALwB,OAA3B;AAOAvJ,MAAAA,UAAU,CAAC3D,QAAX,CAAoB;AAAE/B,QAAAA,IAAI,EAAEE,WAAR;AAAqBD,QAAAA,OAAO,EAAE2P;AAA9B,OAApB;AAEA,UAAMV,YAAY,GAAG,IAAI3E,mBAAJ,CAAwBqF,eAAxB,CAArB;AACAA,MAAAA,eAAe,CAAChO,WAAhB,CAA4BuN,WAA5B,CAAwCD,YAAY,CAACtN,WAArD;AACAgO,MAAAA,eAAe,CACZjN,MADH,GAEGoC,IAFH,CAEQ;AACJ4B,QAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACD,OAJH,WAKS,UAACiJ,KAAD;AACLlJ,QAAAA,OAAO,CAACC,GAAR,CAAYiJ,KAAZ;AACD,OAPH;AAQD,KAzBD,MAyBO;AACLlJ,MAAAA,OAAO,CAACC,GAAR,uDAAgEiE,MAAhE;AACD;AAGF;;;;;ACzJI,IAAMiF,eAAe,GAAG,iBAAxB;AACP,AAAO,IAAMC,UAAU,GAAG,YAAnB;AAEP,AAAO,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAACtD,GAAD,EAAmBmB,QAAnB;MAACnB;AAAAA,IAAAA,MAAc;;;MAAImB;AAAAA,IAAAA,WAAmB;;;AAClE,SAAO;AAAE7N,IAAAA,IAAI,EAAE8P,eAAR;AAAyB7P,IAAAA,OAAO,EAAE;AAACyM,MAAAA,GAAG,EAAHA,GAAD;AAAMmB,MAAAA,QAAQ,EAARA;AAAN;AAAlC,GAAP;AACD,CAFM;AAIP,AAAO,IAAMoC,cAAc,GAAG,SAAjBA,cAAiB,CAACC,MAAD;AAC5B,SAAO;AAAElQ,IAAAA,IAAI,EAAE+P,UAAR;AAAoB9P,IAAAA,OAAO,EAAEiQ;AAA7B,GAAP;AACD,CAFM;;ICUDC;;;;;;;;;SAEJC,oBAAA;AACEzJ,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;;AACA,QAAI,KAAKyJ,KAAL,CAAW7D,cAAX,CAA0BqB,QAA9B,EAAwC;AACtC,WAAKyC,aAAL;AACD;AACF;;SAEDA,gBAAA;AACE,QAAMvQ,OAAO,GAAG,IAAIuM,UAAJ,CAAe,KAAK+D,KAAL,CAAW9D,SAA1B,EAAqC,KAAK8D,KAAL,CAAW7D,cAAhD,CAAhB;AACA,SAAK6D,KAAL,CAAWvQ,aAAX,CAAyBC,OAAzB;AACD;;SAEDwQ,SAAA;AACE,WAAOC,mBAAA,CAACA,cAAD,MAAA,EACH,KAAKH,KAAL,CAAWI,QADR,CAAP;AAGD;;;EAlBsBD;;AAoBzB,IAAME,eAAe,GAAG,SAAlBA,eAAkB;AAAA,SAAO,EAAP;AAAA,CAAxB;;AACA,IAAMC,OAAO,GAAG;AACd7Q,EAAAA,aAAa,EAAbA,aADc;AAEdmQ,EAAAA,cAAc,EAAdA,cAFc;AAGdD,EAAAA,cAAc,EAAdA;AAHc,CAAhB;AAKA,mBAAe9G,kBAAO,CAACwH,eAAD,EAAkBC,OAAlB,CAAP,CAAkCR,UAAlC,CAAf;;;;AC5CA,mBAAeS,OAAO,CAAC,8BAAD,CAAtB;;ACAA,cAAeA,OAAO,CAAC,yBAAD,CAAtB;;ACAA,gBAAeA,OAAO,CAAC,+BAAD,CAAtB;;ICoBMC;;;AAAN;;;;AACE,eAAA,GAAQ;AAAEC,MAAAA,YAAY,EAAE;AAAhB,KAAR;;AAkED;;;;SAhECV,oBAAA;AACE,SAAKC,KAAL,CAAW3L,oBAAX;AACA,SAAK2L,KAAL,CAAWhL,qBAAX;AACD;;SACD0L,aAAA,oBAAWC,OAAX;AACE,QAAMC,IAAI,GAAQ,EAAlB;AACAD,IAAAA,OAAO,CAACE,GAAR,CAAY,UAACC,MAAD;AACVF,MAAAA,IAAI,CAAC7L,IAAL,CAAU;AAAEmD,QAAAA,KAAK,EAAE4I,MAAM,CAACvL,QAAhB;AAA0BwL,QAAAA,KAAK,EAAED,MAAM,CAACC;AAAxC,OAAV;AACD,KAFD;AAGA,WAAOH,IAAP;AACD;;SACDI,qBAAA,4BAAmBrR,IAAnB,EAAiC8B,EAAjC;AACE,QAAI9B,IAAI,KAAK,KAAb,EAAoB;AAClB,WAAKqQ,KAAL,CAAW9K,gBAAX,CAA4BzD,EAA5B;AACD,KAFD,MAEO;AACL,WAAKuO,KAAL,CAAW7K,eAAX,CAA2B1D,EAA3B;AACD;AACF;;SACDyO,SAAA;;;QACUF,QAAiB,KAAjBA;QAAOrO,QAAU,KAAVA;AACf,QAAMsP,MAAM,GAAG,KAAKP,UAAL,CAAgBV,KAAK,CAACiB,MAAtB,CAAf;AACA,QAAMC,OAAO,GAAG,KAAKR,UAAL,CAAgBV,KAAK,CAACkB,OAAtB,CAAhB;AACA,WACEf,mBAAA,CAACA,cAAD,MAAA,EACEA,mBAAA,MAAA;AAAKgB,MAAAA,SAAS,EAAEC,QAAM,CAACC;KAAvB,EACElB,mBAAA,MAAA;AAAKgB,MAAAA,SAAS,EAAEC,QAAM,CAACE;KAAvB,EAAqCtB,KAAK,CAACuB,IAA3C,CADF,EAEEpB,mBAAA,MAAA;AACE1O,MAAAA,EAAE,EAAE2P,QAAM,CAACI;AACXL,MAAAA,SAAS,EAAExP,KAAK,CAAC8O,YAAN,GAAqBW,QAAM,CAACK,EAA5B,GAAiC;AAC5CC,MAAAA,OAAO,EAAE;AAAA,eAAM,MAAI,CAACC,QAAL,CAAc;AAAElB,UAAAA,YAAY,EAAE,CAAC9O,KAAK,CAAC8O;AAAvB,SAAd,CAAN;AAAA;KAHX,EAKEN,mBAAA,MAAA;AAAKyB,MAAAA,GAAG,EAAEC;KAAV,CALF,CAFF,CADF,EAWE1B,mBAAA,MAAA;AACE1O,MAAAA,EAAE,EAAE2P,QAAM,CAACX;AACXU,MAAAA,SAAS,EAAExP,KAAK,CAAC8O,YAAN,GAAqB,EAArB,GAA0BW,QAAM,CAACU;KAF9C,EAIE3B,mBAAA,KAAA;AAAI4B,MAAAA,KAAK,EAAE;AAAEC,QAAAA,KAAK,EAAE;AAAT;KAAX,CAJF,EAKE7B,mBAAA,MAAA;AAAKgB,MAAAA,SAAS,EAAEC,QAAM,CAACa;KAAvB,EACE9B,mBAAA,MAAA;AAAKgB,MAAAA,SAAS,EAAEC,QAAM,CAACc;AAAcN,MAAAA,GAAG,EAAEO;KAA1C,CADF,EAEEhC,mBAAA,CAACiC,MAAD;AACEC,MAAAA,WAAW,EAAC;AACZnK,MAAAA,KAAK,EAAEgJ,OAAO,CAACoB,IAAR,CAAa,UAACC,MAAD;AAAA,eAAiBA,MAAM,CAACrK,KAAP,KAAiB8H,KAAK,CAACwC,aAAxC;AAAA,OAAb,KAAuE;AAC9EC,MAAAA,QAAQ,EAAE,kBAAA3B,MAAM;AAAA,eAAI,MAAI,CAACE,kBAAL,CAAwB,KAAxB,EAA+BF,MAAM,CAAC5I,KAAtC,CAAJ;AAAA;AAChByI,MAAAA,OAAO,EAAEO;AACTzP,MAAAA,EAAE,EAAE2P,QAAM,CAACsB;KALb,CAFF,CALF,EAeEvC,mBAAA,MAAA;AAAKgB,MAAAA,SAAS,EAAEC,QAAM,CAACa;KAAvB,EACE9B,mBAAA,MAAA;AAAKgB,MAAAA,SAAS,EAAEC,QAAM,CAACc;AAAcN,MAAAA,GAAG,EAAEe;KAA1C,CADF,EAEExC,mBAAA,CAACiC,MAAD;AACEC,MAAAA,WAAW,EAAC;AACZnK,MAAAA,KAAK,EAAE+I,MAAM,CAACqB,IAAP,CAAY,UAACM,KAAD;AAAA,eAAgBA,KAAK,CAAC1K,KAAN,KAAgB8H,KAAK,CAAC6C,YAAtC;AAAA,OAAZ;AACPJ,MAAAA,QAAQ,EAAE,kBAAA3B,MAAM;AAAA,eAAI,MAAI,CAACE,kBAAL,CAAwB,IAAxB,EAA8BF,MAAM,CAAC5I,KAArC,CAAJ;AAAA;AAChByI,MAAAA,OAAO,EAAEM;AACTxP,MAAAA,EAAE,EAAE2P,QAAM,CAACsB;KALb,CAFF,CAfF,EAyBEvC,mBAAA,KAAA;AAAI4B,MAAAA,KAAK,EAAE;AAAEC,QAAAA,KAAK,EAAE;AAAT;KAAX,CAzBF,CAXF,CADF;AAyCD;;;EAlEkB7B;;AAoErB,IAAME,iBAAe,GAAG,SAAlBA,eAAkB,CAAC1O,KAAD;AAAA,SAAiB;AACvCsP,IAAAA,MAAM,EAAEtP,KAAK,CAACkD,MAAN,CAAaiO,UADkB;AAEvC5B,IAAAA,OAAO,EAAEvP,KAAK,CAACkD,MAAN,CAAakO,WAFiB;AAGvCF,IAAAA,YAAY,EAAElR,KAAK,CAACkD,MAAN,CAAa4B,iBAHY;AAIvC+L,IAAAA,aAAa,EAAE7Q,KAAK,CAACkD,MAAN,CAAaW;AAJW,GAAjB;AAAA,CAAxB;;AAOA,IAAM8K,SAAO,GAAG;AACdnL,EAAAA,eAAe,EAAfA,eADc;AAEdD,EAAAA,gBAAgB,EAAhBA,gBAFc;AAGdb,EAAAA,oBAAoB,EAApBA,oBAHc;AAIdW,EAAAA,qBAAqB,EAArBA;AAJc,CAAhB;AAMA,eAAe6D,kBAAO,CAACwH,iBAAD,EAAkBC,SAAlB,CAAP,CAAkCE,MAAlC,CAAf;;;;AC7FA,IAAMwC,UAAU,GAAG,SAAbA,UAAa;MAAGC,YAAAA;MAAMC,aAAAA;MAAOC,eAAAA;AACjC,SAAOhD,mBAAA,MAAA;AAAK1O,IAAAA,EAAE,EAAC;AACb0P,IAAAA,SAAS,EAAEC,QAAM,CAACgC;AAClB1B,IAAAA,OAAO,EAAE;AAAA,aAAMwB,KAAK,EAAX;AAAA;GAFJ,EAGJD,IAHI,EAIL9C,mBAAA,MAAA;AAAK4B,IAAAA,KAAK,EAAE;AAACsB,MAAAA,OAAO,EAAEF,OAAO,KAAK,GAAZ,GAAkB,CAAlB,GAAsB;AAAhC;AAAoChC,IAAAA,SAAS,EAAEC,QAAM,CAACkC;GAAlE,EACGH,OADH,CAJK,CAAP;AAQD,CATD;;ACTO,IAAMI,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACrL,KAAD;AAC9B,UAAQA,KAAR;AACE,SAAK,GAAL;AACE,aAAO,GAAP;;AACF,SAAK,GAAL;AACE,aAAO,KAAP;;AACF,SAAK,GAAL;AACE,aAAO,KAAP;;AACF,SAAK,GAAL;AACE,aAAO,KAAP;;AACF,SAAK,GAAL;AACE,aAAO,KAAP;;AACF,SAAK,GAAL;AACE,aAAO,KAAP;;AACF,SAAK,GAAL;AACE,aAAO,MAAP;;AACF,SAAK,GAAL;AACE,aAAO,KAAP;;AACF,SAAK,GAAL;AACE,aAAO,MAAP;;AACF,SAAK,GAAL;AACE,aAAO,GAAP;;AACF;AACE,aAAO,EAAP;AAtBJ;AAwBD,CAzBM;;ICcDsL;;;AAKJ,mBAAYxD,KAAZ;;;AACE,wCAAMA,KAAN;AALF,gBAAA,GAAc,EAAd;AACA,mBAAA,GAAiB,EAAjB;AACA,mBAAA,GAAiB,EAAjB;;AAIE,SAAK,IAAIyD,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuBA,CAAC,EAAxB,EAA4B;AAC1B,YAAKC,MAAL,CAAY3O,IAAZ,CAAiB,MAAK4O,SAAL,CAAeF,CAAC,CAACG,QAAF,EAAf,CAAjB;AACD;;AACD,SAAK,IAAIH,EAAC,GAAG,CAAb,EAAgBA,EAAC,GAAG,CAApB,EAAuBA,EAAC,EAAxB,EAA4B;AAC1B,YAAKI,SAAL,CAAe9O,IAAf,CAAoB,MAAK4O,SAAL,CAAeF,EAAC,CAACG,QAAF,EAAf,CAApB;AACD;;AACD,SAAK,IAAIH,GAAC,GAAG,CAAb,EAAgBA,GAAC,GAAG,EAApB,EAAwBA,GAAC,EAAzB,EAA6B;AAC3B,YAAKK,SAAL,CAAe/O,IAAf,CAAoB,MAAK4O,SAAL,CAAeF,GAAC,CAACG,QAAF,EAAf,CAApB;AACD;;;AACF;;;;SAEDD,YAAA,mBAAUzL,KAAV;;;AACE,WACEiI,mBAAA,CAAC6C,UAAD;AACEjL,MAAAA,GAAG,EAAEG;AACL+K,MAAAA,IAAI,EAAE/K;AACNiL,MAAAA,OAAO,EAAEI,gBAAgB,CAACrL,KAAD;AACzBgL,MAAAA,KAAK,EAAE;AAAA,eAAM,MAAI,CAACa,WAAL,CAAiB7L,KAAjB,CAAN;AAAA;KAJT,CADF;AAQD;;SAED6L,cAAA,qBAAY7L,KAAZ;AACE,QAAI,KAAK8H,KAAL,CAAWlO,OAAX,CAAmBH,KAAnB,KAA6BS,mBAAY,CAACC,WAA9C,EAA2D;AACzD,WAAK2R,QAAL,CAAc9L,KAAd;AACAJ,MAAAA,QAAQ,CAACI,KAAD,EAAQ,KAAK8H,KAAL,CAAWzK,QAAnB,CAAR;AACD;AACF;;SAEDyO,WAAA,kBAAS9L,KAAT;AACE,QAAMyI,OAAO,GAAG;AACdsD,MAAAA,cAAc,EAAE;AACdC,QAAAA,IAAI,EAAE;AACJC,UAAAA,kBAAkB,EAAE,QADhB;AAEJC,UAAAA,WAAW,EAAE,wBAFT;AAGJC,UAAAA,OAAO,cAAYnM,KAAZ;AAHH;AADQ;AADF,KAAhB;AASA,SAAK8H,KAAL,CAAWlO,OAAX,CAAmBwS,IAAnB,CAAwB3D,OAAxB;AACD;;SAEDT,SAAA;AACE,WACEC,mBAAA,MAAA;AAAKgB,MAAAA,SAAS,EAAE,KAAKnB,KAAL,CAAWuE,IAAX,GAAkB,EAAlB,GAAuBnD,QAAM,CAACU;AAAQrQ,MAAAA,EAAE,EAAE2P,QAAM,CAACoD;KAAjE,EACErE,mBAAA,MAAA;AAAKgB,MAAAA,SAAS,EAAEC,QAAM,CAACqD;KAAvB,EAAoC,KAAKf,MAAzC,CADF,EAEEvD,mBAAA,MAAA;AAAKgB,MAAAA,SAAS,EAAEC,QAAM,CAACqD;KAAvB,EAAoC,KAAKZ,SAAzC,CAFF,EAGE1D,mBAAA,MAAA;AAAKgB,MAAAA,SAAS,EAAEC,QAAM,CAACqD;KAAvB,EAAoC,KAAKX,SAAzC,CAHF,EAIE3D,mBAAA,MAAA;AAAKgB,MAAAA,SAAS,EAAEC,QAAM,CAACqD;KAAvB,EACG,KAAKd,SAAL,CAAe,GAAf,CADH,EAEG,KAAKA,SAAL,CAAe,GAAf,CAFH,EAGG,KAAKA,SAAL,CAAe,GAAf,CAHH,CAJF,CADF;AAYD;;;EA9DmBxD;;AAiEtB,IAAME,iBAAe,GAAG,SAAlBA,eAAkB,CAAC1O,KAAD;AAAA,SAAiB;AACvC4D,IAAAA,QAAQ,EAAE5D,KAAK,CAACkD,MAAN,CAAaW;AADgB,GAAjB;AAAA,CAAxB;;AAGA,IAAM8K,SAAO,GAAG,EAAhB;AAGA,gBAAezH,kBAAO,CAACwH,iBAAD,EAAkBC,SAAlB,CAAP,CAAkCkD,OAAlC,CAAf;;ACpFA,eAAejD,OAAO,CAAC,kCAAD,CAAtB;;ICiBMmE;;;;;;;;;SACJC,OAAA;AACE,QAAI,KAAKC,cAAL,EAAJ,EAA2B;AACzB,WAAK5E,KAAL,CAAWtN,iBAAX,CAA6B,KAAKsN,KAAL,CAAWlO,OAAxC,EAAiD,KAAKkO,KAAL,CAAWhE,MAA5D,EAAoE,KAAKgE,KAAL,CAAWnN,QAA/E;AACD,KAFD,MAEO;AACL,WAAKmN,KAAL,CAAW9N,eAAX,CAA2B,KAAK8N,KAAL,CAAWlO,OAAtC;AACD;;AACD;AACD;;SAED8S,iBAAA;AACE,WAAO,KAAK5E,KAAL,CAAWhE,MAAX,CAAkBjB,QAAlB,CAA2B,KAAKiF,KAAL,CAAWlO,OAAX,CAAmBL,EAA9C,CAAP;AACD;;SAEDyO,SAAA;;;AACE,WACEC,mBAAA,SAAA;AAAQgB,MAAAA,SAAS,EAAE,KAAKyD,cAAL,KAAwBxD,QAAM,CAACK,EAA/B,GAAoC;AAAIhQ,MAAAA,EAAE,EAAE2P,QAAM,CAACyD;AAAcnD,MAAAA,OAAO,EAAE;AAAA,eAAM,KAAI,CAACiD,IAAL,EAAN;AAAA;KAA7F,EACExE,mBAAA,MAAA;AAAKyB,MAAAA,GAAG,EAAEkD;KAAV,CADF,CADF;AAKD;;;EApBgB3E;;AAuBnB,IAAME,iBAAe,GAAG,SAAlBA,eAAkB,CAAC1O,KAAD;AAAA,SAAiB;AACvCoT,IAAAA,YAAY,EAAEpT,KAAK,CAACoK,WAAN,CAAkBgJ,YADO;AAEvClS,IAAAA,QAAQ,EAAElB,KAAK,CAACoK,WAAN,CAAkBlJ,QAFW;AAGvCmS,IAAAA,SAAS,EAAErT,KAAK,CAACgJ,WAAN,CAAkBqK,SAHU;AAIvChJ,IAAAA,MAAM,EAAErK,KAAK,CAACoK,WAAN,CAAkBC;AAJa,GAAjB;AAAA,CAAxB;;AAMA,IAAMsE,SAAO,GAAG;AACdpO,EAAAA,eAAe,EAAfA,eADc;AAEdQ,EAAAA,iBAAiB,EAAjBA;AAFc,CAAhB;AAKA,aAAemG,kBAAO,CAACwH,iBAAD,EAAkBC,SAAlB,CAAP,CAAkCoE,IAAlC,CAAf;;ACnDA,iBAAenE,OAAO,CAAC,6BAAD,CAAtB;;IC2BM0E;;;AAAN;;;;AACE,eAAA,GAAQ;AACNC,MAAAA,MAAM,EAAE;AADF,KAAR;;AAkFD;;;;SA9ECC,OAAA;;;AACE,QAAI,KAAKxT,KAAL,CAAWuT,MAAf,EAAuB;AACrB,WAAKlF,KAAL,CAAWpM,aAAX;AACA,aAAO,IAAIwR,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV;AACjB,YACE,CAAC,MAAI,CAACtF,KAAL,CAAWlO,OAAX,CAAmBK,yBAApB,IACA,MAAI,CAAC6N,KAAL,CAAWlO,OAAX,CAAmBH,KAAnB,KAA6BS,mBAAY,CAACC,WAF5C,EAGE;AACA,UAAA,MAAI,CAAC2N,KAAL,CAAWlM,UAAX;;AACAwR,UAAAA,MAAM,CAAC,oBAAD,CAAN;AACA;AACD;;AACD,YAAI;AACF,cAAMC,EAAE,GAEN,MAAI,CAACvF,KAAL,CAAWlO,OAAX,CAAmBK,yBAAnB,CAA8C2D,cAFhD;AAGAyP,UAAAA,EAAE,CAAC7O,UAAH,GAAgB9B,OAAhB,CAAwB,UAAUmC,MAAV;AACtB,gBAAIA,MAAM,CAACd,KAAP,IAAgBc,MAAM,CAACd,KAAP,CAAanB,IAAb,KAAsB,OAA1C,EAAmD;AACjDiC,cAAAA,MAAM,CAACd,KAAP,CAAauP,OAAb,GAAuB,IAAvB;AACD;AACF,WAJD;;AAKA,UAAA,MAAI,CAACxF,KAAL,CAAWnM,aAAX;;AACA,UAAA,MAAI,CAAC8N,QAAL,CAAc;AAAEuD,YAAAA,MAAM,EAAE;AAAV,WAAd;;AACAG,UAAAA,OAAO;AACP;AACD,SAbD,CAaE,OAAO5S,GAAP,EAAY;AACZ,UAAA,MAAI,CAACuN,KAAL,CAAWlM,UAAX;;AACAwR,UAAAA,MAAM,CAAC7S,GAAD,CAAN;AACA;AACD;AACF,OA3BM,CAAP;AA4BD;;AAED,QAAI,CAAC,KAAKd,KAAL,CAAWuT,MAAhB,EAAwB;AACtB,aAAO,IAAIE,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV;AACjB,YACE,CAAC,MAAI,CAACtF,KAAL,CAAWlO,OAAX,CAAmBK,yBAApB,IACA,MAAI,CAAC6N,KAAL,CAAWlO,OAAX,CAAmBH,KAAnB,KAA6BS,mBAAY,CAACC,WAF5C,EAGE;AACA,UAAA,MAAI,CAAC2N,KAAL,CAAWrM,QAAX;;AACA2R,UAAAA,MAAM,CAAC,oBAAD,CAAN;AACA;AACD;;AACD,YAAI;AACF,UAAA,MAAI,CAACtF,KAAL,CAAWvM,WAAX;;AACA,cAAM8R,EAAE,GAEN,MAAI,CAACvF,KAAL,CAAWlO,OAAX,CAAmBK,yBAAnB,CAA8C2D,cAFhD;AAGAQ,UAAAA,OAAO,CAACC,GAAR,CAAYgP,EAAE,CAAC7O,UAAH,EAAZ;AACA6O,UAAAA,EAAE,CAAC7O,UAAH,GAAgB9B,OAAhB,CAAwB,UAAUmC,MAAV;AACtB,gBAAIA,MAAM,CAACd,KAAP,IAAgBc,MAAM,CAACd,KAAP,CAAanB,IAAb,KAAsB,OAA1C,EAAmD;AACjDiC,cAAAA,MAAM,CAACd,KAAP,CAAauP,OAAb,GAAuB,KAAvB;AACD;AACF,WAJD;;AAKA,UAAA,MAAI,CAACxF,KAAL,CAAWtM,WAAX;;AACA,UAAA,MAAI,CAACiO,QAAL,CAAc;AAAEuD,YAAAA,MAAM,EAAE;AAAV,WAAd;;AACAG,UAAAA,OAAO;AACP;AACD,SAfD,CAeE,OAAO5S,GAAP,EAAY;AACZ,UAAA,MAAI,CAACuN,KAAL,CAAWrM,QAAX;;AACA2R,UAAAA,MAAM,CAAC7S,GAAD,CAAN;AACA;AACD;AACF,OA7BM,CAAP;AA8BD;;AACD,SAAKuN,KAAL,CAAWrM,QAAX;AACA;AACD;;SAEDuM,SAAA;;;AACE,WACEC,mBAAA,MAAA;AACEgB,MAAAA,SAAS,EAAE,KAAKxP,KAAL,CAAWuT,MAAX,GAAoB9D,QAAM,CAACK,EAA3B,GAAgC;AAC3ChQ,MAAAA,EAAE,EAAE2P,QAAM,CAACyD;AAAcnD,MAAAA,OAAO,EAAE;AAAA,eAAM,MAAI,CAACyD,IAAL,EAAN;AAAA;KAFpC,EAGEhF,mBAAA,MAAA;AAAKyB,MAAAA,GAAG,EAAE6D;KAAV,CAHF,CADF;AAOD;;;EAlFgBtF;;AAqFnB,IAAME,iBAAe,GAAG,SAAlBA,eAAkB,CAAC1O,KAAD;AAAA,SAAiB;AACvCoT,IAAAA,YAAY,EAAEpT,KAAK,CAACoK,WAAN,CAAkBgJ,YADO;AAEvClS,IAAAA,QAAQ,EAAElB,KAAK,CAACoK,WAAN,CAAkBlJ,QAFW;AAGvCmS,IAAAA,SAAS,EAAErT,KAAK,CAACgJ,WAAN,CAAkBqK;AAHU,GAAjB;AAAA,CAAxB;;AAKA,IAAM1E,SAAO,GAAG;AACd7M,EAAAA,WAAW,EAAXA,WADc;AAEdC,EAAAA,WAAW,EAAXA,WAFc;AAGdC,EAAAA,QAAQ,EAARA,QAHc;AAIdC,EAAAA,aAAa,EAAbA,aAJc;AAKdC,EAAAA,aAAa,EAAbA,aALc;AAMdC,EAAAA,UAAU,EAAVA;AANc,CAAhB;AASA,aAAe+E,kBAAO,CAACwH,iBAAD,EAAkBC,SAAlB,CAAP,CAAkC2E,IAAlC,CAAf;;AC9HA,mBAAe1E,OAAO,CAAC,mCAAD,CAAtB;;ICsBMmF;;;;;;;;;SACJC,oBAAA;AACE,SAAK3F,KAAL,CAAWhN,oBAAX;AACA,QAAMoM,MAAM,GAAG9C,gBAAS,CAACC,OAAV,UACNhC,aAAa,CAAC,KAAKyF,KAAL,CAAW4F,WAAZ,CADP,8BAAf;;AAGA,QAAIxG,MAAJ,EAAY;AACV,UAAI;AACF,aAAKY,KAAL,CAAWlO,OAAX,CAAmB+T,KAAnB,CAAyBzG,MAAzB;AACA,aAAKY,KAAL,CAAW/M,oBAAX;AACD,OAHD,CAGE,OAAOR,GAAP,EAAY;AACZ6D,QAAAA,OAAO,CAACC,GAAR,CAAY9D,GAAZ;AACD;AACF,KAPD,MAOO;AACL,WAAKuN,KAAL,CAAW9M,iBAAX;AACD;AACF;;SAEDgN,SAAA;;;AACE,WACEC,mBAAA,CAACA,cAAD,MAAA,EACEA,mBAAA,SAAA;AACEgB,MAAAA,SAAS,EAAEC,QAAM,CAAC0E;AAClBpE,MAAAA,OAAO,EAAE;AAAA,eAAM,KAAI,CAACiE,iBAAL,EAAN;AAAA;KAFX,EAIExF,mBAAA,MAAA;AAAKyB,MAAAA,GAAG,EAAEmE;KAAV,CAJF,CADF,CADF;AAUD;;;EA7ByB5F;;AAgC5B,IAAME,iBAAe,GAAG,SAAlBA,eAAkB,CAAC1O,KAAD;AAAA,SAAiB;AACvCoT,IAAAA,YAAY,EAAEpT,KAAK,CAACoK,WAAN,CAAkBgJ,YADO;AAEvClS,IAAAA,QAAQ,EAAElB,KAAK,CAACoK,WAAN,CAAkBlJ,QAFW;AAGvCmS,IAAAA,SAAS,EAAErT,KAAK,CAACgJ,WAAN,CAAkBqK;AAHU,GAAjB;AAAA,CAAxB;;AAKA,IAAM1E,SAAO,GAAG;AACdtN,EAAAA,oBAAoB,EAApBA,oBADc;AAEdC,EAAAA,oBAAoB,EAApBA,oBAFc;AAGdC,EAAAA,iBAAiB,EAAjBA;AAHc,CAAhB;AAMA,mBAAe2F,kBAAO,CAACwH,iBAAD,EAAkBC,SAAlB,CAAP,CAAkCoF,aAAlC,CAAf;;ACjEA,mBAAenF,OAAO,CAAC,mCAAD,CAAtB;;ACAA,kBAAeA,OAAO,CAAC,8BAAD,CAAtB;;ICsCMyF;;;AAAN;;;;AACE,eAAA,GAAQ;AACNC,MAAAA,8BAA8B,EAAE,IAD1B;AAENC,MAAAA,4BAA4B,EAAE;AAFxB,KAAR;;AAqJD;;;;SAhJCC,uBAAA;;;AACE,SAAKrK,OAAL;AACA,SAAKkE,KAAL,CAAW7M,uBAAX;AACA,QAAMiM,MAAM,GAAG9C,gBAAS,CAACC,OAAV,UACNhC,aAAa,CAAC,KAAKyF,KAAL,CAAW4F,WAAZ,CADP,8BAAf;;AAGA,QAAIxG,MAAJ,EAAY;AACV,UAAMC,OAAO,GAAG,IAAIC,cAAJ,CAAY,KAAKU,KAAL,CAAWgF,SAAvB,EAAkC5F,MAAlC,CAAhB;AACA,UAAMG,eAAe,GAAYF,OAAjC;AACAhK,MAAAA,UAAU,CAAC3D,QAAX,CAAoB;AAAE/B,QAAAA,IAAI,EAAEG,qBAAR;AAA+BF,QAAAA,OAAO,EAAE2P;AAAxC,OAApB;AACA,WAAKoC,QAAL,CAAc;AAAEsE,QAAAA,8BAA8B,EAAE1G;AAAlC,OAAd;AAEAA,MAAAA,eAAe,CAAChO,WAAhB,CAA4BuN,WAA5B,CAAwC,UAACtN,QAAD;AACtC,gBAAQA,QAAR;AACE,eAAKY,mBAAY,CAAC4M,OAAlB;AACA,eAAK5M,mBAAY,CAAC+H,YAAlB;AACE,YAAA,MAAI,CAAC6F,KAAL,CAAWzO,WAAX,CAAuBC,QAAvB,EAAiC+N,eAAe,CAAC9N,EAAjD;;AAEA,YAAA,MAAI,CAACuO,KAAL,CAAW1M,uBAAX;;AAEA;;AACF,eAAKlB,mBAAY,CAACC,WAAlB;AACE,YAAA,MAAI,CAACsP,QAAL,CAAc;AAAEuE,cAAAA,4BAA4B,EAAE3G;AAAhC,aAAd;;AACA,YAAA,MAAI,CAACS,KAAL,CAAW3M,qBAAX;;AAEA,YAAA,MAAI,CAACsO,QAAL,CAAc;AAAEsE,cAAAA,8BAA8B,EAAE;AAAlC,aAAd;;AACA,YAAA,MAAI,CAACjG,KAAL,CAAWzO,WAAX,CAAuBC,QAAvB,EAAiC+N,eAAe,CAAC9N,EAAjD;;AAEA;;AACF,eAAKW,mBAAY,CAACgI,WAAlB;AACE,YAAA,MAAI,CAAC4F,KAAL,CAAWzO,WAAX,CAAuBC,QAAvB,EAAiC+N,eAAe,CAAC9N,EAAjD;;AACA;;AACF,eAAKW,mBAAY,CAACiI,UAAlB;AACE,YAAA,MAAI,CAAC2F,KAAL,CAAWzO,WAAX,CAAuBC,QAAvB,EAAiC+N,eAAe,CAAC9N,EAAjD;;AACA,YAAA,MAAI,CAAC2U,qBAAL;;AAEA9L,YAAAA,UAAU,CAAC;AACT,cAAA,MAAI,CAAC0F,KAAL,CAAWpO,YAAX,CAAwB2N,eAAe,CAAC9N,EAAxC;AACD,aAFS,EAEP,IAFO,CAAV;AAGA;;AACF;AACE6E,YAAAA,OAAO,CAACC,GAAR,oCAA6C/E,QAA7C;AACA;AA7BJ;AA+BD,OAhCD;AAiCA+N,MAAAA,eAAe,CAACjN,MAAhB,YAA+B,UAACkN,KAAD;AAC7B,QAAA,MAAI,CAACQ,KAAL,CAAWxM,oBAAX;;AACA8C,QAAAA,OAAO,CAACC,GAAR,CAAYiJ,KAAZ;AACD,OAHD;AAID,KA3CD,MA2CO;AACL,WAAKQ,KAAL,CAAWxM,oBAAX;AAED;AACF;;SAED4S,wBAAA;AACE,SAAKzE,QAAL,CAAc;AAAEsE,MAAAA,8BAA8B,EAAE;AAAlC,KAAd;AACA,SAAKtE,QAAL,CAAc;AAAEuE,MAAAA,4BAA4B,EAAE;AAAhC,KAAd;AACA,SAAKlG,KAAL,CAAWqG,OAAX,CAAmB,KAAnB;AACD;;SAGDC,0BAAA,iCAAwBC,uBAAxB;AACE,QAAI;AACF,WAAKvG,KAAL,CAAWlO,OAAX,CAAmB+T,KAAnB,CAAyBU,uBAAzB;AACA,WAAKvG,KAAL,CAAWzM,uBAAX;AAEA,WAAKoO,QAAL,CAAc;AAAEuE,QAAAA,4BAA4B,EAAE;AAAhC,OAAd;AACD,KALD,CAKE,OAAOzT,GAAP,EAAY;AACZ6D,MAAAA,OAAO,CAACC,GAAR,CAAY9D,GAAZ;AACD;AACF;;SAED+T,yBAAA,gCAAuBD,uBAAvB;AACEA,IAAAA,uBAAuB,CAACE,MAAxB;AACA,SAAKzG,KAAL,CAAW5M,sBAAX;AAEA,SAAKuO,QAAL,CAAc;AAAEsE,MAAAA,8BAA8B,EAAE;AAAlC,KAAd;AACA,SAAKtE,QAAL,CAAc;AAAE4E,MAAAA,uBAAuB,EAAE;AAA3B,KAAd;AACD;;SAEDzK,UAAA;AACE,QAAMnK,KAAK,GAAG0D,UAAU,CAACC,QAAX,EAAd;AAGA,QAAM1C,OAAO,GAAGjB,KAAK,CAACoK,WAAN,CAAkBC,MAAlC;AAGA;AAEA,QAAI,KAAKgE,KAAL,CAAWlO,OAAX,CAAmBL,EAAnB,IAAyBmB,OAAzB,KAAqC,KAAzC,EAAgD;AAC9C,UAAI;AAEF,aAAKoN,KAAL,CAAW9N,eAAX,CAA2B,KAAK8N,KAAL,CAAWlO,OAAtC;AAEA;AACD,OALD,CAKE,OAAOW,GAAP,EAAY;AACZ;AACD;AACF;AACF;;SAEDyN,SAAA;;;AACE,QAAI,KAAKvO,KAAL,CAAWuU,4BAAf,EAA6C;AAC3C,aACE/F,mBAAA,CAACA,cAAD,MAAA,EAEEA,mBAAA,CAACuG,OAAD;AAAO5U,QAAAA,OAAO,EAAE,KAAKH,KAAL,CAAWuU;AAA8BS,QAAAA,WAAW,EAAE;AAAEC,UAAAA,eAAe,EAAE,CAAC,QAAD,EAAW,UAAX;AAAnB;OAAtE,CAFF,EAIEzG,mBAAA,SAAA;AACEgB,QAAAA,SAAS,EAAEC,QAAM,CAAC0E;AAClBpE,QAAAA,OAAO,EAAE;AACP,UAAA,MAAI,CAAC1B,KAAL,CAAWqG,OAAX,CAAmB,KAAnB;;AACA,UAAA,MAAI,CAACC,uBAAL,CAA6B,MAAI,CAAC3U,KAAL,CAAWuU,4BAAxC;AACD;OALH,EAME/F,mBAAA,MAAA;AAAKyB,QAAAA,GAAG,EAAEiF;OAAV,CANF,CAJF,CADF;AAgBD,KAjBD,MAiBO,IAAI,KAAKlV,KAAL,CAAWsU,8BAAf,EAA+C;AACpD,aACE9F,mBAAA,SAAA;AACEgB,QAAAA,SAAS,EAAEC,QAAM,CAAC0F;AAClBpF,QAAAA,OAAO,EAAE;AACP,UAAA,MAAI,CAAC1B,KAAL,CAAWqG,OAAX,CAAmB,KAAnB;;AACA,UAAA,MAAI,CAACG,sBAAL,CAA4B,MAAI,CAAC7U,KAAL,CAAWsU,8BAAvC;AACD;OALH,EAME9F,mBAAA,MAAA;AAAKyB,QAAAA,GAAG,EAAEmF;OAAV,CANF,CADF;AAUD,KAXM,MAWA;AACL,aACE5G,mBAAA,SAAA;AACEgB,QAAAA,SAAS,EAAEC,QAAM,CAAC0E;AAClBpE,QAAAA,OAAO,EAAE;AACP,UAAA,MAAI,CAAC1B,KAAL,CAAWqG,OAAX,CAAmB,IAAnB;;AACA,UAAA,MAAI,CAACF,oBAAL;AACD;OALH,EAMEhG,mBAAA,MAAA;AAAKyB,QAAAA,GAAG,EAAEoF;OAAV,CANF,CADF;AAUD;AACF;;;EArJ4B7G;;AAwJ/B,IAAME,iBAAe,GAAG,SAAlBA,eAAkB,CAAC1O,KAAD;AAAA,SAAiB;AACvCoT,IAAAA,YAAY,EAAEpT,KAAK,CAACoK,WAAN,CAAkBgJ,YADO;AAEvClS,IAAAA,QAAQ,EAAElB,KAAK,CAACoK,WAAN,CAAkBlJ,QAFW;AAGvCmS,IAAAA,SAAS,EAAErT,KAAK,CAACgJ,WAAN,CAAkBqK;AAHU,GAAjB;AAAA,CAAxB;;AAKA,IAAM1E,SAAO,GAAG;AACdpO,EAAAA,eAAe,EAAfA,eADc;AAEdiB,EAAAA,uBAAuB,EAAvBA,uBAFc;AAGdC,EAAAA,sBAAsB,EAAtBA,sBAHc;AAIdC,EAAAA,qBAAqB,EAArBA,qBAJc;AAKdC,EAAAA,uBAAuB,EAAvBA,uBALc;AAMdC,EAAAA,uBAAuB,EAAvBA,uBANc;AAOdC,EAAAA,oBAAoB,EAApBA,oBAPc;AAQdjC,EAAAA,WAAW,EAAXA,WARc;AASdK,EAAAA,YAAY,EAAZA;AATc,CAAhB;AAYA,yBAAeiH,kBAAO,CAACwH,iBAAD,EAAkBC,SAAlB,CAAP,CAAkC0F,gBAAlC,CAAf;;AC/MA,kBAAezF,OAAO,CAAC,6BAAD,CAAtB;;ICwBMmG;;;AAWJ,iBAAY1G,KAAZ;;;AACE,wCAAMA,KAAN;AAXF,eAAA,GAAQ;AACNiH,MAAAA,WAAW,EAAE,KADP;AAENC,MAAAA,YAAY,EAAE,KAFR;AAGNC,MAAAA,KAAK,EAAE,KAHD;AAINC,MAAAA,kBAAkB,EAAE,EAJd;AAKNC,MAAAA,uBAAuB,EAAE,KALnB;AAMNlM,MAAAA,QAAQ,EAAE,CANJ;AAONmM,MAAAA,cAAc,EAAE;AAPV,KAAR;AAYE,UAAKC,eAAL,GAAuB,MAAKA,eAAL,CAAqBC,IAArB,+BAAvB;;AACD;;;;SAEDC,qBAAA,4BAAmBC,QAAnB;AACE,QAAIA,QAAQ,CAAC5V,OAAT,CAAiBH,KAAjB,KAA2BS,mBAAY,CAACC,WAAxC,IAAuD,CAAC,KAAKV,KAAL,CAAW2V,cAAvE,EAAuF;AACrF,WAAKK,aAAL;AACD;;AACD,QACED,QAAQ,CAAC5V,OAAT,CAAiBH,KAAjB,KAA2BS,mBAAY,CAACiI,UAAxC,IACA,KAAK1I,KAAL,CAAWwV,KAAX,KAAqB,KAFvB,EAGE;AACA,WAAKxF,QAAL,CAAc;AAAEwF,QAAAA,KAAK,EAAE;AAAT,OAAd;AACD;AACF;;SAEDnV,UAAA;;;AACE,QAAI,KAAKgO,KAAL,CAAWlO,OAAX,CAAmBH,KAAnB,KAA6BS,mBAAY,CAACC,WAA9C,EAA2D;AACzD,WAAK2N,KAAL,CAAWlO,OAAX,CAAmB8V,GAAnB;AACD,KAFD,MAEO,IACL,KAAK5H,KAAL,CAAWlO,OAAX,CAAmBH,KAAnB,KAA6BS,mBAAY,CAAC4M,OAA1C,IACA,KAAKgB,KAAL,CAAWlO,OAAX,CAAmBH,KAAnB,KAA6BS,mBAAY,CAAC+H,YAFrC,EAGL;AACAF,MAAAA,WAAW,CAACD,OAAZ;AACAhB,MAAAA,cAAc,CAAC,KAAKgH,KAAL,CAAWzK,QAAZ,CAAd;AAGA,WAAKyK,KAAL,CAAWlO,OAAX,CAAmB2U,MAAnB;AAED;;AACD,SAAK9E,QAAL,CAAc;AAAEwF,MAAAA,KAAK,EAAE;AAAT,KAAd;AACA7M,IAAAA,UAAU,CAAC;AACT,MAAA,MAAI,CAAC0F,KAAL,CAAWlO,OAAX,CAAmB+V,OAAnB;;AACA,MAAA,MAAI,CAAC7H,KAAL,CAAWhO,OAAX,CAAmB,MAAI,CAACgO,KAAL,CAAWlO,OAAX,CAAmBL,EAAtC;AACD,KAHS,EAGP,IAHO,CAAV;AAID;;SAED8V,kBAAA,yBAAgBO,IAAhB;AACE,SAAKnG,QAAL,CAAc;AAAE0F,MAAAA,uBAAuB,EAAES;AAA3B,KAAd;AACD;;SAEDH,gBAAA;;;AACE,QAAI,KAAK3H,KAAL,CAAWlO,OAAX,IAAsB,KAAKkO,KAAL,CAAWlO,OAAX,CAAmBH,KAAnB,KAA6BS,mBAAY,CAACiI,UAApE,EAAgF;AAC9E,UAAI,KAAK1I,KAAL,CAAW2V,cAAX,KAA8B,KAAlC,EAAyC;AACvC,aAAK3F,QAAL,CAAc;AAAE2F,UAAAA,cAAc,EAAE;AAAlB,SAAd;AACD;;AACDhN,MAAAA,UAAU,CAAC;AACT,QAAA,MAAI,CAACqH,QAAL,CAAc;AAAExG,UAAAA,QAAQ,EAAE,MAAI,CAACxJ,KAAL,CAAWwJ,QAAX,GAAsB;AAAlC,SAAd;;AACA,QAAA,MAAI,CAACwM,aAAL;AACD,OAHS,EAGP,IAHO,CAAV;AAID;AACF;;SAEDzH,SAAA;;;QACUvO,QAAiB,KAAjBA;QAAOqO,QAAU,KAAVA;AACf,WACEG,mBAAA,CAACA,cAAD,MAAA,EACEA,mBAAA,KAAA;AAAI4B,MAAAA,KAAK,EAAE;AAAEC,QAAAA,KAAK,EAAE;AAAT;KAAX,CADF,EAEE7B,mBAAA,MAAA,MAAA,EAEKH,KAAK,CAAClO,OAAN,CAAciW,cAAd,CAA6B1L,GAA7B,CAAiC2L,MAAjC,CAAwCC,IAF7C,WAEuDjI,KAAK,CAAClO,OAAN,CAAciW,cAAd,CAA6BG,YAFpF,CAFF,EAME/H,mBAAA,KAAA,MAAA,CANF,EAOEA,mBAAA,MAAA,MAAA,EAAMnF,UAAU,CAACgF,KAAK,CAAClO,OAAN,CAAcH,KAAf,CAAhB,CAPF,EAQEwO,mBAAA,KAAA,MAAA,CARF,EASI,KAAKH,KAAL,CAAWlO,OAAX,CAAmBH,KAAnB,KAA6BS,mBAAY,CAAC4M,OAA1C,IACA,KAAKgB,KAAL,CAAWlO,OAAX,CAAmBH,KAAnB,KAA6BS,mBAAY,CAAC+H,YAD3C,GAEC,IAFD,GAEQgG,mBAAA,MAAA,MAAA,EAAMjF,kBAAkB,CAAC,KAAKvJ,KAAL,CAAWwJ,QAAZ,CAAxB,CAXX,EAcIxJ,KAAK,CAACwV,KAAN,GAAc,IAAd,GACEhH,mBAAA,CAACA,cAAD,MAAA,EACEA,mBAAA,CAACqD,SAAD;AAASe,MAAAA,IAAI,EAAE5S,KAAK,CAACsV;AAAanV,MAAAA,OAAO,EAAEkO,KAAK,CAAClO;KAAjD,CADF,EAEEqO,mBAAA,MAAA;AAAKgB,MAAAA,SAAS,EAAEC,QAAM,CAAC+G;KAAvB,EACGnI,KAAK,CAAC2G,WAAN,CAAkBC,eAAlB,CAAkC7L,QAAlC,CAA2C,MAA3C,IAAqD,IAArD,GACCoF,mBAAA,CAAC8E,MAAD;AAAMnT,MAAAA,OAAO,EAAEkO,KAAK,CAAClO;KAArB,CAFJ,EAGEqO,mBAAA,SAAA;AACEgB,MAAAA,SAAS,EAAEC,QAAM,CAAC0F;AAClBsB,MAAAA,QAAQ,EAAEzW,KAAK,CAACwV;AAChBzF,MAAAA,OAAO,EAAE;AAAA,eAAM,MAAI,CAAC1P,OAAL,EAAN;AAAA;KAHX,EAKEmO,mBAAA,MAAA;AAAKyB,MAAAA,GAAG,EAAEyG;KAAV,CALF,CAHF,EAUGrI,KAAK,CAAC2G,WAAN,CAAkBC,eAAlB,CAAkC7L,QAAlC,CAA2C,MAA3C,IAAqD,IAArD,GACCoF,mBAAA,CAACuE,MAAD;AAAM5S,MAAAA,OAAO,EAAEkO,KAAK,CAAClO;KAArB,CAXJ,EAYGkO,KAAK,CAAC2G,WAAN,CAAkBC,eAAlB,CAAkC7L,QAAlC,CAA2C,QAA3C,IAAuD,IAAvD,GACCoF,mBAAA,MAAA;AACE1O,MAAAA,EAAE,EAAE2P,QAAM,CAACyD;AACX1D,MAAAA,SAAS,EAAExP,KAAK,CAACsV,WAAN,GAAoB7F,QAAM,CAACK,EAA3B,GAAgC;AAC3CC,MAAAA,OAAO,EAAE;AAAA,eAAM,MAAI,CAACC,QAAL,CAAc;AAAEsF,UAAAA,WAAW,EAAE,CAACtV,KAAK,CAACsV;AAAtB,SAAd,CAAN;AAAA;KAHX,EAKE9G,mBAAA,MAAA;AAAKyB,MAAAA,GAAG,EAAE0G;KAAV,CALF,CAbJ,EAoBGtI,KAAK,CAAC2G,WAAN,CAAkBC,eAAlB,CAAkC7L,QAAlC,CAA2C,UAA3C,IAAyD,IAAzD,GACCoF,mBAAA,MAAA;AACE1O,MAAAA,EAAE,EAAE2P,QAAM,CAACyD;AACX1D,MAAAA,SAAS,EAAExP,KAAK,CAACuV,YAAN,GAAqB9F,QAAM,CAACK,EAA5B,GAAiC;AAC5CC,MAAAA,OAAO,EAAE;AAAA,eAAM,MAAI,CAACC,QAAL,CAAc;AAAEuF,UAAAA,YAAY,EAAE,CAACvV,KAAK,CAACuV;AAAvB,SAAd,CAAN;AAAA;KAHX,EAKE/G,mBAAA,MAAA;AAAKyB,MAAAA,GAAG,EAAE2G;KAAV,CALF,CArBJ,EA4BEpI,mBAAA,MAAA;AACE1O,MAAAA,EAAE,EAAE2P,QAAM,CAAC8F;AACX/F,MAAAA,SAAS,EAAExP,KAAK,CAACuV,YAAN,GAAqB,EAArB,GAA0B9F,QAAM,CAACU;KAF9C,EAIE3B,mBAAA,QAAA;AACE1O,MAAAA,EAAE,EAAE2P,QAAM,CAACoH;AACX/F,MAAAA,QAAQ,EAAE,kBAACgG,CAAD;AAAA,eACR,MAAI,CAAC9G,QAAL,CAAc;AAAEyF,UAAAA,kBAAkB,EAAEqB,CAAC,CAACrJ,MAAF,CAASlH;AAA/B,SAAd,CADQ;AAAA;AAGVmK,MAAAA,WAAW,EAAC;KALd,CAJF,EAWG,KAAK1Q,KAAL,CAAW0V,uBAAX,GAAqC,IAArC,GACClH,mBAAA,CAACuI,YAAD;AACE9C,MAAAA,WAAW,EAAEjU,KAAK,CAACyV;AACnBtV,MAAAA,OAAO,EAAEkO,KAAK,CAAClO;KAFjB,CAZJ,EAgBEqO,mBAAA,CAAC6F,kBAAD;AACEK,MAAAA,OAAO,EAAE,KAAKkB;AACd3B,MAAAA,WAAW,EAAEjU,KAAK,CAACyV;AACnBtV,MAAAA,OAAO,EAAEkO,KAAK,CAAClO;KAHjB,CAhBF,CA5BF,CAFF,EAqDEqO,mBAAA,QAAA;AAAO1O,MAAAA,EAAE,EAAE,KAAKuO,KAAL,CAAWlO,OAAX,CAAmBL;AAAIkX,MAAAA,QAAQ;KAA1C,CArDF,CAfN,CADF;AA2ED;;;EA9IiBxI;;AAgJpB,IAAME,iBAAe,GAAG,SAAlBA,eAAkB,CAAC1O,KAAD;AAAA,SAAiB;AACvCoT,IAAAA,YAAY,EAAEpT,KAAK,CAACoK,WAAN,CAAkBgJ,YADO;AAEvClS,IAAAA,QAAQ,EAAElB,KAAK,CAACoK,WAAN,CAAkBlJ,QAFW;AAGvCmS,IAAAA,SAAS,EAAErT,KAAK,CAACgJ,WAAN,CAAkBqK,SAHU;AAIvCzP,IAAAA,QAAQ,EAAE5D,KAAK,CAACkD,MAAN,CAAaW;AAJgB,GAAjB;AAAA,CAAxB;;AAOA,IAAM8K,SAAO,GAAG;AACdtO,EAAAA,OAAO,EAAPA;AADc,CAAhB;AAGA,cAAe6G,kBAAO,CAACwH,iBAAD,EAAkBC,SAAlB,CAAP,CAAkCoG,KAAlC,CAAf;;AClLA,eAAenG,OAAO,CAAC,0BAAD,CAAtB;;ACQA,IAAMqI,IAAI,GAAGrI,OAAO,CAAC,mBAAD,CAApB;;IAOMsI;;;;;;;;;SAEJ9I,oBAAA;AACEzJ,IAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKyJ,KAAL,CAAWlO,OAAvB;AACAmI,IAAAA,WAAW,CAACD,OAAZ;AACAC,IAAAA,WAAW,CAACN,QAAZ,CAAqB,UAArB;AAED;;SAEDmP,eAAA;AACE7O,IAAAA,WAAW,CAACD,OAAZ;AACA,SAAKgG,KAAL,CAAWlO,OAAX,CAAmBiX,MAAnB;AACA,SAAK/I,KAAL,CAAWnO,UAAX,CAAsB,KAAKmO,KAAL,CAAWlO,OAAjC;AAED;;SAEDkX,gBAAA;AACE/O,IAAAA,WAAW,CAACD,OAAZ;AACA,SAAKgG,KAAL,CAAWlO,OAAX,CAAmBwT,MAAnB;AACA,SAAKtF,KAAL,CAAWjO,WAAX,CAAuB,KAAKiO,KAAL,CAAWlO,OAAlC;AACD;;SAEDoO,SAAA;;;AACE,QAAMF,KAAK,GAAG,KAAKA,KAAnB;AACA,WAAOG,mBAAA,MAAA;AAAK1O,MAAAA,EAAE,EAAE2P,QAAM,CAAC6H;KAAhB,iBAEUjJ,KAAK,CAAClO,OAAN,CAAciW,cAAd,CAA6B1L,GAA7B,CAAiC2L,MAAjC,CAAwCC,IAFlD,WAE4DjI,KAAK,CAAClO,OAAN,CAAciW,cAAd,CAA6BG,YAFzF,EAIL/H,mBAAA,MAAA;AAAKgB,MAAAA,SAAS,EAAEC,QAAM,CAAC0F;AAAepF,MAAAA,OAAO,EAAE;AAAA,eAAM,KAAI,CAACsH,aAAL,EAAN;AAAA;KAA/C,EAA4E7I,mBAAA,MAAA;AAAKyB,MAAAA,GAAG,EAAEsH;KAAV,CAA5E,CAJK,EAKL/I,mBAAA,MAAA;AAAKgB,MAAAA,SAAS,EAAEC,QAAM,CAAC+H;AAAiBzH,MAAAA,OAAO,EAAE;AAAA,eAAM,KAAI,CAACoH,YAAL,EAAN;AAAA;KAAjD,EAA6E3I,mBAAA,MAAA;AAAKyB,MAAAA,GAAG,EAAEwH;KAAV,CAA7E,CALK,EAMLjJ,mBAAA,QAAA;AAAO1O,MAAAA,EAAE,EAAC;AAAW2H,MAAAA,IAAI;KAAzB,EACE+G,mBAAA,SAAA;AAAQyB,MAAAA,GAAG,EAAEgH;AAAMjZ,MAAAA,IAAI,EAAC;KAAxB,CADF,CANK,EASLwQ,mBAAA,QAAA;AAAO1O,MAAAA,EAAE,EAAE,KAAKuO,KAAL,CAAWlO,OAAX,CAAmBL;AAAIkX,MAAAA,QAAQ;KAA1C,CATK,CAAP;AAWD;;;EApCoBxI;;AAuCvB,IAAME,iBAAe,GAAG,SAAlBA,eAAkB,CAAC1O,KAAD;AAAA,SAAiB;AACvCoT,IAAAA,YAAY,EAAEpT,KAAK,CAACoK,WAAN,CAAkBgJ;AADO,GAAjB;AAAA,CAAxB;;AAGA,IAAMzE,SAAO,GAAG;AACdzO,EAAAA,UAAU,EAAVA,UADc;AACFE,EAAAA,WAAW,EAAXA;AADE,CAAhB;AAGA,iBAAe8G,kBAAO,CAACwH,iBAAD,EAAkBC,SAAlB,CAAP,CAAkCuI,QAAlC,CAAf;;ACvDA,IAAMQ,WAAW,GAAG,SAAdA,WAAc,CAACxW,QAAD,EAAgB8T,WAAhB,EAA0C2C,iBAA1C;AAClB,MAAMC,QAAQ,GAAG,EAAjB;;AACA,OAAK,IAAMzX,OAAX,IAAsBe,QAAtB,EAAgC;AAC9B,QAAIyW,iBAAiB,CAACvO,QAAlB,CAA2BjJ,OAA3B,CAAJ,EAAyC;AACzCyX,IAAAA,QAAQ,CAACxU,IAAT,CACEoL,mBAAA,CAACuG,OAAD;AAAO5U,MAAAA,OAAO,EAAEe,QAAQ,CAACf,OAAD;AAAWiG,MAAAA,GAAG,EAAEjG;AAAS6U,MAAAA,WAAW,EAAEA;KAA9D,CADF;AAGD;;AACD,SAAO4C,QAAP;AACD,CATD;;AAWA,IAAMC,wBAAwB,GAAG,SAA3BA,wBAA2B,CAAC3W,QAAD;AAC/B,MAAM0W,QAAQ,GAAG,EAAjB;;AACA,OAAK,IAAMzX,OAAX,IAAsBe,QAAtB,EAAgC;AAC9B0W,IAAAA,QAAQ,CAACxU,IAAT,CAAcoL,mBAAA,CAAC0I,UAAD;AAAU/W,MAAAA,OAAO,EAAEe,QAAQ,CAACf,OAAD;AAAWiG,MAAAA,GAAG,EAAEjG;KAA3C,CAAd;AACD;;AACD,SAAOyX,QAAP;AACD,CAND;;IAeME;;;;;;;;;SACJvJ,SAAA;AACE,WAAOC,mBAAA,CAACA,cAAD,MAAA,EAIJqJ,wBAAwB,CAAC,KAAKxJ,KAAL,CAAW0J,aAAZ,CAJpB,EAKJL,WAAW,CAAC,KAAKrJ,KAAL,CAAWnN,QAAZ,EAAsB,KAAKmN,KAAL,CAAW2G,WAAjC,EAA8C,KAAK3G,KAAL,CAAWsJ,iBAAzD,CALP,CAAP;AAOD;;;EATyBnJ;;AAW5B,IAAME,iBAAe,GAAG,SAAlBA,eAAkB,CAAC1O,KAAD;AAAA,SAAiB;AACvCkB,IAAAA,QAAQ,EAAElB,KAAK,CAACoK,WAAN,CAAkBlJ,QADW;AAEvC6W,IAAAA,aAAa,EAAE/X,KAAK,CAACoK,WAAN,CAAkB2N,aAFM;AAGvCJ,IAAAA,iBAAiB,EAAE3X,KAAK,CAACoK,WAAN,CAAkBuN;AAHE,GAAjB;AAAA,CAAxB;;AAKA,IAAMK,EAAE,GAAG9Q,kBAAO,CAACwH,iBAAD,CAAP,CAAyBoJ,aAAzB,CAAX;;;;ICtCMG;;;AAAN;;;;AACE,eAAA,GAAQ;AACNC,MAAAA,iBAAiB,EAAE;AADb,KAAR;;AAoCD;;;;SAjCCC,aAAA;AACE,QAAI,CAAC,KAAKC,eAAL,EAAL,EAA6B;AAC3B,WAAK/J,KAAL,CAAWpF,UAAX,CAAsBuE,QAAtB,MAAkC,KAAKxN,KAAL,CAAWkY,iBAA7C;AACD;AACF;;SACDE,kBAAA;AACE,WAAO,KAAKpY,KAAL,CAAWkY,iBAAX,CAA6BpP,MAA7B,KAAwC,CAA/C;AACD;;SAEDyF,SAAA;;;AACE,WACEC,mBAAA,MAAA;AAAKgB,MAAAA,SAAS,EAAEC,QAAM,CAAC4I;KAAvB,EACE7J,mBAAA,QAAA;AACEgB,MAAAA,SAAS,EAAEC,QAAM,CAAC6I;AAClBC,MAAAA,UAAU,EAAE,oBAACzB,CAAD;AACV,YAAIA,CAAC,CAAC1Q,GAAF,KAAU,OAAd,EAAuB;AACrB,UAAA,MAAI,CAAC+R,UAAL;;AACArB,UAAAA,CAAC,CAAC0B,cAAF;AACD;AACF;AACD9H,MAAAA,WAAW,EAAC;AACZI,MAAAA,QAAQ,EAAE,kBAACgG,CAAD;AAAA,eAAO,MAAI,CAAC9G,QAAL,CAAc;AAAEkI,UAAAA,iBAAiB,EAAEpB,CAAC,CAACrJ,MAAF,CAASlH;AAA9B,SAAd,CAAP;AAAA;KATZ,CADF,EAYEiI,mBAAA,SAAA;AACEgB,MAAAA,SAAS,EAAEC,QAAM,CAACgJ;AAClBhC,MAAAA,QAAQ,EAAE,KAAK2B,eAAL;AACVrI,MAAAA,OAAO,EAAE;AAAA,eAAM,MAAI,CAACoI,UAAL,EAAN;AAAA;KAHX,EAKE3J,mBAAA,MAAA;AAAKyB,MAAAA,GAAG,EAAEyI;KAAV,CALF,CAZF,CADF;AAsBD;;;EApCsBlK;;AAuCzB,IAAME,iBAAe,GAAG,SAAlBA,eAAkB,CAAC1O,KAAD;AAAA,SAAiB;AACvCiJ,IAAAA,UAAU,EAAEjJ,KAAK,CAACgJ,WAAN,CAAkBC;AADS,GAAjB;AAAA,CAAxB;;AAIA,IAAM0F,SAAO,GAAG,EAAhB;AAGA,IAAM7I,CAAC,GAAGoB,kBAAO,CAACwH,iBAAD,EAAkBC,SAAlB,CAAP,CAAkCsJ,UAAlC,CAAV;;ACxDe,SAAS,wBAAwB,CAAC,IAAI,EAAE;AACvD,CAAC,IAAI,MAAM,CAAC;AACZ,CAAC,IAAI,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;AAC1B;AACA,CAAC,IAAI,OAAO,MAAM,KAAK,UAAU,EAAE;AACnC,EAAE,IAAI,MAAM,CAAC,UAAU,EAAE;AACzB,GAAG,MAAM,GAAG,MAAM,CAAC,UAAU,CAAC;AAC9B,GAAG,MAAM;AACT,GAAG,MAAM,GAAG,MAAM,CAAC,YAAY,CAAC,CAAC;AACjC,GAAG,MAAM,CAAC,UAAU,GAAG,MAAM,CAAC;AAC9B,GAAG;AACH,EAAE,MAAM;AACR,EAAE,MAAM,GAAG,cAAc,CAAC;AAC1B,EAAE;AACF;AACA,CAAC,OAAO,MAAM,CAAC;AACf,CAAC;;AChBD;AACA,AACA;AACA,IAAI,IAAI,CAAC;AACT;AACA,IAAI,OAAO,IAAI,KAAK,WAAW,EAAE;AACjC,EAAE,IAAI,GAAG,IAAI,CAAC;AACd,CAAC,MAAM,IAAI,OAAO,MAAM,KAAK,WAAW,EAAE;AAC1C,EAAE,IAAI,GAAG,MAAM,CAAC;AAChB,CAAC,MAAM,IAAI,OAAO,MAAM,KAAK,WAAW,EAAE;AAC1C,EAAE,IAAI,GAAG,MAAM,CAAC;AAChB,CAAC,MAAM,IAAI,OAAO,MAAM,KAAK,WAAW,EAAE;AAC1C,EAAE,IAAI,GAAG,MAAM,CAAC;AAChB,CAAC,MAAM;AACP,EAAE,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,EAAE,CAAC;AACnC,CAAC;AACD;AACA,IAAI,MAAM,GAAGU,wBAAQ,CAAC,IAAI,CAAC,CAAC;;ACf5B;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,YAAY,GAAG,SAAS,YAAY,GAAG;AAC3C,EAAE,OAAO,IAAI,CAAC,MAAM,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AACrE,CAAC,CAAC;AACF;AACA,IAAI,WAAW,GAAG;AAClB,EAAE,IAAI,EAAE,cAAc,GAAG,YAAY,EAAE;AACvC,EAAE,OAAO,EAAE,iBAAiB,GAAG,YAAY,EAAE;AAC7C,EAAE,oBAAoB,EAAE,SAAS,oBAAoB,GAAG;AACxD,IAAI,OAAO,8BAA8B,GAAG,YAAY,EAAE,CAAC;AAC3D,GAAG;AACH,CAAC,CAAC;AACF;AACA;AACA;AACA;AACA;AACA,SAAS,aAAa,CAAC,GAAG,EAAE;AAC5B,EAAE,IAAI,OAAO,GAAG,KAAK,QAAQ,IAAI,GAAG,KAAK,IAAI,EAAE,OAAO,KAAK,CAAC;AAC5D,EAAE,IAAI,KAAK,GAAG,GAAG,CAAC;AAClB;AACA,EAAE,OAAO,MAAM,CAAC,cAAc,CAAC,KAAK,CAAC,KAAK,IAAI,EAAE;AAChD,IAAI,KAAK,GAAG,MAAM,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;AACzC,GAAG;AACH;AACA,EAAE,OAAO,MAAM,CAAC,cAAc,CAAC,GAAG,CAAC,KAAK,KAAK,CAAC;AAC9C,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,WAAW,CAAC,OAAO,EAAE,cAAc,EAAE,QAAQ,EAAE;AACxD,EAAE,IAAI,KAAK,CAAC;AACZ;AACA,EAAE,IAAI,OAAO,cAAc,KAAK,UAAU,IAAI,OAAO,QAAQ,KAAK,UAAU,IAAI,OAAO,QAAQ,KAAK,UAAU,IAAI,OAAO,SAAS,CAAC,CAAC,CAAC,KAAK,UAAU,EAAE;AACtJ,IAAI,MAAM,IAAI,KAAK,CAAC,2DAA2D,GAAG,8DAA8D,GAAG,gCAAgC,CAAC,CAAC;AACrL,GAAG;AACH;AACA,EAAE,IAAI,OAAO,cAAc,KAAK,UAAU,IAAI,OAAO,QAAQ,KAAK,WAAW,EAAE;AAC/E,IAAI,QAAQ,GAAG,cAAc,CAAC;AAC9B,IAAI,cAAc,GAAG,SAAS,CAAC;AAC/B,GAAG;AACH;AACA,EAAE,IAAI,OAAO,QAAQ,KAAK,WAAW,EAAE;AACvC,IAAI,IAAI,OAAO,QAAQ,KAAK,UAAU,EAAE;AACxC,MAAM,MAAM,IAAI,KAAK,CAAC,yCAAyC,CAAC,CAAC;AACjE,KAAK;AACL;AACA,IAAI,OAAO,QAAQ,CAAC,WAAW,CAAC,CAAC,OAAO,EAAE,cAAc,CAAC,CAAC;AAC1D,GAAG;AACH;AACA,EAAE,IAAI,OAAO,OAAO,KAAK,UAAU,EAAE;AACrC,IAAI,MAAM,IAAI,KAAK,CAAC,wCAAwC,CAAC,CAAC;AAC9D,GAAG;AACH;AACA,EAAE,IAAI,cAAc,GAAG,OAAO,CAAC;AAC/B,EAAE,IAAI,YAAY,GAAG,cAAc,CAAC;AACpC,EAAE,IAAI,gBAAgB,GAAG,EAAE,CAAC;AAC5B,EAAE,IAAI,aAAa,GAAG,gBAAgB,CAAC;AACvC,EAAE,IAAI,aAAa,GAAG,KAAK,CAAC;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,SAAS,4BAA4B,GAAG;AAC1C,IAAI,IAAI,aAAa,KAAK,gBAAgB,EAAE;AAC5C,MAAM,aAAa,GAAG,gBAAgB,CAAC,KAAK,EAAE,CAAC;AAC/C,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,SAAS,QAAQ,GAAG;AACtB,IAAI,IAAI,aAAa,EAAE;AACvB,MAAM,MAAM,IAAI,KAAK,CAAC,oEAAoE,GAAG,6DAA6D,GAAG,yEAAyE,CAAC,CAAC;AACxO,KAAK;AACL;AACA,IAAI,OAAO,YAAY,CAAC;AACxB,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,SAAS,SAAS,CAAC,QAAQ,EAAE;AAC/B,IAAI,IAAI,OAAO,QAAQ,KAAK,UAAU,EAAE;AACxC,MAAM,MAAM,IAAI,KAAK,CAAC,yCAAyC,CAAC,CAAC;AACjE,KAAK;AACL;AACA,IAAI,IAAI,aAAa,EAAE;AACvB,MAAM,MAAM,IAAI,KAAK,CAAC,qEAAqE,GAAG,sFAAsF,GAAG,oFAAoF,GAAG,kFAAkF,CAAC,CAAC;AAClW,KAAK;AACL;AACA,IAAI,IAAI,YAAY,GAAG,IAAI,CAAC;AAC5B,IAAI,4BAA4B,EAAE,CAAC;AACnC,IAAI,aAAa,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;AACjC,IAAI,OAAO,SAAS,WAAW,GAAG;AAClC,MAAM,IAAI,CAAC,YAAY,EAAE;AACzB,QAAQ,OAAO;AACf,OAAO;AACP;AACA,MAAM,IAAI,aAAa,EAAE;AACzB,QAAQ,MAAM,IAAI,KAAK,CAAC,gFAAgF,GAAG,kFAAkF,CAAC,CAAC;AAC/L,OAAO;AACP;AACA,MAAM,YAAY,GAAG,KAAK,CAAC;AAC3B,MAAM,4BAA4B,EAAE,CAAC;AACrC,MAAM,IAAI,KAAK,GAAG,aAAa,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;AAClD,MAAM,aAAa,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;AACrC,MAAM,gBAAgB,GAAG,IAAI,CAAC;AAC9B,KAAK,CAAC;AACN,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,SAAS,QAAQ,CAAC,MAAM,EAAE;AAC5B,IAAI,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,EAAE;AAChC,MAAM,MAAM,IAAI,KAAK,CAAC,iCAAiC,GAAG,0CAA0C,CAAC,CAAC;AACtG,KAAK;AACL;AACA,IAAI,IAAI,OAAO,MAAM,CAAC,IAAI,KAAK,WAAW,EAAE;AAC5C,MAAM,MAAM,IAAI,KAAK,CAAC,qDAAqD,GAAG,iCAAiC,CAAC,CAAC;AACjH,KAAK;AACL;AACA,IAAI,IAAI,aAAa,EAAE;AACvB,MAAM,MAAM,IAAI,KAAK,CAAC,oCAAoC,CAAC,CAAC;AAC5D,KAAK;AACL;AACA,IAAI,IAAI;AACR,MAAM,aAAa,GAAG,IAAI,CAAC;AAC3B,MAAM,YAAY,GAAG,cAAc,CAAC,YAAY,EAAE,MAAM,CAAC,CAAC;AAC1D,KAAK,SAAS;AACd,MAAM,aAAa,GAAG,KAAK,CAAC;AAC5B,KAAK;AACL;AACA,IAAI,IAAI,SAAS,GAAG,gBAAgB,GAAG,aAAa,CAAC;AACrD;AACA,IAAI,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AAC/C,MAAM,IAAI,QAAQ,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;AAClC,MAAM,QAAQ,EAAE,CAAC;AACjB,KAAK;AACL;AACA,IAAI,OAAO,MAAM,CAAC;AAClB,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,SAAS,cAAc,CAAC,WAAW,EAAE;AACvC,IAAI,IAAI,OAAO,WAAW,KAAK,UAAU,EAAE;AAC3C,MAAM,MAAM,IAAI,KAAK,CAAC,4CAA4C,CAAC,CAAC;AACpE,KAAK;AACL;AACA,IAAI,cAAc,GAAG,WAAW,CAAC;AACjC;AACA;AACA;AACA;AACA,IAAI,QAAQ,CAAC;AACb,MAAM,IAAI,EAAE,WAAW,CAAC,OAAO;AAC/B,KAAK,CAAC,CAAC;AACP,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,SAAS,UAAU,GAAG;AACxB,IAAI,IAAI,IAAI,CAAC;AACb;AACA,IAAI,IAAI,cAAc,GAAG,SAAS,CAAC;AACnC,IAAI,OAAO,IAAI,GAAG;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,SAAS,EAAE,SAAS,SAAS,CAAC,QAAQ,EAAE;AAC9C,QAAQ,IAAI,OAAO,QAAQ,KAAK,QAAQ,IAAI,QAAQ,KAAK,IAAI,EAAE;AAC/D,UAAU,MAAM,IAAI,SAAS,CAAC,wCAAwC,CAAC,CAAC;AACxE,SAAS;AACT;AACA,QAAQ,SAAS,YAAY,GAAG;AAChC,UAAU,IAAI,QAAQ,CAAC,IAAI,EAAE;AAC7B,YAAY,QAAQ,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC;AACtC,WAAW;AACX,SAAS;AACT;AACA,QAAQ,YAAY,EAAE,CAAC;AACvB,QAAQ,IAAI,WAAW,GAAG,cAAc,CAAC,YAAY,CAAC,CAAC;AACvD,QAAQ,OAAO;AACf,UAAU,WAAW,EAAE,WAAW;AAClC,SAAS,CAAC;AACV,OAAO;AACP,KAAK,EAAE,IAAI,CAACC,MAAY,CAAC,GAAG,YAAY;AACxC,MAAM,OAAO,IAAI,CAAC;AAClB,KAAK,EAAE,IAAI,CAAC;AACZ,GAAG;AACH;AACA;AACA;AACA;AACA,EAAE,QAAQ,CAAC;AACX,IAAI,IAAI,EAAE,WAAW,CAAC,IAAI;AAC1B,GAAG,CAAC,CAAC;AACL,EAAE,OAAO,KAAK,GAAG;AACjB,IAAI,QAAQ,EAAE,QAAQ;AACtB,IAAI,SAAS,EAAE,SAAS;AACxB,IAAI,QAAQ,EAAE,QAAQ;AACtB,IAAI,cAAc,EAAE,cAAc;AAClC,GAAG,EAAE,KAAK,CAACA,MAAY,CAAC,GAAG,UAAU,EAAE,KAAK,CAAC;AAC7C,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,CAAC,OAAO,EAAE;AAC1B;AACA,EAAE,IAAI,OAAO,OAAO,KAAK,WAAW,IAAI,OAAO,OAAO,CAAC,KAAK,KAAK,UAAU,EAAE;AAC7E,IAAI,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;AAC3B,GAAG;AACH;AACA;AACA;AACA,EAAE,IAAI;AACN;AACA;AACA;AACA,IAAI,MAAM,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC;AAC7B,GAAG,CAAC,OAAO,CAAC,EAAE,EAAE;AAChB;AACA,CAAC;AACD;AACA,SAAS,6BAA6B,CAAC,GAAG,EAAE,MAAM,EAAE;AACpD,EAAE,IAAI,UAAU,GAAG,MAAM,IAAI,MAAM,CAAC,IAAI,CAAC;AACzC,EAAE,IAAI,iBAAiB,GAAG,UAAU,IAAI,WAAW,GAAG,MAAM,CAAC,UAAU,CAAC,GAAG,IAAI,IAAI,WAAW,CAAC;AAC/F,EAAE,OAAO,QAAQ,GAAG,iBAAiB,GAAG,cAAc,GAAG,GAAG,GAAG,yBAAyB,GAAG,sEAAsE,GAAG,sFAAsF,CAAC;AAC3P,CAAC;AACD;AACA,SAAS,qCAAqC,CAAC,UAAU,EAAE,QAAQ,EAAE,MAAM,EAAE,kBAAkB,EAAE;AACjG,EAAE,IAAI,WAAW,GAAG,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;AAC1C,EAAE,IAAI,YAAY,GAAG,MAAM,IAAI,MAAM,CAAC,IAAI,KAAK,WAAW,CAAC,IAAI,GAAG,+CAA+C,GAAG,wCAAwC,CAAC;AAC7J;AACA,EAAE,IAAI,WAAW,CAAC,MAAM,KAAK,CAAC,EAAE;AAChC,IAAI,OAAO,qEAAqE,GAAG,4DAA4D,CAAC;AAChJ,GAAG;AACH;AACA,EAAE,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,EAAE;AAClC,IAAI,OAAO,MAAM,GAAG,YAAY,GAAG,4BAA4B,GAAG,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,KAAK,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC,GAAG,2DAA2D,IAAI,UAAU,GAAG,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC,CAAC;AACzO,GAAG;AACH;AACA,EAAE,IAAI,cAAc,GAAG,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,UAAU,GAAG,EAAE;AACrE,IAAI,OAAO,CAAC,QAAQ,CAAC,cAAc,CAAC,GAAG,CAAC,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAC;AACrE,GAAG,CAAC,CAAC;AACL,EAAE,cAAc,CAAC,OAAO,CAAC,UAAU,GAAG,EAAE;AACxC,IAAI,kBAAkB,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC;AACnC,GAAG,CAAC,CAAC;AACL,EAAE,IAAI,MAAM,IAAI,MAAM,CAAC,IAAI,KAAK,WAAW,CAAC,OAAO,EAAE,OAAO;AAC5D;AACA,EAAE,IAAI,cAAc,CAAC,MAAM,GAAG,CAAC,EAAE;AACjC,IAAI,OAAO,aAAa,IAAI,cAAc,CAAC,MAAM,GAAG,CAAC,GAAG,MAAM,GAAG,KAAK,CAAC,GAAG,GAAG,IAAI,IAAI,GAAG,cAAc,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,cAAc,GAAG,YAAY,GAAG,IAAI,CAAC,GAAG,0DAA0D,IAAI,IAAI,GAAG,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,sCAAsC,CAAC,CAAC;AACtS,GAAG;AACH,CAAC;AACD;AACA,SAAS,kBAAkB,CAAC,QAAQ,EAAE;AACtC,EAAE,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,UAAU,GAAG,EAAE;AAC/C,IAAI,IAAI,OAAO,GAAG,QAAQ,CAAC,GAAG,CAAC,CAAC;AAChC,IAAI,IAAI,YAAY,GAAG,OAAO,CAAC,SAAS,EAAE;AAC1C,MAAM,IAAI,EAAE,WAAW,CAAC,IAAI;AAC5B,KAAK,CAAC,CAAC;AACP;AACA,IAAI,IAAI,OAAO,YAAY,KAAK,WAAW,EAAE;AAC7C,MAAM,MAAM,IAAI,KAAK,CAAC,YAAY,GAAG,GAAG,GAAG,+CAA+C,GAAG,4DAA4D,GAAG,6DAA6D,GAAG,uEAAuE,GAAG,wCAAwC,CAAC,CAAC;AAChV,KAAK;AACL;AACA,IAAI,IAAI,OAAO,OAAO,CAAC,SAAS,EAAE;AAClC,MAAM,IAAI,EAAE,WAAW,CAAC,oBAAoB,EAAE;AAC9C,KAAK,CAAC,KAAK,WAAW,EAAE;AACxB,MAAM,MAAM,IAAI,KAAK,CAAC,YAAY,GAAG,GAAG,GAAG,wDAAwD,IAAI,sBAAsB,GAAG,WAAW,CAAC,IAAI,GAAG,mCAAmC,CAAC,GAAG,uEAAuE,GAAG,iEAAiE,GAAG,qEAAqE,GAAG,uEAAuE,CAAC,CAAC;AACzd,KAAK;AACL,GAAG,CAAC,CAAC;AACL,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,eAAe,CAAC,QAAQ,EAAE;AACnC,EAAE,IAAI,WAAW,GAAG,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;AAC1C,EAAE,IAAI,aAAa,GAAG,EAAE,CAAC;AACzB;AACA,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,WAAW,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AAC/C,IAAI,IAAI,GAAG,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC;AAC7B;AACA,IAAI,IAAI,OAAO,CAAC,GAAG,CAAC,QAAQ,KAAK,YAAY,EAAE;AAC/C,MAAM,IAAI,OAAO,QAAQ,CAAC,GAAG,CAAC,KAAK,WAAW,EAAE;AAChD,QAAQ,OAAO,CAAC,gCAAgC,GAAG,GAAG,GAAG,IAAI,CAAC,CAAC;AAC/D,OAAO;AACP,KAAK;AACL;AACA,IAAI,IAAI,OAAO,QAAQ,CAAC,GAAG,CAAC,KAAK,UAAU,EAAE;AAC7C,MAAM,aAAa,CAAC,GAAG,CAAC,GAAG,QAAQ,CAAC,GAAG,CAAC,CAAC;AACzC,KAAK;AACL,GAAG;AACH;AACA,EAAE,IAAI,gBAAgB,GAAG,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;AACpD;AACA;AACA,EAAE,IAAI,kBAAkB,CAAC;AACzB;AACA,EAAE,IAAI,OAAO,CAAC,GAAG,CAAC,QAAQ,KAAK,YAAY,EAAE;AAC7C,IAAI,kBAAkB,GAAG,EAAE,CAAC;AAC5B,GAAG;AACH;AACA,EAAE,IAAI,mBAAmB,CAAC;AAC1B;AACA,EAAE,IAAI;AACN,IAAI,kBAAkB,CAAC,aAAa,CAAC,CAAC;AACtC,GAAG,CAAC,OAAO,CAAC,EAAE;AACd,IAAI,mBAAmB,GAAG,CAAC,CAAC;AAC5B,GAAG;AACH;AACA,EAAE,OAAO,SAAS,WAAW,CAAC,KAAK,EAAE,MAAM,EAAE;AAC7C,IAAI,IAAI,KAAK,KAAK,KAAK,CAAC,EAAE;AAC1B,MAAM,KAAK,GAAG,EAAE,CAAC;AACjB,KAAK;AACL;AACA,IAAI,IAAI,mBAAmB,EAAE;AAC7B,MAAM,MAAM,mBAAmB,CAAC;AAChC,KAAK;AACL;AACA,IAAI,IAAI,OAAO,CAAC,GAAG,CAAC,QAAQ,KAAK,YAAY,EAAE;AAC/C,MAAM,IAAI,cAAc,GAAG,qCAAqC,CAAC,KAAK,EAAE,aAAa,EAAE,MAAM,EAAE,kBAAkB,CAAC,CAAC;AACnH;AACA,MAAM,IAAI,cAAc,EAAE;AAC1B,QAAQ,OAAO,CAAC,cAAc,CAAC,CAAC;AAChC,OAAO;AACP,KAAK;AACL;AACA,IAAI,IAAI,UAAU,GAAG,KAAK,CAAC;AAC3B,IAAI,IAAI,SAAS,GAAG,EAAE,CAAC;AACvB;AACA,IAAI,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,gBAAgB,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;AACzD,MAAM,IAAI,IAAI,GAAG,gBAAgB,CAAC,EAAE,CAAC,CAAC;AACtC,MAAM,IAAI,OAAO,GAAG,aAAa,CAAC,IAAI,CAAC,CAAC;AACxC,MAAM,IAAI,mBAAmB,GAAG,KAAK,CAAC,IAAI,CAAC,CAAC;AAC5C,MAAM,IAAI,eAAe,GAAG,OAAO,CAAC,mBAAmB,EAAE,MAAM,CAAC,CAAC;AACjE;AACA,MAAM,IAAI,OAAO,eAAe,KAAK,WAAW,EAAE;AAClD,QAAQ,IAAI,YAAY,GAAG,6BAA6B,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;AACvE,QAAQ,MAAM,IAAI,KAAK,CAAC,YAAY,CAAC,CAAC;AACtC,OAAO;AACP;AACA,MAAM,SAAS,CAAC,IAAI,CAAC,GAAG,eAAe,CAAC;AACxC,MAAM,UAAU,GAAG,UAAU,IAAI,eAAe,KAAK,mBAAmB,CAAC;AACzE,KAAK;AACL;AACA,IAAI,UAAU,GAAG,UAAU,IAAI,gBAAgB,CAAC,MAAM,KAAK,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC;AACrF,IAAI,OAAO,UAAU,GAAG,SAAS,GAAG,KAAK,CAAC;AAC1C,GAAG,CAAC;AACJ,CAAC;AACD,AAkDA;AACA,SAAS,eAAe,CAAC,GAAG,EAAE,GAAG,EAAE,KAAK,EAAE;AAC1C,EAAE,IAAI,GAAG,IAAI,GAAG,EAAE;AAClB,IAAI,MAAM,CAAC,cAAc,CAAC,GAAG,EAAE,GAAG,EAAE;AACpC,MAAM,KAAK,EAAE,KAAK;AAClB,MAAM,UAAU,EAAE,IAAI;AACtB,MAAM,YAAY,EAAE,IAAI;AACxB,MAAM,QAAQ,EAAE,IAAI;AACpB,KAAK,CAAC,CAAC;AACP,GAAG,MAAM;AACT,IAAI,GAAG,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;AACrB,GAAG;AACH;AACA,EAAE,OAAO,GAAG,CAAC;AACb,CAAC;AACD;AACA,SAAS,OAAO,CAAC,MAAM,EAAE,cAAc,EAAE;AACzC,EAAE,IAAI,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AACjC;AACA,EAAE,IAAI,MAAM,CAAC,qBAAqB,EAAE;AACpC,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,MAAM,CAAC,qBAAqB,CAAC,MAAM,CAAC,CAAC,CAAC;AAChE,GAAG;AACH;AACA,EAAE,IAAI,cAAc,EAAE,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,UAAU,GAAG,EAAE;AACxD,IAAI,OAAO,MAAM,CAAC,wBAAwB,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC,UAAU,CAAC;AACnE,GAAG,CAAC,CAAC;AACL,EAAE,OAAO,IAAI,CAAC;AACd,CAAC;AACD;AACA,SAAS,cAAc,CAAC,MAAM,EAAE;AAChC,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AAC7C,IAAI,IAAI,MAAM,GAAG,SAAS,CAAC,CAAC,CAAC,IAAI,IAAI,GAAG,SAAS,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC;AAC1D;AACA,IAAI,IAAI,CAAC,GAAG,CAAC,EAAE;AACf,MAAM,OAAO,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC,OAAO,CAAC,UAAU,GAAG,EAAE;AACnD,QAAQ,eAAe,CAAC,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC;AAClD,OAAO,CAAC,CAAC;AACT,KAAK,MAAM,IAAI,MAAM,CAAC,yBAAyB,EAAE;AACjD,MAAM,MAAM,CAAC,gBAAgB,CAAC,MAAM,EAAE,MAAM,CAAC,yBAAyB,CAAC,MAAM,CAAC,CAAC,CAAC;AAChF,KAAK,MAAM;AACX,MAAM,OAAO,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,UAAU,GAAG,EAAE;AAC7C,QAAQ,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC,wBAAwB,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC;AACzF,OAAO,CAAC,CAAC;AACT,KAAK;AACL,GAAG;AACH;AACA,EAAE,OAAO,MAAM,CAAC;AAChB,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,GAAG;AACnB,EAAE,KAAK,IAAI,IAAI,GAAG,SAAS,CAAC,MAAM,EAAE,KAAK,GAAG,IAAI,KAAK,CAAC,IAAI,CAAC,EAAE,IAAI,GAAG,CAAC,EAAE,IAAI,GAAG,IAAI,EAAE,IAAI,EAAE,EAAE;AAC5F,IAAI,KAAK,CAAC,IAAI,CAAC,GAAG,SAAS,CAAC,IAAI,CAAC,CAAC;AAClC,GAAG;AACH;AACA,EAAE,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC,EAAE;AAC1B,IAAI,OAAO,UAAU,GAAG,EAAE;AAC1B,MAAM,OAAO,GAAG,CAAC;AACjB,KAAK,CAAC;AACN,GAAG;AACH;AACA,EAAE,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC,EAAE;AAC1B,IAAI,OAAO,KAAK,CAAC,CAAC,CAAC,CAAC;AACpB,GAAG;AACH;AACA,EAAE,OAAO,KAAK,CAAC,MAAM,CAAC,UAAU,CAAC,EAAE,CAAC,EAAE;AACtC,IAAI,OAAO,YAAY;AACvB,MAAM,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,EAAE,SAAS,CAAC,CAAC,CAAC;AAC3C,KAAK,CAAC;AACN,GAAG,CAAC,CAAC;AACL,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,eAAe,GAAG;AAC3B,EAAE,KAAK,IAAI,IAAI,GAAG,SAAS,CAAC,MAAM,EAAE,WAAW,GAAG,IAAI,KAAK,CAAC,IAAI,CAAC,EAAE,IAAI,GAAG,CAAC,EAAE,IAAI,GAAG,IAAI,EAAE,IAAI,EAAE,EAAE;AAClG,IAAI,WAAW,CAAC,IAAI,CAAC,GAAG,SAAS,CAAC,IAAI,CAAC,CAAC;AACxC,GAAG;AACH;AACA,EAAE,OAAO,UAAU,WAAW,EAAE;AAChC,IAAI,OAAO,YAAY;AACvB,MAAM,IAAI,KAAK,GAAG,WAAW,CAAC,KAAK,CAAC,KAAK,CAAC,EAAE,SAAS,CAAC,CAAC;AACvD;AACA,MAAM,IAAI,SAAS,GAAG,SAAS,QAAQ,GAAG;AAC1C,QAAQ,MAAM,IAAI,KAAK,CAAC,iEAAiE,GAAG,yDAAyD,CAAC,CAAC;AACvJ,OAAO,CAAC;AACR;AACA,MAAM,IAAI,aAAa,GAAG;AAC1B,QAAQ,QAAQ,EAAE,KAAK,CAAC,QAAQ;AAChC,QAAQ,QAAQ,EAAE,SAAS,QAAQ,GAAG;AACtC,UAAU,OAAO,SAAS,CAAC,KAAK,CAAC,KAAK,CAAC,EAAE,SAAS,CAAC,CAAC;AACpD,SAAS;AACT,OAAO,CAAC;AACR,MAAM,IAAI,KAAK,GAAG,WAAW,CAAC,GAAG,CAAC,UAAU,UAAU,EAAE;AACxD,QAAQ,OAAO,UAAU,CAAC,aAAa,CAAC,CAAC;AACzC,OAAO,CAAC,CAAC;AACT,MAAM,SAAS,GAAG,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,EAAE,KAAK,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;AAC/D,MAAM,OAAO,cAAc,CAAC,EAAE,EAAE,KAAK,EAAE;AACvC,QAAQ,QAAQ,EAAE,SAAS;AAC3B,OAAO,CAAC,CAAC;AACT,KAAK,CAAC;AACN,GAAG,CAAC;AACJ,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,SAAS,GAAG,EAAE;AACvB;AACA,IAAI,OAAO,CAAC,GAAG,CAAC,QAAQ,KAAK,YAAY,IAAI,OAAO,SAAS,CAAC,IAAI,KAAK,QAAQ,IAAI,SAAS,CAAC,IAAI,KAAK,WAAW,EAAE;AACnH,EAAE,OAAO,CAAC,8EAA8E,GAAG,uEAAuE,GAAG,oFAAoF,GAAG,mFAAmF,GAAG,gEAAgE,CAAC,CAAC;AACpZ,CAAC;;ACxoBD,IAAMxO,WAAW,GAAG,SAAdA,WAAc,CAClBpK,KADkB,EAQlB6Y,MARkB;;;MAClB7Y;AAAAA,IAAAA,QAAQ;AACNkB,MAAAA,QAAQ,EAAE,EADJ;AAEN6W,MAAAA,aAAa,EAAE,EAFT;AAGN3E,MAAAA,YAAY,EAAE,CAHR;AAIN/I,MAAAA,MAAM,EAAE,EAJF;AAKNsN,MAAAA,iBAAiB,EAAE;AALb;;;MASA3Z,OAAkB6a,OAAlB7a;MAAMC,UAAY4a,OAAZ5a;;AACd,UAAQD,IAAR;AACE,SAAKI,aAAL;AACEuG,MAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACA,mCACK5E,KADL;AAEE+X,QAAAA,aAAa,wBAAO/X,KAAK,CAAC+X,aAAb,kCAA6B9Z,OAAO,CAAC6B,EAArC,IAA0C7B,OAA1C;AAFf;;AAIF,SAAKC,WAAL;AACEyG,MAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AACA,mCACK5E,KADL;AAEEkB,QAAAA,QAAQ,wBAAOlB,KAAK,CAACkB,QAAb,kCAAwBjD,OAAO,CAAC6B,EAAhC,IAAqC7B,OAArC;AAFV;;AAIF,SAAKE,qBAAL;AACE,mCACK6B,KADL;AAEEkB,QAAAA,QAAQ,wBAAOlB,KAAK,CAACkB,QAAb,kCAAwBjD,OAAO,CAAC6B,EAAhC,IAAqC7B,OAArC,aAFV;AAGE0Z,QAAAA,iBAAiB,YAAM3X,KAAK,CAAC2X,iBAAZ,GAA+B1Z,OAAO,CAAC6B,EAAvC;AAHnB;;AAKF,SAAKzB,WAAL;AACE,UAAMya,gBAAgB,gBAAa9Y,KAAK,CAAC+X,aAAnB,CAAtB;;AACA,aAAOe,gBAAgB,CAAC7a,OAAO,CAAC6B,EAAT,CAAvB;AACA,mCACKE,KADL;AAEE+X,QAAAA,aAAa,EAAEe,gBAFjB;AAGE5X,QAAAA,QAAQ,wBAAOlB,KAAK,CAACkB,QAAb,kCAAwBjD,OAAO,CAAC6B,EAAhC,IAAqC7B,OAArC;AAHV;;AAKF,SAAKK,YAAL;AACE,UAAMya,gBAAgB,gBAAa/Y,KAAK,CAAC+X,aAAnB,CAAtB;;AACA,aAAOgB,gBAAgB,CAAC9a,OAAO,CAAC6B,EAAT,CAAvB;AACA,mCACKE,KADL;AAEE+X,QAAAA,aAAa,EAAEgB;AAFjB;;AAIF,SAAKxa,sBAAL;AACE,mCACKyB,KADL;AAEEoT,QAAAA,YAAY,EAAEpT,KAAK,CAACoT,YAAN,GAAqB;AAFrC;;AAIF,SAAK5U,aAAL;AACE,UAAMwa,WAAW,gBAAahZ,KAAK,CAAC+X,aAAnB,CAAjB;;AACA,UAAMkB,WAAW,gBAAajZ,KAAK,CAACkB,QAAnB,CAAjB;;AACA,aAAO+X,WAAW,CAAChb,OAAD,CAAlB;AACA,aAAO+a,WAAW,CAAC/a,OAAD,CAAlB;AACA,UAAMib,OAAO,GAAG,UAAIlZ,KAAK,CAACqK,MAAV,EAAkB8O,MAAlB,CAAyB,UAAChZ,OAAD;AAAA,eAAaA,OAAO,KAAKlC,OAAzB;AAAA,OAAzB,CAAhB;AAEA,mCACK+B,KADL;AAEEkB,QAAAA,QAAQ,EAAE+X,WAFZ;AAGElB,QAAAA,aAAa,EAAEiB,WAHjB;AAIE3O,QAAAA,MAAM,EAAE6O;AAJV;;AAMF,SAAKza,uBAAL;AACE,mCACKuB,KADL;AAEEqK,QAAAA,MAAM,YAAMrK,KAAK,CAACqK,MAAZ,GAAoBpM,OAApB;AAFR;;AAIF,SAAKU,yBAAL;AACE,UAAMya,OAAO,GAAG,UAAIpZ,KAAK,CAACqK,MAAV,EAAkB8O,MAAlB,CAAyB,UAAChZ,OAAD;AAAA,eAAaA,OAAO,KAAKlC,OAAzB;AAAA,OAAzB,CAAhB;AAEA,mCACK+B,KADL;AAEEqK,QAAAA,MAAM,EAAE+O;AAFV;;AAIF;AACE,aAAOpZ,KAAP;AAjEJ;AAmED,CA9ED;;ACVA,IAAMgJ,WAAW,GAAG,SAAdA,WAAc,CAClBhJ,KADkB,EAMlB6Y,MANkB;MAClB7Y;AAAAA,IAAAA,QAAQ;AACNiJ,MAAAA,UAAU,EAAE,IADN;AAENoK,MAAAA,SAAS,EAAE,IAFL;AAGN/J,MAAAA,MAAM,EAAE;AAHF;;;MAOAtL,OAAkB6a,OAAlB7a;MAAMC,UAAY4a,OAAZ5a;;AACd,UAAQD,IAAR;AACE,SAAKH,WAAL;AACE,mCACKmC,KADL;AAEEiJ,QAAAA,UAAU,EAAE4P,MAAM,CAAC5a;AAFrB;;AAIF,SAAKL,aAAL;AACE,mCACKoC,KADL;AAEEqT,QAAAA,SAAS,EAAEpV;AAFb;;AAIF;AACE,aAAO+B,KAAP;AAZJ;AAcD,CAvBD;;ACKA,IAAMkD,MAAM,GAAG,SAATA,MAAS,CACXlD,KADW,EAOX6Y,MAPW;MACX7Y;AAAAA,IAAAA,QAAQ;AACJmR,MAAAA,UAAU,EAAE,EADR;AAEJC,MAAAA,WAAW,EAAE,EAFT;AAGJvN,MAAAA,kBAAkB,EAAE,SAHhB;AAIJiB,MAAAA,iBAAiB,EAAE;AAJf;;;MAQA9G,OAAkB6a,OAAlB7a;MAAMC,UAAY4a,OAAZ5a;;AACd,UAAQD,IAAR;AACI,SAAKoE,4BAAL;AACI,mCACOpC,KADP;AAEImR,QAAAA,UAAU,EAAElT;AAFhB;;AAIJ,SAAKoE,6BAAL;AACI,mCACOrC,KADP;AAEIoR,QAAAA,WAAW,EAAEnT;AAFjB;;AAIJ,SAAKuE,kBAAL;AACI,mCACOxC,KADP;AAEI6D,QAAAA,kBAAkB,EAAE5F;AAFxB;;AAIJ,SAAKwE,iBAAL;AACI,mCACOzC,KADP;AAEI8E,QAAAA,iBAAiB,EAAE7G;AAFvB;;AAIJ;AACI,aAAO+B,KAAP;AAtBR;AAwBH,CAlCD;;ACLA,IAAMkO,MAAM,GAAG,SAATA,MAAS,CAAClO,KAAD,EAIZ6Y,MAJY;MAAC7Y;AAAAA,IAAAA,QAAQ;AACtB0K,MAAAA,GAAG,EAAE,EADiB;AAEtBmB,MAAAA,QAAQ,EAAE,EAFY;AAGtBmJ,MAAAA,WAAW,EAAE;AAHS;;;AAKtB,UAAQ6D,MAAM,CAAC7a,IAAf;AACE,SAAK+P,UAAL;AACE,mCACK/N,KADL;AACYgV,QAAAA,WAAW,EAAE6D,MAAM,CAAC5a;AADhC;;AAGF,SAAK6P,eAAL;AACE,mCACK9N,KADL;AAEE0K,QAAAA,GAAG,EAAEmO,MAAM,CAAC5a,OAAP,CAAeyM,GAFtB;AAGEmB,QAAAA,QAAQ,EAAEgN,MAAM,CAAC5a,OAAP,CAAe4N;AAH3B;;AAKF;AACE,aAAO7L,KAAP;AAZJ;AAcD,CAnBD;;ACIA,IAAMqZ,QAAQ,GAAQC,eAAe,CAAC;AAAEtQ,EAAAA,WAAW,EAAXA,WAAF;AAAeoB,EAAAA,WAAW,EAAXA,WAAf;AAA4BlH,EAAAA,MAAM,EAANA,MAA5B;AAAoCgL,EAAAA,MAAM,EAANA;AAApC,CAAD,CAArC;;ACCA,IAAMqL,UAAU,GAAG,CAACC,KAAD,CAAnB;AAEA,IAAMC,aAAa,GAAG;AACpBrT,EAAAA,GAAG,EAAE,MADe;AAEpBsT,EAAAA,OAAO,EAAPA,OAFoB;AAGpBC,EAAAA,SAAS,EAAE,CAAC,QAAD;AAHS,CAAtB;AAMA,IAAMC,gBAAgB,GAAGC,2BAAc,CAACJ,aAAD,EAAgBJ,QAAhB,CAAvC;AAEA,AAAO,IAAMS,YAAY,GAAGC,WAAW,CACrCH,gBADqC,EAErCI,0CAAmB,CAACC,eAAe,MAAf,SAAmBV,UAAnB,CAAD,CAFkB,CAAhC;AAIP,AAAO,IAAMW,SAAS,GAAGC,yBAAY,CAACL,YAAD,CAA9B;;ICCMpW,UAAU,GAAGoW,YAAnB;AAEP,IAAaM,aAAa,GAAG,SAAhBA,aAAgB;MAC3BxK,YAAAA;wBACAS;MAAAA,gCAAQ;yBACRgK;MAAAA,kCAAS;8BACTrF;MAAAA,4CAAc;AAAEC,IAAAA,eAAe,EAAE;AAAnB;MACd1K,iBAAAA;MACAC,sBAAAA;iCACA8P;MAAAA,kDAAiB;AAGjB,SACE9L,mBAAA,CAAC+L,mBAAD;AAAUC,IAAAA,KAAK,EAAE9W;GAAjB,EACE8K,mBAAA,CAACiM,iBAAD;AAAaC,IAAAA,OAAO,EAAE;AAAMR,IAAAA,SAAS,EAAEA;GAAvC,EACE1L,mBAAA,CAACL,YAAD;AAAY5D,IAAAA,SAAS,EAAEA;AAAWC,IAAAA,cAAc,EAAEA;AAAgBwK,IAAAA,WAAW,EAAEA;GAA/E,EACExG,mBAAA,MAAA;AAAKgB,IAAAA,SAAS,EAAEC,MAAM,CAACC;AACrBU,IAAAA,KAAK,wBACAkK,cADA;AAEHjK,MAAAA,KAAK,GAAKA,KAAK,GAAG,GAAR,GAAc,GAAd,GAAoBA,KAAzB,QAFF;AAGHgK,MAAAA,MAAM,GAAKA,MAAM,GAAG,GAAT,GAAe,GAAf,GAAqBA,MAA1B;AAHH;GADP,EAME7L,mBAAA,CAACK,QAAD;AAAQe,IAAAA,IAAI,EAAEA;GAAd,CANF,EAOEpB,mBAAA,CAACyJ,CAAD,MAAA,CAPF,EAQEzJ,mBAAA,CAACsJ,EAAD;AAAe9C,IAAAA,WAAW,EAAEA;GAA5B,CARF,EASExG,mBAAA,QAAA;AAAO1O,IAAAA,EAAE,EAAC;AAAOkX,IAAAA,QAAQ;GAAzB,CATF,CADF,CADF,CADF,CADF;AAmBD,CA7BM;;;;;"}